var RF=Object.defineProperty;var DF=(t,e,n)=>e in t?RF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var By=(t,e,n)=>DF(t,typeof e!="symbol"?e+"":e,n);function jF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sO={exports:{}},Mm={},oO={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=Symbol.for("react.element"),MF=Symbol.for("react.portal"),LF=Symbol.for("react.fragment"),VF=Symbol.for("react.strict_mode"),$F=Symbol.for("react.profiler"),FF=Symbol.for("react.provider"),UF=Symbol.for("react.context"),BF=Symbol.for("react.forward_ref"),zF=Symbol.for("react.suspense"),WF=Symbol.for("react.memo"),qF=Symbol.for("react.lazy"),FS=Symbol.iterator;function HF(t){return t===null||typeof t!="object"?null:(t=FS&&t[FS]||t["@@iterator"],typeof t=="function"?t:null)}var lO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uO=Object.assign,cO={};function ru(t,e,n){this.props=t,this.context=e,this.refs=cO,this.updater=n||lO}ru.prototype.isReactComponent={};ru.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ru.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dO(){}dO.prototype=ru.prototype;function Nx(t,e,n){this.props=t,this.context=e,this.refs=cO,this.updater=n||lO}var Rx=Nx.prototype=new dO;Rx.constructor=Nx;uO(Rx,ru.prototype);Rx.isPureReactComponent=!0;var US=Array.isArray,fO=Object.prototype.hasOwnProperty,Dx={current:null},hO={key:!0,ref:!0,__self:!0,__source:!0};function pO(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)fO.call(e,r)&&!hO.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Id,type:t,key:a,ref:s,props:i,_owner:Dx.current}}function KF(t,e){return{$$typeof:Id,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Id}function GF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var BS=/\/+/g;function zy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GF(""+t.key):e.toString(36)}function Ah(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Id:case MF:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+zy(s,0):r,US(i)?(n="",t!=null&&(n=t.replace(BS,"$&/")+"/"),Ah(i,e,n,"",function(u){return u})):i!=null&&(jx(i)&&(i=KF(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(BS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",US(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+zy(a,o);s+=Ah(a,e,n,l,i)}else if(l=HF(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+zy(a,o++),s+=Ah(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Df(t,e,n){if(t==null)return t;var r=[],i=0;return Ah(t,r,"","",function(a){return e.call(n,a,i++)}),r}function YF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $n={current:null},Ch={transition:null},QF={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:Ch,ReactCurrentOwner:Dx};function mO(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Df,forEach:function(t,e,n){Df(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Df(t,function(){e++}),e},toArray:function(t){return Df(t,function(e){return e})||[]},only:function(t){if(!jx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ru;Pe.Fragment=LF;Pe.Profiler=$F;Pe.PureComponent=Nx;Pe.StrictMode=VF;Pe.Suspense=zF;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QF;Pe.act=mO;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uO({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Dx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)fO.call(e,l)&&!hO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Id,type:t.type,key:i,ref:a,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:UF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FF,_context:t},t.Consumer=t};Pe.createElement=pO;Pe.createFactory=function(t){var e=pO.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:BF,render:t}};Pe.isValidElement=jx;Pe.lazy=function(t){return{$$typeof:qF,_payload:{_status:-1,_result:t},_init:YF}};Pe.memo=function(t,e){return{$$typeof:WF,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Ch.transition;Ch.transition={};try{t()}finally{Ch.transition=e}};Pe.unstable_act=mO;Pe.useCallback=function(t,e){return $n.current.useCallback(t,e)};Pe.useContext=function(t){return $n.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return $n.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return $n.current.useEffect(t,e)};Pe.useId=function(){return $n.current.useId()};Pe.useImperativeHandle=function(t,e,n){return $n.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return $n.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return $n.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return $n.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return $n.current.useReducer(t,e,n)};Pe.useRef=function(t){return $n.current.useRef(t)};Pe.useState=function(t){return $n.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return $n.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return $n.current.useTransition()};Pe.version="18.3.1";oO.exports=Pe;var _=oO.exports;const wn=ua(_),XF=jF({__proto__:null,default:wn},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JF=_,ZF=Symbol.for("react.element"),e3=Symbol.for("react.fragment"),t3=Object.prototype.hasOwnProperty,n3=JF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r3={key:!0,ref:!0,__self:!0,__source:!0};function gO(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)t3.call(e,r)&&!r3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZF,type:t,key:a,ref:s,props:i,_owner:n3.current}}Mm.Fragment=e3;Mm.jsx=gO;Mm.jsxs=gO;sO.exports=Mm;var g=sO.exports,yO={exports:{}},yr={},vO={exports:{}},wO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var re=L.length;L.push(z);e:for(;0<re;){var de=re-1>>>1,X=L[de];if(0<i(X,z))L[de]=z,L[re]=X,re=de;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],re=L.pop();if(re!==z){L[0]=re;e:for(var de=0,X=L.length,Ee=X>>>1;de<Ee;){var Tt=2*(de+1)-1,G=L[Tt],Oe=Tt+1,Te=L[Oe];if(0>i(G,re))Oe<X&&0>i(Te,G)?(L[de]=Te,L[Oe]=re,de=Oe):(L[de]=G,L[Tt]=re,de=Tt);else if(Oe<X&&0>i(Te,re))L[de]=Te,L[Oe]=re,de=Oe;else break e}}return z}function i(L,z){var re=L.sortIndex-z.sortIndex;return re!==0?re:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function A(L){if(y=!1,E(L),!m)if(n(l)!==null)m=!0,Z(k);else{var z=n(u);z!==null&&ne(A,z.startTime-L)}}function k(L,z){m=!1,y&&(y=!1,b(P),P=-1),p=!0;var re=h;try{for(E(z),d=n(l);d!==null&&(!(d.expirationTime>z)||L&&!N());){var de=d.callback;if(typeof de=="function"){d.callback=null,h=d.priorityLevel;var X=de(d.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),E(z)}else r(l);d=n(l)}if(d!==null)var Ee=!0;else{var Tt=n(u);Tt!==null&&ne(A,Tt.startTime-z),Ee=!1}return Ee}finally{d=null,h=re,p=!1}}var D=!1,T=null,P=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function j(){if(T!==null){var L=t.unstable_now();I=L;var z=!0;try{z=T(!0,L)}finally{z?O():(D=!1,T=null)}}else D=!1}var O;if(typeof v=="function")O=function(){v(j)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=j,O=function(){B.postMessage(null)}}else O=function(){w(j,0)};function Z(L){T=L,D||(D=!0,O())}function ne(L,z){P=w(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Z(k))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var re=h;h=z;try{return L()}finally{h=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=h;h=L;try{return z()}finally{h=re}},t.unstable_scheduleCallback=function(L,z,re){var de=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,L={id:c++,callback:z,priorityLevel:L,startTime:re,expirationTime:X,sortIndex:-1},re>de?(L.sortIndex=re,e(u,L),n(l)===null&&L===n(u)&&(y?(b(P),P=-1):y=!0,ne(A,re-de))):(L.sortIndex=X,e(l,L),m||p||(m=!0,Z(k))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var z=h;return function(){var re=h;h=z;try{return L.apply(this,arguments)}finally{h=re}}}})(wO);vO.exports=wO;var i3=vO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3=_,hr=i3;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xO=new Set,$c={};function Co(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for($c[t]=e,t=0;t<e.length;t++)xO.add(e[t])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o0=Object.prototype.hasOwnProperty,s3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zS={},WS={};function o3(t){return o0.call(WS,t)?!0:o0.call(zS,t)?!1:s3.test(t)?WS[t]=!0:(zS[t]=!0,!1)}function l3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function u3(t,e,n,r){if(e===null||typeof e>"u"||l3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fn(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new Fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new Fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new Fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new Fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new Fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new Fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new Fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new Fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new Fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mx=/[\-:]([a-z])/g;function Lx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mx,Lx);cn[e]=new Fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mx,Lx);cn[e]=new Fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mx,Lx);cn[e]=new Fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vx(t,e,n,r){var i=cn.hasOwnProperty(e)?cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u3(e,n,i,r)&&(n=null),r||i===null?o3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ca=a3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jf=Symbol.for("react.element"),il=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),bO=Symbol.for("react.context"),Fx=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),c0=Symbol.for("react.suspense_list"),Ux=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),EO=Symbol.for("react.offscreen"),qS=Symbol.iterator;function Fu(t){return t===null||typeof t!="object"?null:(t=qS&&t[qS]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,Wy;function uc(t){if(Wy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wy=e&&e[1]||""}return`
`+Wy+t}var qy=!1;function Hy(t,e){if(!t||qy)return"";qy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{qy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function c3(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=Hy(t.type,!1),t;case 11:return t=Hy(t.type.render,!1),t;case 1:return t=Hy(t.type,!0),t;default:return""}}function d0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case al:return"Fragment";case il:return"Portal";case l0:return"Profiler";case $x:return"StrictMode";case u0:return"Suspense";case c0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bO:return(t.displayName||"Context")+".Consumer";case _O:return(t._context.displayName||"Context")+".Provider";case Fx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ux:return e=t.displayName||null,e!==null?e:d0(t.type)||"Memo";case Pa:e=t._payload,t=t._init;try{return d0(t(e))}catch{}}return null}function d3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d0(e);case 8:return e===$x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f3(t){var e=SO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mf(t){t._valueTracker||(t._valueTracker=f3(t))}function PO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ep(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function f0(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function HS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TO(t,e){e=e.checked,e!=null&&Vx(t,"checked",e,!1)}function h0(t,e){TO(t,e);var n=es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?p0(t,e.type,n):e.hasOwnProperty("defaultValue")&&p0(t,e.type,es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function p0(t,e,n){(e!=="number"||ep(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cc=Array.isArray;function yl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+es(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function m0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function GS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(cc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:es(n)}}function AO(t,e){var n=es(e.value),r=es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function YS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lf,IO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lf=Lf||document.createElement("div"),Lf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h3=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(t){h3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vc[e]=vc[t]})});function kO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vc.hasOwnProperty(t)&&vc[t]?(""+e).trim():e+"px"}function OO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var p3=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y0(t,e){if(e){if(p3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function v0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w0=null;function Bx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var x0=null,vl=null,wl=null;function QS(t){if(t=Nd(t)){if(typeof x0!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Um(e),x0(t.stateNode,t.type,e))}}function NO(t){vl?wl?wl.push(t):wl=[t]:vl=t}function RO(){if(vl){var t=vl,e=wl;if(wl=vl=null,QS(t),e)for(t=0;t<e.length;t++)QS(e[t])}}function DO(t,e){return t(e)}function jO(){}var Ky=!1;function MO(t,e,n){if(Ky)return t(e,n);Ky=!0;try{return DO(t,e,n)}finally{Ky=!1,(vl!==null||wl!==null)&&(jO(),RO())}}function Uc(t,e){var n=t.stateNode;if(n===null)return null;var r=Um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var _0=!1;if(Yi)try{var Uu={};Object.defineProperty(Uu,"passive",{get:function(){_0=!0}}),window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{_0=!1}function m3(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wc=!1,tp=null,np=!1,b0=null,g3={onError:function(t){wc=!0,tp=t}};function y3(t,e,n,r,i,a,s,o,l){wc=!1,tp=null,m3.apply(g3,arguments)}function v3(t,e,n,r,i,a,s,o,l){if(y3.apply(this,arguments),wc){if(wc){var u=tp;wc=!1,tp=null}else throw Error(Q(198));np||(np=!0,b0=u)}}function Io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XS(t){if(Io(t)!==t)throw Error(Q(188))}function w3(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return XS(i),t;if(a===r)return XS(i),e;a=a.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function VO(t){return t=w3(t),t!==null?$O(t):null}function $O(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$O(t);if(e!==null)return e;t=t.sibling}return null}var FO=hr.unstable_scheduleCallback,JS=hr.unstable_cancelCallback,x3=hr.unstable_shouldYield,_3=hr.unstable_requestPaint,bt=hr.unstable_now,b3=hr.unstable_getCurrentPriorityLevel,zx=hr.unstable_ImmediatePriority,UO=hr.unstable_UserBlockingPriority,rp=hr.unstable_NormalPriority,E3=hr.unstable_LowPriority,BO=hr.unstable_IdlePriority,Lm=null,pi=null;function S3(t){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(Lm,t,void 0,(t.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:A3,P3=Math.log,T3=Math.LN2;function A3(t){return t>>>=0,t===0?32:31-(P3(t)/T3|0)|0}var Vf=64,$f=4194304;function dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ip(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=dc(o):(a&=s,a!==0&&(r=dc(a)))}else s=n&~i,s!==0?r=dc(s):a!==0&&(r=dc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yr(e),i=1<<n,r|=t[n],e&=~i;return r}function C3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Yr(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=C3(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function E0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zO(){var t=Vf;return Vf<<=1,!(Vf&4194240)&&(Vf=64),t}function Gy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yr(e),t[e]=n}function k3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Wx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function WO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qO,qx,HO,KO,GO,S0=!1,Ff=[],Fa=null,Ua=null,Ba=null,Bc=new Map,zc=new Map,Ia=[],O3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZS(t,e){switch(t){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(e.pointerId)}}function Bu(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Nd(e),e!==null&&qx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function N3(t,e,n,r,i){switch(e){case"focusin":return Fa=Bu(Fa,t,e,n,r,i),!0;case"dragenter":return Ua=Bu(Ua,t,e,n,r,i),!0;case"mouseover":return Ba=Bu(Ba,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Bc.set(a,Bu(Bc.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,zc.set(a,Bu(zc.get(a)||null,t,e,n,r,i)),!0}return!1}function YO(t){var e=zs(t.target);if(e!==null){var n=Io(e);if(n!==null){if(e=n.tag,e===13){if(e=LO(n),e!==null){t.blockedOn=e,GO(t.priority,function(){HO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=P0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);w0=r,n.target.dispatchEvent(r),w0=null}else return e=Nd(n),e!==null&&qx(e),t.blockedOn=n,!1;e.shift()}return!0}function eP(t,e,n){Ih(t)&&n.delete(e)}function R3(){S0=!1,Fa!==null&&Ih(Fa)&&(Fa=null),Ua!==null&&Ih(Ua)&&(Ua=null),Ba!==null&&Ih(Ba)&&(Ba=null),Bc.forEach(eP),zc.forEach(eP)}function zu(t,e){t.blockedOn===e&&(t.blockedOn=null,S0||(S0=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,R3)))}function Wc(t){function e(i){return zu(i,t)}if(0<Ff.length){zu(Ff[0],t);for(var n=1;n<Ff.length;n++){var r=Ff[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fa!==null&&zu(Fa,t),Ua!==null&&zu(Ua,t),Ba!==null&&zu(Ba,t),Bc.forEach(e),zc.forEach(e),n=0;n<Ia.length;n++)r=Ia[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ia.length&&(n=Ia[0],n.blockedOn===null);)YO(n),n.blockedOn===null&&Ia.shift()}var xl=ca.ReactCurrentBatchConfig,ap=!0;function D3(t,e,n,r){var i=ze,a=xl.transition;xl.transition=null;try{ze=1,Hx(t,e,n,r)}finally{ze=i,xl.transition=a}}function j3(t,e,n,r){var i=ze,a=xl.transition;xl.transition=null;try{ze=4,Hx(t,e,n,r)}finally{ze=i,xl.transition=a}}function Hx(t,e,n,r){if(ap){var i=P0(t,e,n,r);if(i===null)iv(t,e,r,sp,n),ZS(t,r);else if(N3(i,t,e,n,r))r.stopPropagation();else if(ZS(t,r),e&4&&-1<O3.indexOf(t)){for(;i!==null;){var a=Nd(i);if(a!==null&&qO(a),a=P0(t,e,n,r),a===null&&iv(t,e,r,sp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else iv(t,e,r,null,n)}}var sp=null;function P0(t,e,n,r){if(sp=null,t=Bx(r),t=zs(t),t!==null)if(e=Io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sp=t,null}function QO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b3()){case zx:return 1;case UO:return 4;case rp:case E3:return 16;case BO:return 536870912;default:return 16}default:return 16}}var La=null,Kx=null,kh=null;function XO(){if(kh)return kh;var t,e=Kx,n=e.length,r,i="value"in La?La.value:La.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return kh=i.slice(t,1<r?1-r:void 0)}function Oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uf(){return!0}function tP(){return!1}function vr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uf:tP,this.isPropagationStopped=tP,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),e}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gx=vr(iu),Od=dt({},iu,{view:0,detail:0}),M3=vr(Od),Yy,Qy,Wu,Vm=dt({},Od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wu&&(Wu&&t.type==="mousemove"?(Yy=t.screenX-Wu.screenX,Qy=t.screenY-Wu.screenY):Qy=Yy=0,Wu=t),Yy)},movementY:function(t){return"movementY"in t?t.movementY:Qy}}),nP=vr(Vm),L3=dt({},Vm,{dataTransfer:0}),V3=vr(L3),$3=dt({},Od,{relatedTarget:0}),Xy=vr($3),F3=dt({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),U3=vr(F3),B3=dt({},iu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z3=vr(B3),W3=dt({},iu,{data:0}),rP=vr(W3),q3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K3[t])?!!e[t]:!1}function Yx(){return G3}var Y3=dt({},Od,{key:function(t){if(t.key){var e=q3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yx,charCode:function(t){return t.type==="keypress"?Oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q3=vr(Y3),X3=dt({},Vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iP=vr(X3),J3=dt({},Od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yx}),Z3=vr(J3),e6=dt({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),t6=vr(e6),n6=dt({},Vm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r6=vr(n6),i6=[9,13,27,32],Qx=Yi&&"CompositionEvent"in window,xc=null;Yi&&"documentMode"in document&&(xc=document.documentMode);var a6=Yi&&"TextEvent"in window&&!xc,JO=Yi&&(!Qx||xc&&8<xc&&11>=xc),aP=" ",sP=!1;function ZO(t,e){switch(t){case"keyup":return i6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sl=!1;function s6(t,e){switch(t){case"compositionend":return eN(e);case"keypress":return e.which!==32?null:(sP=!0,aP);case"textInput":return t=e.data,t===aP&&sP?null:t;default:return null}}function o6(t,e){if(sl)return t==="compositionend"||!Qx&&ZO(t,e)?(t=XO(),kh=Kx=La=null,sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JO&&e.locale!=="ko"?null:e.data;default:return null}}var l6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l6[t.type]:e==="textarea"}function tN(t,e,n,r){NO(r),e=op(e,"onChange"),0<e.length&&(n=new Gx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _c=null,qc=null;function u6(t){fN(t,0)}function $m(t){var e=ul(t);if(PO(e))return t}function c6(t,e){if(t==="change")return e}var nN=!1;if(Yi){var Jy;if(Yi){var Zy="oninput"in document;if(!Zy){var lP=document.createElement("div");lP.setAttribute("oninput","return;"),Zy=typeof lP.oninput=="function"}Jy=Zy}else Jy=!1;nN=Jy&&(!document.documentMode||9<document.documentMode)}function uP(){_c&&(_c.detachEvent("onpropertychange",rN),qc=_c=null)}function rN(t){if(t.propertyName==="value"&&$m(qc)){var e=[];tN(e,qc,t,Bx(t)),MO(u6,e)}}function d6(t,e,n){t==="focusin"?(uP(),_c=e,qc=n,_c.attachEvent("onpropertychange",rN)):t==="focusout"&&uP()}function f6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $m(qc)}function h6(t,e){if(t==="click")return $m(e)}function p6(t,e){if(t==="input"||t==="change")return $m(e)}function m6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jr=typeof Object.is=="function"?Object.is:m6;function Hc(t,e){if(Jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!o0.call(e,i)||!Jr(t[i],e[i]))return!1}return!0}function cP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dP(t,e){var n=cP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cP(n)}}function iN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aN(){for(var t=window,e=ep();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ep(t.document)}return e}function Xx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g6(t){var e=aN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iN(n.ownerDocument.documentElement,n)){if(r!==null&&Xx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=dP(n,a);var s=dP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y6=Yi&&"documentMode"in document&&11>=document.documentMode,ol=null,T0=null,bc=null,A0=!1;function fP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A0||ol==null||ol!==ep(r)||(r=ol,"selectionStart"in r&&Xx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bc&&Hc(bc,r)||(bc=r,r=op(T0,"onSelect"),0<r.length&&(e=new Gx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ol)))}function Bf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ll={animationend:Bf("Animation","AnimationEnd"),animationiteration:Bf("Animation","AnimationIteration"),animationstart:Bf("Animation","AnimationStart"),transitionend:Bf("Transition","TransitionEnd")},ev={},sN={};Yi&&(sN=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Fm(t){if(ev[t])return ev[t];if(!ll[t])return t;var e=ll[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sN)return ev[t]=e[n];return t}var oN=Fm("animationend"),lN=Fm("animationiteration"),uN=Fm("animationstart"),cN=Fm("transitionend"),dN=new Map,hP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(t,e){dN.set(t,e),Co(e,[t])}for(var tv=0;tv<hP.length;tv++){var nv=hP[tv],v6=nv.toLowerCase(),w6=nv[0].toUpperCase()+nv.slice(1);ms(v6,"on"+w6)}ms(oN,"onAnimationEnd");ms(lN,"onAnimationIteration");ms(uN,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(cN,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x6=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function pP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,v3(r,e,void 0,t),t.currentTarget=null}function fN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;pP(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;pP(i,o,u),a=l}}}if(np)throw t=b0,np=!1,b0=null,t}function Je(t,e){var n=e[N0];n===void 0&&(n=e[N0]=new Set);var r=t+"__bubble";n.has(r)||(hN(e,t,2,!1),n.add(r))}function rv(t,e,n){var r=0;e&&(r|=4),hN(n,t,r,e)}var zf="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){if(!t[zf]){t[zf]=!0,xO.forEach(function(n){n!=="selectionchange"&&(x6.has(n)||rv(n,!1,t),rv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zf]||(e[zf]=!0,rv("selectionchange",!1,e))}}function hN(t,e,n,r){switch(QO(e)){case 1:var i=D3;break;case 4:i=j3;break;default:i=Hx}n=i.bind(null,e,n,t),i=void 0,!_0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function iv(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=zs(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}MO(function(){var u=a,c=Bx(n),d=[];e:{var h=dN.get(t);if(h!==void 0){var p=Gx,m=t;switch(t){case"keypress":if(Oh(n)===0)break e;case"keydown":case"keyup":p=Q3;break;case"focusin":m="focus",p=Xy;break;case"focusout":m="blur",p=Xy;break;case"beforeblur":case"afterblur":p=Xy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=V3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Z3;break;case oN:case lN:case uN:p=U3;break;case cN:p=t6;break;case"scroll":p=M3;break;case"wheel":p=r6;break;case"copy":case"cut":case"paste":p=z3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iP}var y=(e&4)!==0,w=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,E;v!==null;){E=v;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,b!==null&&(A=Uc(v,b),A!=null&&y.push(Gc(v,A,E)))),w)break;v=v.return}0<y.length&&(h=new p(h,m,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==w0&&(m=n.relatedTarget||n.fromElement)&&(zs(m)||m[Qi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?zs(m):null,m!==null&&(w=Io(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=nP,A="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=iP,A="onPointerLeave",b="onPointerEnter",v="pointer"),w=p==null?h:ul(p),E=m==null?h:ul(m),h=new y(A,v+"leave",p,n,c),h.target=w,h.relatedTarget=E,A=null,zs(c)===u&&(y=new y(b,v+"enter",m,n,c),y.target=E,y.relatedTarget=w,A=y),w=A,p&&m)t:{for(y=p,b=m,v=0,E=y;E;E=qo(E))v++;for(E=0,A=b;A;A=qo(A))E++;for(;0<v-E;)y=qo(y),v--;for(;0<E-v;)b=qo(b),E--;for(;v--;){if(y===b||b!==null&&y===b.alternate)break t;y=qo(y),b=qo(b)}y=null}else y=null;p!==null&&mP(d,h,p,y,!1),m!==null&&w!==null&&mP(d,w,m,y,!0)}}e:{if(h=u?ul(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=c6;else if(oP(h))if(nN)k=p6;else{k=f6;var D=d6}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=h6);if(k&&(k=k(t,u))){tN(d,k,n,c);break e}D&&D(t,h,u),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&p0(h,"number",h.value)}switch(D=u?ul(u):window,t){case"focusin":(oP(D)||D.contentEditable==="true")&&(ol=D,T0=u,bc=null);break;case"focusout":bc=T0=ol=null;break;case"mousedown":A0=!0;break;case"contextmenu":case"mouseup":case"dragend":A0=!1,fP(d,n,c);break;case"selectionchange":if(y6)break;case"keydown":case"keyup":fP(d,n,c)}var T;if(Qx)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else sl?ZO(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(JO&&n.locale!=="ko"&&(sl||P!=="onCompositionStart"?P==="onCompositionEnd"&&sl&&(T=XO()):(La=c,Kx="value"in La?La.value:La.textContent,sl=!0)),D=op(u,P),0<D.length&&(P=new rP(P,t,null,n,c),d.push({event:P,listeners:D}),T?P.data=T:(T=eN(n),T!==null&&(P.data=T)))),(T=a6?s6(t,n):o6(t,n))&&(u=op(u,"onBeforeInput"),0<u.length&&(c=new rP("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}fN(d,e)})}function Gc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function op(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Uc(t,n),a!=null&&r.unshift(Gc(t,a,i)),a=Uc(t,e),a!=null&&r.push(Gc(t,a,i))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mP(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Uc(n,a),l!=null&&s.unshift(Gc(n,l,o))):i||(l=Uc(n,a),l!=null&&s.push(Gc(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var _6=/\r\n?/g,b6=/\u0000|\uFFFD/g;function gP(t){return(typeof t=="string"?t:""+t).replace(_6,`
`).replace(b6,"")}function Wf(t,e,n){if(e=gP(e),gP(t)!==e&&n)throw Error(Q(425))}function lp(){}var C0=null,I0=null;function k0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O0=typeof setTimeout=="function"?setTimeout:void 0,E6=typeof clearTimeout=="function"?clearTimeout:void 0,yP=typeof Promise=="function"?Promise:void 0,S6=typeof queueMicrotask=="function"?queueMicrotask:typeof yP<"u"?function(t){return yP.resolve(null).then(t).catch(P6)}:O0;function P6(t){setTimeout(function(){throw t})}function av(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wc(e)}function za(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var au=Math.random().toString(36).slice(2),oi="__reactFiber$"+au,Yc="__reactProps$"+au,Qi="__reactContainer$"+au,N0="__reactEvents$"+au,T6="__reactListeners$"+au,A6="__reactHandles$"+au;function zs(t){var e=t[oi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qi]||n[oi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vP(t);t!==null;){if(n=t[oi])return n;t=vP(t)}return e}t=n,n=t.parentNode}return null}function Nd(t){return t=t[oi]||t[Qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Um(t){return t[Yc]||null}var R0=[],cl=-1;function gs(t){return{current:t}}function et(t){0>cl||(t.current=R0[cl],R0[cl]=null,cl--)}function Ye(t,e){cl++,R0[cl]=t.current,t.current=e}var ts={},An=gs(ts),Gn=gs(!1),uo=ts;function Dl(t,e){var n=t.type.contextTypes;if(!n)return ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yn(t){return t=t.childContextTypes,t!=null}function up(){et(Gn),et(An)}function wP(t,e,n){if(An.current!==ts)throw Error(Q(168));Ye(An,e),Ye(Gn,n)}function pN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,d3(t)||"Unknown",i));return dt({},n,r)}function cp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ts,uo=An.current,Ye(An,t),Ye(Gn,Gn.current),!0}function xP(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=pN(t,e,uo),r.__reactInternalMemoizedMergedChildContext=t,et(Gn),et(An),Ye(An,t)):et(Gn),Ye(Gn,n)}var ji=null,Bm=!1,sv=!1;function mN(t){ji===null?ji=[t]:ji.push(t)}function C6(t){Bm=!0,mN(t)}function ys(){if(!sv&&ji!==null){sv=!0;var t=0,e=ze;try{var n=ji;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ji=null,Bm=!1}catch(i){throw ji!==null&&(ji=ji.slice(t+1)),FO(zx,ys),i}finally{ze=e,sv=!1}}return null}var dl=[],fl=0,dp=null,fp=0,Er=[],Sr=0,co=null,$i=1,Fi="";function Ms(t,e){dl[fl++]=fp,dl[fl++]=dp,dp=t,fp=e}function gN(t,e,n){Er[Sr++]=$i,Er[Sr++]=Fi,Er[Sr++]=co,co=t;var r=$i;t=Fi;var i=32-Yr(r)-1;r&=~(1<<i),n+=1;var a=32-Yr(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-Yr(e)+i|n<<i|r,Fi=a+t}else $i=1<<a|n<<i|r,Fi=t}function Jx(t){t.return!==null&&(Ms(t,1),gN(t,1,0))}function Zx(t){for(;t===dp;)dp=dl[--fl],dl[fl]=null,fp=dl[--fl],dl[fl]=null;for(;t===co;)co=Er[--Sr],Er[Sr]=null,Fi=Er[--Sr],Er[Sr]=null,$i=Er[--Sr],Er[Sr]=null}var dr=null,lr=null,rt=!1,zr=null;function yN(t,e){var n=Cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _P(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,lr=za(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=co!==null?{id:$i,overflow:Fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,lr=null,!0):!1;default:return!1}}function D0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function j0(t){if(rt){var e=lr;if(e){var n=e;if(!_P(t,e)){if(D0(t))throw Error(Q(418));e=za(n.nextSibling);var r=dr;e&&_P(t,e)?yN(r,n):(t.flags=t.flags&-4097|2,rt=!1,dr=t)}}else{if(D0(t))throw Error(Q(418));t.flags=t.flags&-4097|2,rt=!1,dr=t}}}function bP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function qf(t){if(t!==dr)return!1;if(!rt)return bP(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!k0(t.type,t.memoizedProps)),e&&(e=lr)){if(D0(t))throw vN(),Error(Q(418));for(;e;)yN(t,e),e=za(e.nextSibling)}if(bP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lr=za(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=dr?za(t.stateNode.nextSibling):null;return!0}function vN(){for(var t=lr;t;)t=za(t.nextSibling)}function jl(){lr=dr=null,rt=!1}function e_(t){zr===null?zr=[t]:zr.push(t)}var I6=ca.ReactCurrentBatchConfig;function qu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Hf(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function EP(t){var e=t._init;return e(t._payload)}function wN(t){function e(b,v){if(t){var E=b.deletions;E===null?(b.deletions=[v],b.flags|=16):E.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=Ka(b,v),b.index=0,b.sibling=null,b}function a(b,v,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<v?(b.flags|=2,v):E):(b.flags|=2,v)):(b.flags|=1048576,v)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,v,E,A){return v===null||v.tag!==6?(v=hv(E,b.mode,A),v.return=b,v):(v=i(v,E),v.return=b,v)}function l(b,v,E,A){var k=E.type;return k===al?c(b,v,E.props.children,A,E.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pa&&EP(k)===v.type)?(A=i(v,E.props),A.ref=qu(b,v,E),A.return=b,A):(A=Vh(E.type,E.key,E.props,null,b.mode,A),A.ref=qu(b,v,E),A.return=b,A)}function u(b,v,E,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=pv(E,b.mode,A),v.return=b,v):(v=i(v,E.children||[]),v.return=b,v)}function c(b,v,E,A,k){return v===null||v.tag!==7?(v=eo(E,b.mode,A,k),v.return=b,v):(v=i(v,E),v.return=b,v)}function d(b,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hv(""+v,b.mode,E),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jf:return E=Vh(v.type,v.key,v.props,null,b.mode,E),E.ref=qu(b,null,v),E.return=b,E;case il:return v=pv(v,b.mode,E),v.return=b,v;case Pa:var A=v._init;return d(b,A(v._payload),E)}if(cc(v)||Fu(v))return v=eo(v,b.mode,E,null),v.return=b,v;Hf(b,v)}return null}function h(b,v,E,A){var k=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:o(b,v,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case jf:return E.key===k?l(b,v,E,A):null;case il:return E.key===k?u(b,v,E,A):null;case Pa:return k=E._init,h(b,v,k(E._payload),A)}if(cc(E)||Fu(E))return k!==null?null:c(b,v,E,A,null);Hf(b,E)}return null}function p(b,v,E,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(E)||null,o(v,b,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case jf:return b=b.get(A.key===null?E:A.key)||null,l(v,b,A,k);case il:return b=b.get(A.key===null?E:A.key)||null,u(v,b,A,k);case Pa:var D=A._init;return p(b,v,E,D(A._payload),k)}if(cc(A)||Fu(A))return b=b.get(E)||null,c(v,b,A,k,null);Hf(v,A)}return null}function m(b,v,E,A){for(var k=null,D=null,T=v,P=v=0,C=null;T!==null&&P<E.length;P++){T.index>P?(C=T,T=null):C=T.sibling;var I=h(b,T,E[P],A);if(I===null){T===null&&(T=C);break}t&&T&&I.alternate===null&&e(b,T),v=a(I,v,P),D===null?k=I:D.sibling=I,D=I,T=C}if(P===E.length)return n(b,T),rt&&Ms(b,P),k;if(T===null){for(;P<E.length;P++)T=d(b,E[P],A),T!==null&&(v=a(T,v,P),D===null?k=T:D.sibling=T,D=T);return rt&&Ms(b,P),k}for(T=r(b,T);P<E.length;P++)C=p(T,b,P,E[P],A),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?P:C.key),v=a(C,v,P),D===null?k=C:D.sibling=C,D=C);return t&&T.forEach(function(N){return e(b,N)}),rt&&Ms(b,P),k}function y(b,v,E,A){var k=Fu(E);if(typeof k!="function")throw Error(Q(150));if(E=k.call(E),E==null)throw Error(Q(151));for(var D=k=null,T=v,P=v=0,C=null,I=E.next();T!==null&&!I.done;P++,I=E.next()){T.index>P?(C=T,T=null):C=T.sibling;var N=h(b,T,I.value,A);if(N===null){T===null&&(T=C);break}t&&T&&N.alternate===null&&e(b,T),v=a(N,v,P),D===null?k=N:D.sibling=N,D=N,T=C}if(I.done)return n(b,T),rt&&Ms(b,P),k;if(T===null){for(;!I.done;P++,I=E.next())I=d(b,I.value,A),I!==null&&(v=a(I,v,P),D===null?k=I:D.sibling=I,D=I);return rt&&Ms(b,P),k}for(T=r(b,T);!I.done;P++,I=E.next())I=p(T,b,P,I.value,A),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?P:I.key),v=a(I,v,P),D===null?k=I:D.sibling=I,D=I);return t&&T.forEach(function(j){return e(b,j)}),rt&&Ms(b,P),k}function w(b,v,E,A){if(typeof E=="object"&&E!==null&&E.type===al&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case jf:e:{for(var k=E.key,D=v;D!==null;){if(D.key===k){if(k=E.type,k===al){if(D.tag===7){n(b,D.sibling),v=i(D,E.props.children),v.return=b,b=v;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pa&&EP(k)===D.type){n(b,D.sibling),v=i(D,E.props),v.ref=qu(b,D,E),v.return=b,b=v;break e}n(b,D);break}else e(b,D);D=D.sibling}E.type===al?(v=eo(E.props.children,b.mode,A,E.key),v.return=b,b=v):(A=Vh(E.type,E.key,E.props,null,b.mode,A),A.ref=qu(b,v,E),A.return=b,b=A)}return s(b);case il:e:{for(D=E.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(b,v.sibling),v=i(v,E.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=pv(E,b.mode,A),v.return=b,b=v}return s(b);case Pa:return D=E._init,w(b,v,D(E._payload),A)}if(cc(E))return m(b,v,E,A);if(Fu(E))return y(b,v,E,A);Hf(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,E),v.return=b,b=v):(n(b,v),v=hv(E,b.mode,A),v.return=b,b=v),s(b)):n(b,v)}return w}var Ml=wN(!0),xN=wN(!1),hp=gs(null),pp=null,hl=null,t_=null;function n_(){t_=hl=pp=null}function r_(t){var e=hp.current;et(hp),t._currentValue=e}function M0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _l(t,e){pp=t,t_=hl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hn=!0),t.firstContext=null)}function Or(t){var e=t._currentValue;if(t_!==t)if(t={context:t,memoizedValue:e,next:null},hl===null){if(pp===null)throw Error(Q(308));hl=t,pp.dependencies={lanes:0,firstContext:t}}else hl=hl.next=t;return e}var Ws=null;function i_(t){Ws===null?Ws=[t]:Ws.push(t)}function _N(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,i_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xi(t,r)}function Xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ta=!1;function a_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xi(t,n)}return i=r.interleaved,i===null?(e.next=e,i_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xi(t,n)}function Nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wx(t,n)}}function SP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mp(t,e,n,r){var i=t.updateQueue;Ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=dt({},d,h);break e;case 2:Ta=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ho|=s,t.lanes=s,t.memoizedState=d}}function PP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var Rd={},mi=gs(Rd),Qc=gs(Rd),Xc=gs(Rd);function qs(t){if(t===Rd)throw Error(Q(174));return t}function s_(t,e){switch(Ye(Xc,e),Ye(Qc,t),Ye(mi,Rd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g0(e,t)}et(mi),Ye(mi,e)}function Ll(){et(mi),et(Qc),et(Xc)}function EN(t){qs(Xc.current);var e=qs(mi.current),n=g0(e,t.type);e!==n&&(Ye(Qc,t),Ye(mi,n))}function o_(t){Qc.current===t&&(et(mi),et(Qc))}var ut=gs(0);function gp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ov=[];function l_(){for(var t=0;t<ov.length;t++)ov[t]._workInProgressVersionPrimary=null;ov.length=0}var Rh=ca.ReactCurrentDispatcher,lv=ca.ReactCurrentBatchConfig,fo=0,ct=null,Lt=null,Qt=null,yp=!1,Ec=!1,Jc=0,k6=0;function gn(){throw Error(Q(321))}function u_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jr(t[n],e[n]))return!1;return!0}function c_(t,e,n,r,i,a){if(fo=a,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rh.current=t===null||t.memoizedState===null?D6:j6,t=n(r,i),Ec){a=0;do{if(Ec=!1,Jc=0,25<=a)throw Error(Q(301));a+=1,Qt=Lt=null,e.updateQueue=null,Rh.current=M6,t=n(r,i)}while(Ec)}if(Rh.current=vp,e=Lt!==null&&Lt.next!==null,fo=0,Qt=Lt=ct=null,yp=!1,e)throw Error(Q(300));return t}function d_(){var t=Jc!==0;return Jc=0,t}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?ct.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Nr(){if(Lt===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Qt===null?ct.memoizedState:Qt.next;if(e!==null)Qt=e,Lt=t;else{if(t===null)throw Error(Q(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Qt===null?ct.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Zc(t,e){return typeof e=="function"?e(t):e}function uv(t){var e=Nr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((fo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,ct.lanes|=c,ho|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Jr(r,e.memoizedState)||(Hn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,ct.lanes|=a,ho|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cv(t){var e=Nr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Jr(a,e.memoizedState)||(Hn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function SN(){}function PN(t,e){var n=ct,r=Nr(),i=e(),a=!Jr(r.memoizedState,i);if(a&&(r.memoizedState=i,Hn=!0),r=r.queue,f_(CN.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Qt!==null&&Qt.memoizedState.tag&1){if(n.flags|=2048,ed(9,AN.bind(null,n,r,i,e),void 0,null),Zt===null)throw Error(Q(349));fo&30||TN(n,e,i)}return i}function TN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AN(t,e,n,r){e.value=n,e.getSnapshot=r,IN(e)&&kN(t)}function CN(t,e,n){return n(function(){IN(e)&&kN(t)})}function IN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jr(t,n)}catch{return!0}}function kN(t){var e=Xi(t,1);e!==null&&Qr(e,t,1,-1)}function TP(t){var e=ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:t},e.queue=t,t=t.dispatch=R6.bind(null,ct,t),[e.memoizedState,t]}function ed(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ON(){return Nr().memoizedState}function Dh(t,e,n,r){var i=ii();ct.flags|=t,i.memoizedState=ed(1|e,n,void 0,r===void 0?null:r)}function zm(t,e,n,r){var i=Nr();r=r===void 0?null:r;var a=void 0;if(Lt!==null){var s=Lt.memoizedState;if(a=s.destroy,r!==null&&u_(r,s.deps)){i.memoizedState=ed(e,n,a,r);return}}ct.flags|=t,i.memoizedState=ed(1|e,n,a,r)}function AP(t,e){return Dh(8390656,8,t,e)}function f_(t,e){return zm(2048,8,t,e)}function NN(t,e){return zm(4,2,t,e)}function RN(t,e){return zm(4,4,t,e)}function DN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jN(t,e,n){return n=n!=null?n.concat([t]):null,zm(4,4,DN.bind(null,e,t),n)}function h_(){}function MN(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LN(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VN(t,e,n){return fo&21?(Jr(n,e)||(n=zO(),ct.lanes|=n,ho|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hn=!0),t.memoizedState=n)}function O6(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=lv.transition;lv.transition={};try{t(!1),e()}finally{ze=n,lv.transition=r}}function $N(){return Nr().memoizedState}function N6(t,e,n){var r=Ha(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FN(t))UN(e,n);else if(n=_N(t,e,n,r),n!==null){var i=Ln();Qr(n,t,r,i),BN(n,e,r)}}function R6(t,e,n){var r=Ha(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FN(t))UN(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Jr(o,s)){var l=e.interleaved;l===null?(i.next=i,i_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_N(t,e,i,r),n!==null&&(i=Ln(),Qr(n,t,r,i),BN(n,e,r))}}function FN(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function UN(t,e){Ec=yp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wx(t,n)}}var vp={readContext:Or,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},D6={readContext:Or,useCallback:function(t,e){return ii().memoizedState=[t,e===void 0?null:e],t},useContext:Or,useEffect:AP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dh(4194308,4,DN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dh(4,2,t,e)},useMemo:function(t,e){var n=ii();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ii();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=N6.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=ii();return t={current:t},e.memoizedState=t},useState:TP,useDebugValue:h_,useDeferredValue:function(t){return ii().memoizedState=t},useTransition:function(){var t=TP(!1),e=t[0];return t=O6.bind(null,t[1]),ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,i=ii();if(rt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Zt===null)throw Error(Q(349));fo&30||TN(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,AP(CN.bind(null,r,a,t),[t]),r.flags|=2048,ed(9,AN.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ii(),e=Zt.identifierPrefix;if(rt){var n=Fi,r=$i;n=(r&~(1<<32-Yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=k6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},j6={readContext:Or,useCallback:MN,useContext:Or,useEffect:f_,useImperativeHandle:jN,useInsertionEffect:NN,useLayoutEffect:RN,useMemo:LN,useReducer:uv,useRef:ON,useState:function(){return uv(Zc)},useDebugValue:h_,useDeferredValue:function(t){var e=Nr();return VN(e,Lt.memoizedState,t)},useTransition:function(){var t=uv(Zc)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:SN,useSyncExternalStore:PN,useId:$N,unstable_isNewReconciler:!1},M6={readContext:Or,useCallback:MN,useContext:Or,useEffect:f_,useImperativeHandle:jN,useInsertionEffect:NN,useLayoutEffect:RN,useMemo:LN,useReducer:cv,useRef:ON,useState:function(){return cv(Zc)},useDebugValue:h_,useDeferredValue:function(t){var e=Nr();return Lt===null?e.memoizedState=t:VN(e,Lt.memoizedState,t)},useTransition:function(){var t=cv(Zc)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:SN,useSyncExternalStore:PN,useId:$N,unstable_isNewReconciler:!1};function Ur(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function L0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wm={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=Ha(t),a=qi(r,i);a.payload=e,n!=null&&(a.callback=n),e=Wa(t,a,i),e!==null&&(Qr(e,t,i,r),Nh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=Ha(t),a=qi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Wa(t,a,i),e!==null&&(Qr(e,t,i,r),Nh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=Ha(t),i=qi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wa(t,i,r),e!==null&&(Qr(e,t,r,n),Nh(e,t,r))}};function CP(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Hc(n,r)||!Hc(i,a):!0}function zN(t,e,n){var r=!1,i=ts,a=e.contextType;return typeof a=="object"&&a!==null?a=Or(a):(i=Yn(e)?uo:An.current,r=e.contextTypes,a=(r=r!=null)?Dl(t,i):ts),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function IP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wm.enqueueReplaceState(e,e.state,null)}function V0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},a_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Or(a):(a=Yn(e)?uo:An.current,i.context=Dl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(L0(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wm.enqueueReplaceState(i,i.state,null),mp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vl(t,e){try{var n="",r=e;do n+=c3(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function dv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L6=typeof WeakMap=="function"?WeakMap:Map;function WN(t,e,n){n=qi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xp||(xp=!0,Y0=r),$0(t,e)},n}function qN(t,e,n){n=qi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){$0(t,e),typeof r!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function kP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=X6.bind(null,t,e,n),e.then(t,t))}function OP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function NP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qi(-1,1),e.tag=2,Wa(n,e,1))),n.lanes|=1),t)}var V6=ca.ReactCurrentOwner,Hn=!1;function Rn(t,e,n,r){e.child=t===null?xN(e,null,n,r):Ml(e,t.child,n,r)}function RP(t,e,n,r,i){n=n.render;var a=e.ref;return _l(e,i),r=c_(t,e,n,r,a,i),n=d_(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(rt&&n&&Jx(e),e.flags|=1,Rn(t,e,r,i),e.child)}function DP(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!__(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,HN(t,e,a,r,i)):(t=Vh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hc,n(s,r)&&t.ref===e.ref)return Ji(t,e,i)}return e.flags|=1,t=Ka(a,r),t.ref=e.ref,t.return=e,e.child=t}function HN(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Hc(a,r)&&t.ref===e.ref)if(Hn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Hn=!0);else return e.lanes=t.lanes,Ji(t,e,i)}return F0(t,e,n,r,i)}function KN(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ml,ir),ir|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(ml,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ye(ml,ir),ir|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ye(ml,ir),ir|=r;return Rn(t,e,i,n),e.child}function GN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function F0(t,e,n,r,i){var a=Yn(n)?uo:An.current;return a=Dl(e,a),_l(e,i),n=c_(t,e,n,r,a,i),r=d_(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(rt&&r&&Jx(e),e.flags|=1,Rn(t,e,n,i),e.child)}function jP(t,e,n,r,i){if(Yn(n)){var a=!0;cp(e)}else a=!1;if(_l(e,i),e.stateNode===null)jh(t,e),zN(e,n,r),V0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=Yn(n)?uo:An.current,u=Dl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&IP(e,s,r,u),Ta=!1;var h=e.memoizedState;s.state=h,mp(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Gn.current||Ta?(typeof c=="function"&&(L0(e,n,c,r),l=e.memoizedState),(o=Ta||CP(e,n,o,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,bN(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ur(e.type,o),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Or(l):(l=Yn(n)?uo:An.current,l=Dl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&IP(e,s,r,l),Ta=!1,h=e.memoizedState,s.state=h,mp(e,r,s,i);var m=e.memoizedState;o!==d||h!==m||Gn.current||Ta?(typeof p=="function"&&(L0(e,n,p,r),m=e.memoizedState),(u=Ta||CP(e,n,u,r,h,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return U0(t,e,n,r,a,i)}function U0(t,e,n,r,i,a){GN(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&xP(e,n,!1),Ji(t,e,a);r=e.stateNode,V6.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ml(e,t.child,null,a),e.child=Ml(e,null,o,a)):Rn(t,e,o,a),e.memoizedState=r.state,i&&xP(e,n,!0),e.child}function YN(t){var e=t.stateNode;e.pendingContext?wP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wP(t,e.context,!1),s_(t,e.containerInfo)}function MP(t,e,n,r,i){return jl(),e_(i),e.flags|=256,Rn(t,e,n,r),e.child}var B0={dehydrated:null,treeContext:null,retryLane:0};function z0(t){return{baseLanes:t,cachePool:null,transitions:null}}function QN(t,e,n){var r=e.pendingProps,i=ut.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(ut,i&1),t===null)return j0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Km(s,r,0,null),t=eo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=z0(n),e.memoizedState=B0,t):p_(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return $6(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ka(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ka(o,a):(a=eo(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?z0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=B0,r}return a=t.child,t=a.sibling,r=Ka(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function p_(t,e){return e=Km({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kf(t,e,n,r){return r!==null&&e_(r),Ml(e,t.child,null,n),t=p_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $6(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=dv(Error(Q(422))),Kf(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Km({mode:"visible",children:r.children},i,0,null),a=eo(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Ml(e,t.child,null,s),e.child.memoizedState=z0(s),e.memoizedState=B0,a);if(!(e.mode&1))return Kf(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Q(419)),r=dv(a,r,void 0),Kf(t,e,s,r)}if(o=(s&t.childLanes)!==0,Hn||o){if(r=Zt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Xi(t,i),Qr(r,t,i,-1))}return x_(),r=dv(Error(Q(421))),Kf(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J6.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,lr=za(i.nextSibling),dr=e,rt=!0,zr=null,t!==null&&(Er[Sr++]=$i,Er[Sr++]=Fi,Er[Sr++]=co,$i=t.id,Fi=t.overflow,co=e),e=p_(e,r.children),e.flags|=4096,e)}function LP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M0(t.return,e,n)}function fv(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function XN(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Rn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LP(t,n,e);else if(t.tag===19)LP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fv(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fv(e,!0,n,null,a);break;case"together":fv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ho|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ka(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ka(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F6(t,e,n){switch(e.tag){case 3:YN(e),jl();break;case 5:EN(e);break;case 1:Yn(e.type)&&cp(e);break;case 4:s_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(hp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?QN(t,e,n):(Ye(ut,ut.current&1),t=Ji(t,e,n),t!==null?t.sibling:null);Ye(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,KN(t,e,n)}return Ji(t,e,n)}var JN,W0,ZN,eR;JN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};W0=function(){};ZN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qs(mi.current);var a=null;switch(n){case"input":i=f0(t,i),r=f0(t,r),a=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),a=[];break;case"textarea":i=m0(t,i),r=m0(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lp)}y0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($c.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($c.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};eR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hu(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U6(t,e,n){var r=e.pendingProps;switch(Zx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return Yn(e.type)&&up(),yn(e),null;case 3:return r=e.stateNode,Ll(),et(Gn),et(An),l_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zr!==null&&(J0(zr),zr=null))),W0(t,e),yn(e),null;case 5:o_(e);var i=qs(Xc.current);if(n=e.type,t!==null&&e.stateNode!=null)ZN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return yn(e),null}if(t=qs(mi.current),qf(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[oi]=e,r[Yc]=a,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<fc.length;i++)Je(fc[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":HS(r,a),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Je("invalid",r);break;case"textarea":GS(r,a),Je("invalid",r)}y0(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Wf(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Wf(r.textContent,o,t),i=["children",""+o]):$c.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Je("scroll",r)}switch(n){case"input":Mf(r),KS(r,a,!0);break;case"textarea":Mf(r),YS(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=lp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[oi]=e,t[Yc]=r,JN(t,e,!1,!1),e.stateNode=t;e:{switch(s=v0(n,r),n){case"dialog":Je("cancel",t),Je("close",t),i=r;break;case"iframe":case"object":case"embed":Je("load",t),i=r;break;case"video":case"audio":for(i=0;i<fc.length;i++)Je(fc[i],t);i=r;break;case"source":Je("error",t),i=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),i=r;break;case"details":Je("toggle",t),i=r;break;case"input":HS(t,r),i=f0(t,r),Je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),Je("invalid",t);break;case"textarea":GS(t,r),i=m0(t,r),Je("invalid",t);break;default:i=r}y0(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?OO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IO(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fc(t,l):typeof l=="number"&&Fc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($c.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Je("scroll",t):l!=null&&Vx(t,a,l,s))}switch(n){case"input":Mf(t),KS(t,r,!1);break;case"textarea":Mf(t),YS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+es(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?yl(t,!!r.multiple,a,!1):r.defaultValue!=null&&yl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(t&&e.stateNode!=null)eR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=qs(Xc.current),qs(mi.current),qf(e)){if(r=e.stateNode,n=e.memoizedProps,r[oi]=e,(a=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:Wf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wf(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oi]=e,e.stateNode=r}return yn(e),null;case 13:if(et(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&lr!==null&&e.mode&1&&!(e.flags&128))vN(),jl(),e.flags|=98560,a=!1;else if(a=qf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Q(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[oi]=e}else jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),a=!1}else zr!==null&&(J0(zr),zr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?$t===0&&($t=3):x_())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return Ll(),W0(t,e),t===null&&Kc(e.stateNode.containerInfo),yn(e),null;case 10:return r_(e.type._context),yn(e),null;case 17:return Yn(e.type)&&up(),yn(e),null;case 19:if(et(ut),a=e.memoizedState,a===null)return yn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Hu(a,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=gp(t),s!==null){for(e.flags|=128,Hu(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(ut,ut.current&1|2),e.child}t=t.sibling}a.tail!==null&&bt()>$l&&(e.flags|=128,r=!0,Hu(a,!1),e.lanes=4194304)}else{if(!r)if(t=gp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!rt)return yn(e),null}else 2*bt()-a.renderingStartTime>$l&&n!==1073741824&&(e.flags|=128,r=!0,Hu(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=bt(),e.sibling=null,n=ut.current,Ye(ut,r?n&1|2:n&1),e):(yn(e),null);case 22:case 23:return w_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ir&1073741824&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function B6(t,e){switch(Zx(e),e.tag){case 1:return Yn(e.type)&&up(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ll(),et(Gn),et(An),l_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return o_(e),null;case 13:if(et(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ut),null;case 4:return Ll(),null;case 10:return r_(e.type._context),null;case 22:case 23:return w_(),null;case 24:return null;default:return null}}var Gf=!1,bn=!1,z6=typeof WeakSet=="function"?WeakSet:Set,ue=null;function pl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function q0(t,e,n){try{n()}catch(r){gt(t,e,r)}}var VP=!1;function W6(t,e){if(C0=ap,t=aN(),Xx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(o=s),h===a&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(I0={focusedElem:t,selectionRange:n},ap=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,w=m.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ur(e.type,y),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(A){gt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return m=VP,VP=!1,m}function Sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&q0(e,n,a)}i=i.next}while(i!==r)}}function qm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function H0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tR(t){var e=t.alternate;e!==null&&(t.alternate=null,tR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[oi],delete e[Yc],delete e[N0],delete e[T6],delete e[A6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nR(t){return t.tag===5||t.tag===3||t.tag===4}function $P(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function K0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lp));else if(r!==4&&(t=t.child,t!==null))for(K0(t,e,n),t=t.sibling;t!==null;)K0(t,e,n),t=t.sibling}function G0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(G0(t,e,n),t=t.sibling;t!==null;)G0(t,e,n),t=t.sibling}var an=null,Br=!1;function _a(t,e,n){for(n=n.child;n!==null;)rR(t,e,n),n=n.sibling}function rR(t,e,n){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(Lm,n)}catch{}switch(n.tag){case 5:bn||pl(n,e);case 6:var r=an,i=Br;an=null,_a(t,e,n),an=r,Br=i,an!==null&&(Br?(t=an,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):an.removeChild(n.stateNode));break;case 18:an!==null&&(Br?(t=an,n=n.stateNode,t.nodeType===8?av(t.parentNode,n):t.nodeType===1&&av(t,n),Wc(t)):av(an,n.stateNode));break;case 4:r=an,i=Br,an=n.stateNode.containerInfo,Br=!0,_a(t,e,n),an=r,Br=i;break;case 0:case 11:case 14:case 15:if(!bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&q0(n,e,s),i=i.next}while(i!==r)}_a(t,e,n);break;case 1:if(!bn&&(pl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){gt(n,e,o)}_a(t,e,n);break;case 21:_a(t,e,n);break;case 22:n.mode&1?(bn=(r=bn)||n.memoizedState!==null,_a(t,e,n),bn=r):_a(t,e,n);break;default:_a(t,e,n)}}function FP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new z6),e.forEach(function(r){var i=Z6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:an=o.stateNode,Br=!1;break e;case 3:an=o.stateNode.containerInfo,Br=!0;break e;case 4:an=o.stateNode.containerInfo,Br=!0;break e}o=o.return}if(an===null)throw Error(Q(160));rR(a,s,i),an=null,Br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iR(e,t),e=e.sibling}function iR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fr(e,t),ri(t),r&4){try{Sc(3,t,t.return),qm(3,t)}catch(y){gt(t,t.return,y)}try{Sc(5,t,t.return)}catch(y){gt(t,t.return,y)}}break;case 1:Fr(e,t),ri(t),r&512&&n!==null&&pl(n,n.return);break;case 5:if(Fr(e,t),ri(t),r&512&&n!==null&&pl(n,n.return),t.flags&32){var i=t.stateNode;try{Fc(i,"")}catch(y){gt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&TO(i,a),v0(o,s);var u=v0(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?OO(i,d):c==="dangerouslySetInnerHTML"?IO(i,d):c==="children"?Fc(i,d):Vx(i,c,d,u)}switch(o){case"input":h0(i,a);break;case"textarea":AO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?yl(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?yl(i,!!a.multiple,a.defaultValue,!0):yl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Yc]=a}catch(y){gt(t,t.return,y)}}break;case 6:if(Fr(e,t),ri(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){gt(t,t.return,y)}}break;case 3:if(Fr(e,t),ri(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wc(e.containerInfo)}catch(y){gt(t,t.return,y)}break;case 4:Fr(e,t),ri(t);break;case 13:Fr(e,t),ri(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(y_=bt())),r&4&&FP(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(bn=(u=bn)||c,Fr(e,t),bn=u):Fr(e,t),ri(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ue=t,c=t.child;c!==null;){for(d=ue=c;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:Sc(4,h,h.return);break;case 1:pl(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){gt(r,n,y)}}break;case 5:pl(h,h.return);break;case 22:if(h.memoizedState!==null){BP(d);continue}}p!==null?(p.return=h,ue=p):BP(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=kO("display",s))}catch(y){gt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){gt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fr(e,t),ri(t),r&4&&FP(t);break;case 21:break;default:Fr(e,t),ri(t)}}function ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nR(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fc(i,""),r.flags&=-33);var a=$P(t);G0(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=$P(t);K0(t,o,s);break;default:throw Error(Q(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q6(t,e,n){ue=t,aR(t)}function aR(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Gf;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||bn;o=Gf;var u=bn;if(Gf=s,(bn=l)&&!u)for(ue=i;ue!==null;)s=ue,l=s.child,s.tag===22&&s.memoizedState!==null?zP(i):l!==null?(l.return=s,ue=l):zP(i);for(;a!==null;)ue=a,aR(a),a=a.sibling;ue=i,Gf=o,bn=u}UP(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ue=a):UP(t)}}function UP(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||qm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&PP(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PP(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Wc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}bn||e.flags&512&&H0(e)}catch(h){gt(e,e.return,h)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function BP(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function zP(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qm(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var a=e.return;try{H0(e)}catch(l){gt(e,a,l)}break;case 5:var s=e.return;try{H0(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ue=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ue=o;break}ue=e.return}}var H6=Math.ceil,wp=ca.ReactCurrentDispatcher,m_=ca.ReactCurrentOwner,kr=ca.ReactCurrentBatchConfig,je=0,Zt=null,Nt=null,un=0,ir=0,ml=gs(0),$t=0,td=null,ho=0,Hm=0,g_=0,Pc=null,Wn=null,y_=0,$l=1/0,Di=null,xp=!1,Y0=null,qa=null,Yf=!1,Va=null,_p=0,Tc=0,Q0=null,Mh=-1,Lh=0;function Ln(){return je&6?bt():Mh!==-1?Mh:Mh=bt()}function Ha(t){return t.mode&1?je&2&&un!==0?un&-un:I6.transition!==null?(Lh===0&&(Lh=zO()),Lh):(t=ze,t!==0||(t=window.event,t=t===void 0?16:QO(t.type)),t):1}function Qr(t,e,n,r){if(50<Tc)throw Tc=0,Q0=null,Error(Q(185));kd(t,n,r),(!(je&2)||t!==Zt)&&(t===Zt&&(!(je&2)&&(Hm|=n),$t===4&&ka(t,un)),Qn(t,r),n===1&&je===0&&!(e.mode&1)&&($l=bt()+500,Bm&&ys()))}function Qn(t,e){var n=t.callbackNode;I3(t,e);var r=ip(t,t===Zt?un:0);if(r===0)n!==null&&JS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&JS(n),e===1)t.tag===0?C6(WP.bind(null,t)):mN(WP.bind(null,t)),S6(function(){!(je&6)&&ys()}),n=null;else{switch(WO(r)){case 1:n=zx;break;case 4:n=UO;break;case 16:n=rp;break;case 536870912:n=BO;break;default:n=rp}n=hR(n,sR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sR(t,e){if(Mh=-1,Lh=0,je&6)throw Error(Q(327));var n=t.callbackNode;if(bl()&&t.callbackNode!==n)return null;var r=ip(t,t===Zt?un:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bp(t,r);else{e=r;var i=je;je|=2;var a=lR();(Zt!==t||un!==e)&&(Di=null,$l=bt()+500,Zs(t,e));do try{Y6();break}catch(o){oR(t,o)}while(!0);n_(),wp.current=a,je=i,Nt!==null?e=0:(Zt=null,un=0,e=$t)}if(e!==0){if(e===2&&(i=E0(t),i!==0&&(r=i,e=X0(t,i))),e===1)throw n=td,Zs(t,0),ka(t,r),Qn(t,bt()),n;if(e===6)ka(t,r);else{if(i=t.current.alternate,!(r&30)&&!K6(i)&&(e=bp(t,r),e===2&&(a=E0(t),a!==0&&(r=a,e=X0(t,a))),e===1))throw n=td,Zs(t,0),ka(t,r),Qn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Ls(t,Wn,Di);break;case 3:if(ka(t,r),(r&130023424)===r&&(e=y_+500-bt(),10<e)){if(ip(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=O0(Ls.bind(null,t,Wn,Di),e);break}Ls(t,Wn,Di);break;case 4:if(ka(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Yr(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H6(r/1960))-r,10<r){t.timeoutHandle=O0(Ls.bind(null,t,Wn,Di),r);break}Ls(t,Wn,Di);break;case 5:Ls(t,Wn,Di);break;default:throw Error(Q(329))}}}return Qn(t,bt()),t.callbackNode===n?sR.bind(null,t):null}function X0(t,e){var n=Pc;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=bp(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&J0(e)),t}function J0(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function K6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Jr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ka(t,e){for(e&=~g_,e&=~Hm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yr(e),r=1<<n;t[n]=-1,e&=~r}}function WP(t){if(je&6)throw Error(Q(327));bl();var e=ip(t,0);if(!(e&1))return Qn(t,bt()),null;var n=bp(t,e);if(t.tag!==0&&n===2){var r=E0(t);r!==0&&(e=r,n=X0(t,r))}if(n===1)throw n=td,Zs(t,0),ka(t,e),Qn(t,bt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,Wn,Di),Qn(t,bt()),null}function v_(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&($l=bt()+500,Bm&&ys())}}function po(t){Va!==null&&Va.tag===0&&!(je&6)&&bl();var e=je;je|=1;var n=kr.transition,r=ze;try{if(kr.transition=null,ze=1,t)return t()}finally{ze=r,kr.transition=n,je=e,!(je&6)&&ys()}}function w_(){ir=ml.current,et(ml)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,E6(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(Zx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&up();break;case 3:Ll(),et(Gn),et(An),l_();break;case 5:o_(r);break;case 4:Ll();break;case 13:et(ut);break;case 19:et(ut);break;case 10:r_(r.type._context);break;case 22:case 23:w_()}n=n.return}if(Zt=t,Nt=t=Ka(t.current,null),un=ir=e,$t=0,td=null,g_=Hm=ho=0,Wn=Pc=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Ws=null}return t}function oR(t,e){do{var n=Nt;try{if(n_(),Rh.current=vp,yp){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yp=!1}if(fo=0,Qt=Lt=ct=null,Ec=!1,Jc=0,m_.current=null,n===null||n.return===null){$t=1,td=e,Nt=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=un,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=OP(s);if(p!==null){p.flags&=-257,NP(p,s,o,a,e),p.mode&1&&kP(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){kP(a,u,e),x_();break e}l=Error(Q(426))}}else if(rt&&o.mode&1){var w=OP(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),NP(w,s,o,a,e),e_(Vl(l,o));break e}}a=l=Vl(l,o),$t!==4&&($t=2),Pc===null?Pc=[a]:Pc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=WN(a,l,e);SP(a,b);break e;case 1:o=l;var v=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(qa===null||!qa.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=qN(a,o,e);SP(a,A);break e}}a=a.return}while(a!==null)}cR(n)}catch(k){e=k,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function lR(){var t=wp.current;return wp.current=vp,t===null?vp:t}function x_(){($t===0||$t===3||$t===2)&&($t=4),Zt===null||!(ho&268435455)&&!(Hm&268435455)||ka(Zt,un)}function bp(t,e){var n=je;je|=2;var r=lR();(Zt!==t||un!==e)&&(Di=null,Zs(t,e));do try{G6();break}catch(i){oR(t,i)}while(!0);if(n_(),je=n,wp.current=r,Nt!==null)throw Error(Q(261));return Zt=null,un=0,$t}function G6(){for(;Nt!==null;)uR(Nt)}function Y6(){for(;Nt!==null&&!x3();)uR(Nt)}function uR(t){var e=fR(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?cR(t):Nt=e,m_.current=null}function cR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=B6(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Nt=null;return}}else if(n=U6(n,e,ir),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);$t===0&&($t=5)}function Ls(t,e,n){var r=ze,i=kr.transition;try{kr.transition=null,ze=1,Q6(t,e,n,r)}finally{kr.transition=i,ze=r}return null}function Q6(t,e,n,r){do bl();while(Va!==null);if(je&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(k3(t,a),t===Zt&&(Nt=Zt=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yf||(Yf=!0,hR(rp,function(){return bl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=kr.transition,kr.transition=null;var s=ze;ze=1;var o=je;je|=4,m_.current=null,W6(t,n),iR(n,t),g6(I0),ap=!!C0,I0=C0=null,t.current=n,q6(n),_3(),je=o,ze=s,kr.transition=a}else t.current=n;if(Yf&&(Yf=!1,Va=t,_p=i),a=t.pendingLanes,a===0&&(qa=null),S3(n.stateNode),Qn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xp)throw xp=!1,t=Y0,Y0=null,t;return _p&1&&t.tag!==0&&bl(),a=t.pendingLanes,a&1?t===Q0?Tc++:(Tc=0,Q0=t):Tc=0,ys(),null}function bl(){if(Va!==null){var t=WO(_p),e=kr.transition,n=ze;try{if(kr.transition=null,ze=16>t?16:t,Va===null)var r=!1;else{if(t=Va,Va=null,_p=0,je&6)throw Error(Q(331));var i=je;for(je|=4,ue=t.current;ue!==null;){var a=ue,s=a.child;if(ue.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ue=u;ue!==null;){var c=ue;switch(c.tag){case 0:case 11:case 15:Sc(8,c,a)}var d=c.child;if(d!==null)d.return=c,ue=d;else for(;ue!==null;){c=ue;var h=c.sibling,p=c.return;if(tR(c),c===u){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var m=a.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ue=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ue=s;else e:for(;ue!==null;){if(a=ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,ue=b;break e}ue=a.return}}var v=t.current;for(ue=v;ue!==null;){s=ue;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ue=E;else e:for(s=v;ue!==null;){if(o=ue,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:qm(9,o)}}catch(k){gt(o,o.return,k)}if(o===s){ue=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,ue=A;break e}ue=o.return}}if(je=i,ys(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(Lm,t)}catch{}r=!0}return r}finally{ze=n,kr.transition=e}}return!1}function qP(t,e,n){e=Vl(n,e),e=WN(t,e,1),t=Wa(t,e,1),e=Ln(),t!==null&&(kd(t,1,e),Qn(t,e))}function gt(t,e,n){if(t.tag===3)qP(t,t,n);else for(;e!==null;){if(e.tag===3){qP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qa===null||!qa.has(r))){t=Vl(n,t),t=qN(e,t,1),e=Wa(e,t,1),t=Ln(),e!==null&&(kd(e,1,t),Qn(e,t));break}}e=e.return}}function X6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(un&n)===n&&($t===4||$t===3&&(un&130023424)===un&&500>bt()-y_?Zs(t,0):g_|=n),Qn(t,e)}function dR(t,e){e===0&&(t.mode&1?(e=$f,$f<<=1,!($f&130023424)&&($f=4194304)):e=1);var n=Ln();t=Xi(t,e),t!==null&&(kd(t,e,n),Qn(t,n))}function J6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dR(t,n)}function Z6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),dR(t,n)}var fR;fR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hn=!1,F6(t,e,n);Hn=!!(t.flags&131072)}else Hn=!1,rt&&e.flags&1048576&&gN(e,fp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jh(t,e),t=e.pendingProps;var i=Dl(e,An.current);_l(e,n),i=c_(null,e,r,t,i,n);var a=d_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yn(r)?(a=!0,cp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,a_(e),i.updater=Wm,e.stateNode=i,i._reactInternals=e,V0(e,r,t,n),e=U0(null,e,r,!0,a,n)):(e.tag=0,rt&&a&&Jx(e),Rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tU(r),t=Ur(r,t),i){case 0:e=F0(null,e,r,t,n);break e;case 1:e=jP(null,e,r,t,n);break e;case 11:e=RP(null,e,r,t,n);break e;case 14:e=DP(null,e,r,Ur(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ur(r,i),F0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ur(r,i),jP(t,e,r,i,n);case 3:e:{if(YN(e),t===null)throw Error(Q(387));r=e.pendingProps,a=e.memoizedState,i=a.element,bN(t,e),mp(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Vl(Error(Q(423)),e),e=MP(t,e,r,n,i);break e}else if(r!==i){i=Vl(Error(Q(424)),e),e=MP(t,e,r,n,i);break e}else for(lr=za(e.stateNode.containerInfo.firstChild),dr=e,rt=!0,zr=null,n=xN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jl(),r===i){e=Ji(t,e,n);break e}Rn(t,e,r,n)}e=e.child}return e;case 5:return EN(e),t===null&&j0(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,k0(r,i)?s=null:a!==null&&k0(r,a)&&(e.flags|=32),GN(t,e),Rn(t,e,s,n),e.child;case 6:return t===null&&j0(e),null;case 13:return QN(t,e,n);case 4:return s_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ml(e,null,r,n):Rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ur(r,i),RP(t,e,r,i,n);case 7:return Rn(t,e,e.pendingProps,n),e.child;case 8:return Rn(t,e,e.pendingProps.children,n),e.child;case 12:return Rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ye(hp,r._currentValue),r._currentValue=s,a!==null)if(Jr(a.value,s)){if(a.children===i.children&&!Gn.current){e=Ji(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=qi(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),M0(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Q(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),M0(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_l(e,n),i=Or(i),r=r(i),e.flags|=1,Rn(t,e,r,n),e.child;case 14:return r=e.type,i=Ur(r,e.pendingProps),i=Ur(r.type,i),DP(t,e,r,i,n);case 15:return HN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ur(r,i),jh(t,e),e.tag=1,Yn(r)?(t=!0,cp(e)):t=!1,_l(e,n),zN(e,r,i),V0(e,r,i,n),U0(null,e,r,!0,t,n);case 19:return XN(t,e,n);case 22:return KN(t,e,n)}throw Error(Q(156,e.tag))};function hR(t,e){return FO(t,e)}function eU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,e,n,r){return new eU(t,e,n,r)}function __(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tU(t){if(typeof t=="function")return __(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fx)return 11;if(t===Ux)return 14}return 2}function Ka(t,e){var n=t.alternate;return n===null?(n=Cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vh(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")__(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case al:return eo(n.children,i,a,e);case $x:s=8,i|=8;break;case l0:return t=Cr(12,n,e,i|2),t.elementType=l0,t.lanes=a,t;case u0:return t=Cr(13,n,e,i),t.elementType=u0,t.lanes=a,t;case c0:return t=Cr(19,n,e,i),t.elementType=c0,t.lanes=a,t;case EO:return Km(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _O:s=10;break e;case bO:s=9;break e;case Fx:s=11;break e;case Ux:s=14;break e;case Pa:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Cr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function eo(t,e,n,r){return t=Cr(7,t,r,e),t.lanes=n,t}function Km(t,e,n,r){return t=Cr(22,t,r,e),t.elementType=EO,t.lanes=n,t.stateNode={isHidden:!1},t}function hv(t,e,n){return t=Cr(6,t,null,e),t.lanes=n,t}function pv(t,e,n){return e=Cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gy(0),this.expirationTimes=Gy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function b_(t,e,n,r,i,a,s,o,l){return t=new nU(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Cr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},a_(a),t}function rU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pR(t){if(!t)return ts;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Yn(n))return pN(t,n,e)}return e}function mR(t,e,n,r,i,a,s,o,l){return t=b_(n,r,!0,t,i,a,s,o,l),t.context=pR(null),n=t.current,r=Ln(),i=Ha(n),a=qi(r,i),a.callback=e??null,Wa(n,a,i),t.current.lanes=i,kd(t,i,r),Qn(t,r),t}function Gm(t,e,n,r){var i=e.current,a=Ln(),s=Ha(i);return n=pR(n),e.context===null?e.context=n:e.pendingContext=n,e=qi(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wa(i,e,s),t!==null&&(Qr(t,i,s,a),Nh(t,i,s)),s}function Ep(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function E_(t,e){HP(t,e),(t=t.alternate)&&HP(t,e)}function iU(){return null}var gR=typeof reportError=="function"?reportError:function(t){console.error(t)};function S_(t){this._internalRoot=t}Ym.prototype.render=S_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Gm(t,e,null,null)};Ym.prototype.unmount=S_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;po(function(){Gm(null,t,null,null)}),e[Qi]=null}};function Ym(t){this._internalRoot=t}Ym.prototype.unstable_scheduleHydration=function(t){if(t){var e=KO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ia.length&&e!==0&&e<Ia[n].priority;n++);Ia.splice(n,0,t),n===0&&YO(t)}};function P_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KP(){}function aU(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Ep(s);a.call(u)}}var s=mR(e,r,t,0,null,!1,!1,"",KP);return t._reactRootContainer=s,t[Qi]=s.current,Kc(t.nodeType===8?t.parentNode:t),po(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Ep(l);o.call(u)}}var l=b_(t,0,!1,null,null,!1,!1,"",KP);return t._reactRootContainer=l,t[Qi]=l.current,Kc(t.nodeType===8?t.parentNode:t),po(function(){Gm(e,l,n,r)}),l}function Xm(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Ep(s);o.call(l)}}Gm(e,s,t,i)}else s=aU(n,e,t,i,r);return Ep(s)}qO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dc(e.pendingLanes);n!==0&&(Wx(e,n|1),Qn(e,bt()),!(je&6)&&($l=bt()+500,ys()))}break;case 13:po(function(){var r=Xi(t,1);if(r!==null){var i=Ln();Qr(r,t,1,i)}}),E_(t,1)}};qx=function(t){if(t.tag===13){var e=Xi(t,134217728);if(e!==null){var n=Ln();Qr(e,t,134217728,n)}E_(t,134217728)}};HO=function(t){if(t.tag===13){var e=Ha(t),n=Xi(t,e);if(n!==null){var r=Ln();Qr(n,t,e,r)}E_(t,e)}};KO=function(){return ze};GO=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};x0=function(t,e,n){switch(e){case"input":if(h0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Um(r);if(!i)throw Error(Q(90));PO(r),h0(r,i)}}}break;case"textarea":AO(t,n);break;case"select":e=n.value,e!=null&&yl(t,!!n.multiple,e,!1)}};DO=v_;jO=po;var sU={usingClientEntryPoint:!1,Events:[Nd,ul,Um,NO,RO,v_]},Ku={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oU={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VO(t),t===null?null:t.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||iU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{Lm=Qf.inject(oU),pi=Qf}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sU;yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(e))throw Error(Q(200));return rU(t,e,null,n)};yr.createRoot=function(t,e){if(!P_(t))throw Error(Q(299));var n=!1,r="",i=gR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=b_(t,1,!1,null,null,n,!1,r,i),t[Qi]=e.current,Kc(t.nodeType===8?t.parentNode:t),new S_(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=VO(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return po(t)};yr.hydrate=function(t,e,n){if(!Qm(e))throw Error(Q(200));return Xm(null,t,e,!0,n)};yr.hydrateRoot=function(t,e,n){if(!P_(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=gR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=mR(e,null,t,1,n??null,i,!1,a,s),t[Qi]=e.current,Kc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ym(e)};yr.render=function(t,e,n){if(!Qm(e))throw Error(Q(200));return Xm(null,t,e,!1,n)};yr.unmountComponentAtNode=function(t){if(!Qm(t))throw Error(Q(40));return t._reactRootContainer?(po(function(){Xm(null,null,t,!1,function(){t._reactRootContainer=null,t[Qi]=null})}),!0):!1};yr.unstable_batchedUpdates=v_;yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qm(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Xm(t,e,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function yR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yR)}catch(t){console.error(t)}}yR(),yO.exports=yr;var vR=yO.exports,wR,GP=vR;wR=GP.createRoot,GP.hydrateRoot;/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YP="popstate";function lU(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=ko(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Z0("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:nd(a))}function r(i,a){Rr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return cU(e,n,r,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uU(){return Math.random().toString(36).substring(2,10)}function QP(t,e){return{usr:t.state,key:t.key,idx:e}}function Z0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:n,key:e&&e.key||r||uU()}}function nd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function cU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){o="POP";let w=c(),b=w==null?null:w-u;u=w,l&&l({action:o,location:y.location,delta:b})}function h(w,b){o="PUSH";let v=Z0(y.location,w,b);n&&n(v,w),u=c()+1;let E=QP(v,u),A=y.createHref(v);try{s.pushState(E,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(A)}a&&l&&l({action:o,location:y.location,delta:1})}function p(w,b){o="REPLACE";let v=Z0(y.location,w,b);n&&n(v,w),u=c();let E=QP(v,u),A=y.createHref(v);s.replaceState(E,"",A),a&&l&&l({action:o,location:y.location,delta:0})}function m(w){return dU(w)}let y={get action(){return o},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(YP,d),l=w,()=>{i.removeEventListener(YP,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let b=m(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(w){return s.go(w)}};return y}function dU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:nd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xR(t,e,n="/"){return fU(t,e,n,!1)}function fU(t,e,n,r){let i=typeof e=="string"?ko(e):e,a=Zi(i.pathname||"/",n);if(a==null)return null;let s=_R(t);hU(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=SU(a);o=bU(s[l],u,r)}return o}function _R(t,e=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;at(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=Hi([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(at(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),_R(s.children,e,h,d,l)),!(s.path==null&&!s.index)&&e.push({path:d,score:xU(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of bR(s.path))a(s,o,!0,u)}),e}function bR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=bR(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function hU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_U(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pU=/^:[\w-]+$/,mU=3,gU=2,yU=1,vU=10,wU=-2,XP=t=>t==="*";function xU(t,e){let n=t.split("/"),r=n.length;return n.some(XP)&&(r+=wU),e&&(r+=gU),n.filter(i=>!XP(i)).reduce((i,a)=>i+(pU.test(a)?mU:a===""?yU:vU),r)}function _U(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bU(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=Sp({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Sp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Hi([a,d.pathname]),pathnameBase:CU(Hi([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Hi([a,d.pathnameBase]))}return s}function Sp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let m=o[h]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const p=o[h];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function EU(t,e=!1,n=!0){Rr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ko(t):t;return{pathname:n?n.startsWith("/")?n:TU(n,e):e,search:IU(r),hash:kU(i)}}function TU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function T_(t){let e=AU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function A_(t,e,n,r=!1){let i;typeof t=="string"?i=ko(t):(i={...t},at(!i.pathname||!i.pathname.includes("?"),mv("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),mv("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),mv("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=PU(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Hi=t=>t.join("/").replace(/\/\/+/g,"/"),CU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ER=["POST","PUT","PATCH","DELETE"];new Set(ER);var NU=["GET",...ER];new Set(NU);var su=_.createContext(null);su.displayName="DataRouter";var Jm=_.createContext(null);Jm.displayName="DataRouterState";_.createContext(!1);var SR=_.createContext({isTransitioning:!1});SR.displayName="ViewTransition";var RU=_.createContext(new Map);RU.displayName="Fetchers";var DU=_.createContext(null);DU.displayName="Await";var ei=_.createContext(null);ei.displayName="Navigation";var Dd=_.createContext(null);Dd.displayName="Location";var Ai=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var C_=_.createContext(null);C_.displayName="RouteError";function jU(t,{relative:e}={}){at(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(ei),{hash:i,pathname:a,search:s}=Md(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Hi([n,a])),r.createHref({pathname:o,search:s,hash:i})}function ou(){return _.useContext(Dd)!=null}function da(){return at(ou(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Dd).location}var PR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TR(t){_.useContext(ei).static||_.useLayoutEffect(t)}function jd(){let{isDataRoute:t}=_.useContext(Ai);return t?GU():MU()}function MU(){at(ou(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(su),{basename:e,navigator:n}=_.useContext(ei),{matches:r}=_.useContext(Ai),{pathname:i}=da(),a=JSON.stringify(T_(r)),s=_.useRef(!1);return TR(()=>{s.current=!0}),_.useCallback((l,u={})=>{if(Rr(s.current,PR),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=A_(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Hi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,a,i,t])}_.createContext(null);function Md(t,{relative:e}={}){let{matches:n}=_.useContext(Ai),{pathname:r}=da(),i=JSON.stringify(T_(n));return _.useMemo(()=>A_(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function LU(t,e){return AR(t,e)}function AR(t,e,n,r,i){var v;at(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(ei),{matches:s}=_.useContext(Ai),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let E=d&&d.path||"";CR(u,!d||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let h=da(),p;if(e){let E=typeof e=="string"?ko(e):e;at(c==="/"||((v=E.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=h;let m=p.pathname||"/",y=m;if(c!=="/"){let E=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=xR(t,{pathname:y});Rr(d||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Rr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=BU(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Hi([c,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Hi([c,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r,i);return e&&b?_.createElement(Dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function VU(){let t=KU(),e=OU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,s)}var $U=_.createElement(VU,null),FU=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(Ai.Provider,{value:this.props.routeContext},_.createElement(C_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UU({routeContext:t,match:e,children:n}){let r=_.useContext(su);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Ai.Provider,{value:t},n)}function BU(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let u=a.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);at(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<a.length;u++){let c=a[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:h}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,c,d)=>{let h,p=!1,m=null,y=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||$U,o&&(l<0&&d===0?(CR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):l===d&&(p=!0,y=c.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,d+1)),b=()=>{let v;return h?v=m:p?v=y:c.route.Component?v=_.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=u,_.createElement(UU,{match:c,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?_.createElement(FU,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):b()},null)}function I_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zU(t){let e=_.useContext(su);return at(e,I_(t)),e}function WU(t){let e=_.useContext(Jm);return at(e,I_(t)),e}function qU(t){let e=_.useContext(Ai);return at(e,I_(t)),e}function k_(t){let e=qU(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HU(){return k_("useRouteId")}function KU(){var r;let t=_.useContext(C_),e=WU("useRouteError"),n=k_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function GU(){let{router:t}=zU("useNavigate"),e=k_("useNavigate"),n=_.useRef(!1);return TR(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{Rr(n.current,PR),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var JP={};function CR(t,e,n){!e&&!JP[t]&&(JP[t]=!0,Rr(!1,n))}_.memo(YU);function YU({routes:t,future:e,state:n,unstable_onError:r}){return AR(t,void 0,n,r,e)}function QU({to:t,replace:e,state:n,relative:r}){at(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(ei);Rr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(Ai),{pathname:s}=da(),o=jd(),l=A_(t,T_(a),s,r==="path"),u=JSON.stringify(l);return _.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function Sa(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){at(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=_.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=ko(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:h="default"}=n,p=_.useMemo(()=>{let m=Zi(l,s);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:h},navigationType:r}},[s,l,u,c,d,h,r]);return Rr(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:_.createElement(ei.Provider,{value:o},_.createElement(Dd.Provider,{children:e,value:p}))}function JU({children:t,location:e}){return LU(ew(t),e)}function ew(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let a=[...e,i];if(r.type===_.Fragment){n.push.apply(n,ew(r.props.children,a));return}at(r.type===Sa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ew(r.props.children,a)),n.push(s)}),n}var $h="get",Fh="application/x-www-form-urlencoded";function Zm(t){return t!=null&&typeof t.tagName=="string"}function ZU(t){return Zm(t)&&t.tagName.toLowerCase()==="button"}function eB(t){return Zm(t)&&t.tagName.toLowerCase()==="form"}function tB(t){return Zm(t)&&t.tagName.toLowerCase()==="input"}function nB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rB(t,e){return t.button===0&&(!e||e==="_self")&&!nB(t)}var Xf=null;function iB(){if(Xf===null)try{new FormData(document.createElement("form"),0),Xf=!1}catch{Xf=!0}return Xf}var aB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gv(t){return t!=null&&!aB.has(t)?(Rr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fh}"`),null):t}function sB(t,e){let n,r,i,a,s;if(eB(t)){let o=t.getAttribute("action");r=o?Zi(o,e):null,n=t.getAttribute("method")||$h,i=gv(t.getAttribute("enctype"))||Fh,a=new FormData(t)}else if(ZU(t)||tB(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Zi(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||$h,i=gv(t.getAttribute("formenctype"))||gv(o.getAttribute("enctype"))||Fh,a=new FormData(o,t),!iB()){let{name:u,type:c,value:d}=t;if(c==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,d)}}else{if(Zm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$h,r=null,i=Fh,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function O_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Zi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cB(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await lB(a,n);return s.links?s.links():[]}return[]}));return pB(r.flat(1).filter(uB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ZP(t,e,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function dB(t,e,{includeHydrateFallback:n}={}){return fB(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function fB(t){return[...new Set(t)]}function hB(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pB(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(hB(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function IR(){let t=_.useContext(su);return O_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mB(){let t=_.useContext(Jm);return O_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var N_=_.createContext(void 0);N_.displayName="FrameworkContext";function kR(){let t=_.useContext(N_);return O_(t,"You must render this element inside a <HydratedRouter> element"),t}function gB(t,e){let n=_.useContext(N_),[r,i]=_.useState(!1),[a,s]=_.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,h=_.useRef(null);_.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=b=>{b.forEach(v=>{s(v.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[t]),_.useEffect(()=>{if(r){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,h,{}]:[a,h,{onFocus:Gu(o,p),onBlur:Gu(l,m),onMouseEnter:Gu(u,p),onMouseLeave:Gu(c,m),onTouchStart:Gu(d,p)}]:[!1,h,{}]}function Gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yB({page:t,...e}){let{router:n}=IR(),r=_.useMemo(()=>xR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(wB,{page:t,matches:r,...e}):null}function vB(t){let{manifest:e,routeModules:n}=kR(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return cB(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function wB({page:t,matches:e,...n}){let r=da(),{manifest:i,routeModules:a}=kR(),{basename:s}=IR(),{loaderData:o,matches:l}=mB(),u=_.useMemo(()=>ZP(t,e,l,i,r,"data"),[t,e,l,i,r]),c=_.useMemo(()=>ZP(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(e.forEach(b=>{var E;let v=i.routes[b.route.id];!v||!v.hasLoader||(!u.some(A=>A.route.id===b.route.id)&&b.route.id in o&&((E=a[b.route.id])!=null&&E.shouldRevalidate)||v.hasClientLoader?y=!0:m.add(b.route.id))}),m.size===0)return[];let w=oB(t,s,"data");return y&&m.size>0&&w.searchParams.set("_routes",e.filter(b=>m.has(b.route.id)).map(b=>b.route.id).join(",")),[w.pathname+w.search]},[s,o,r,i,u,e,t,a]),h=_.useMemo(()=>dB(c,i),[c,i]),p=vB(c);return _.createElement(_.Fragment,null,d.map(m=>_.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>_.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>_.createElement("link",{key:m,nonce:n.nonce,...y})))}function xB(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OR&&(window.__reactRouterVersion="7.9.1")}catch{}function _B({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=lU({window:n,v5Compat:!0}));let i=r.current,[a,s]=_.useState({action:i.action,location:i.location}),o=_.useCallback(l=>{_.startTransition(()=>s(l))},[s]);return _.useLayoutEffect(()=>i.listen(o),[i,o]),_.createElement(XU,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var NR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RR=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d,...h},p){let{basename:m}=_.useContext(ei),y=typeof u=="string"&&NR.test(u),w,b=!1;if(typeof u=="string"&&y&&(w=u,OR))try{let C=new URL(window.location.href),I=u.startsWith("//")?new URL(C.protocol+u):new URL(u),N=Zi(I.pathname,m);I.origin===C.origin&&N!=null?u=N+I.search+I.hash:b=!0}catch{Rr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=jU(u,{relative:i}),[E,A,k]=gB(r,h),D=PB(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function T(C){e&&e(C),C.defaultPrevented||D(C)}let P=_.createElement("a",{...h,...k,href:w||v,onClick:b||a?e:T,ref:xB(p,A),target:l,"data-discover":!y&&n==="render"?"true":void 0});return E&&!y?_.createElement(_.Fragment,null,P,_.createElement(yB,{page:v})):P});RR.displayName="Link";var bB=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let d=Md(s,{relative:u.relative}),h=da(),p=_.useContext(Jm),{navigator:m,basename:y}=_.useContext(ei),w=p!=null&&kB(d)&&o===!0,b=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,v=h.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase()),E&&y&&(E=Zi(E,y)||E);const A=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=v===b||!i&&v.startsWith(b)&&v.charAt(A)==="/",D=E!=null&&(E===b||!i&&E.startsWith(b)&&E.charAt(b.length)==="/"),T={isActive:k,isPending:D,isTransitioning:w},P=k?e:void 0,C;typeof r=="function"?C=r(T):C=[r,k?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(T):a;return _.createElement(RR,{...u,"aria-current":P,className:C,ref:c,style:I,to:s,viewTransition:o},typeof l=="function"?l(T):l)});bB.displayName="NavLink";var EB=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=$h,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...h},p)=>{let m=CB(),y=IB(o,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&NR.test(o),v=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let A=E.nativeEvent.submitter,k=(A==null?void 0:A.getAttribute("formmethod"))||s;m(A||E.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:d})};return _.createElement("form",{ref:p,method:w,action:y,onSubmit:r?l:v,...h,"data-discover":!b&&t==="render"?"true":void 0})});EB.displayName="Form";function SB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DR(t){let e=_.useContext(su);return at(e,SB(t)),e}function PB(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=jd(),l=da(),u=Md(t,{relative:a});return _.useCallback(c=>{if(rB(c,e)){c.preventDefault();let d=n!==void 0?n:nd(l)===nd(u);o(t,{replace:d,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,n,r,e,t,i,a,s])}var TB=0,AB=()=>`__${String(++TB)}__`;function CB(){let{router:t}=DR("useSubmit"),{basename:e}=_.useContext(ei),n=HU();return _.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=sB(r,e);if(i.navigate===!1){let c=i.fetcherKey||AB();await t.fetch(c,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function IB(t,{relative:e}={}){let{basename:n}=_.useContext(ei),r=_.useContext(Ai);at(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Md(t||".",{relative:e})},s=da();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let c=o.toString();a.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Hi([n,a.pathname])),nd(a)}function kB(t,{relative:e}={}){let n=_.useContext(SR);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DR("useViewTransitionState"),i=Md(t,{relative:e});if(!n.isTransitioning)return!1;let a=Zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sp(i.pathname,s)!=null||Sp(i.pathname,a)!=null}const OB=()=>{};var eT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},MR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new RB;const h=a<<2|o>>4;if(r.push(h),u!==64){const p=o<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DB=function(t){const e=jR(t);return MR.encodeByteArray(e,!0)},Pp=function(t){return DB(t).replace(/\./g,"")},LR=function(t){try{return MR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=()=>jB().__FIREBASE_DEFAULTS__,LB=()=>{if(typeof process>"u"||typeof eT>"u")return;const t=eT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LR(t[1]);return e&&JSON.parse(e)},eg=()=>{try{return OB()||MB()||LB()||VB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VR=t=>{var e,n;return(n=(e=eg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$R=t=>{const e=VR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FR=()=>{var t;return(t=eg())==null?void 0:t.config},UR=t=>{var e;return(e=eg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pp(JSON.stringify(n)),Pp(JSON.stringify(s)),""].join(".")}const Ac={};function FB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?t.emulator.push(e):t.prod.push(e);return t}function UB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tT=!1;function D_(t,e){if(typeof window>"u"||typeof document>"u"||!vs(window.location.host)||Ac[t]===e||Ac[t]||tT)return;Ac[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=FB().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{tT=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=UB(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const E=h.element;o(E),c(w,y);const A=u();l(v,b),E.append(v,m,w,A),document.body.appendChild(E)}a?(m.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function zB(){var e;const t=(e=eg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KB(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GB(){return!zB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YB(){try{return typeof indexedDB=="object"}catch{return!1}}function QB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XB,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ld.prototype.create)}}class Ld{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?JB(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ci(i,o,r)}}function JB(t,e){return t.replace(ZB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZB=/\{\$([^}]+)}/g;function e5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(nT(a)&&nT(s)){if(!mo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function t5(t,e){const n=new n5(t,e);return n.subscribe.bind(n)}class n5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yv),i.error===void 0&&(i.error=yv),i.complete===void 0&&(i.complete=yv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $B;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s5(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function a5(t){return t===Vs?void 0:t}function s5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const l5={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},u5=Ae.INFO,c5={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},d5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let j_=class{constructor(e){this.name=e,this._logLevel=u5,this._logHandler=d5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}};const f5=(t,e)=>e.some(n=>t instanceof n);let rT,iT;function h5(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p5(){return iT||(iT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zR=new WeakMap,tw=new WeakMap,WR=new WeakMap,vv=new WeakMap,M_=new WeakMap;function m5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ga(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zR.set(n,t)}).catch(()=>{}),M_.set(e,t),e}function g5(t){if(tw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});tw.set(t,e)}let nw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ga(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y5(t){nw=t(nw)}function v5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wv(this),e,...n);return WR.set(r,e.sort?e.sort():[e]),Ga(r)}:p5().includes(t)?function(...e){return t.apply(wv(this),e),Ga(zR.get(this))}:function(...e){return Ga(t.apply(wv(this),e))}}function w5(t){return typeof t=="function"?v5(t):(t instanceof IDBTransaction&&g5(t),f5(t,h5())?new Proxy(t,nw):t)}function Ga(t){if(t instanceof IDBRequest)return m5(t);if(vv.has(t))return vv.get(t);const e=w5(t);return e!==t&&(vv.set(t,e),M_.set(e,t)),e}const wv=t=>M_.get(t);function x5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Ga(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ga(s.result),l.oldVersion,l.newVersion,Ga(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const _5=["get","getKey","getAll","getAllKeys","count"],b5=["put","add","delete","clear"],xv=new Map;function aT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_5.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return xv.set(e,a),a}y5(t=>({...t,get:(e,n,r)=>aT(e,n)||t.get(e,n,r),has:(e,n)=>!!aT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function S5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rw="@firebase/app",sT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new j_("@firebase/app"),P5="@firebase/app-compat",T5="@firebase/analytics-compat",A5="@firebase/analytics",C5="@firebase/app-check-compat",I5="@firebase/app-check",k5="@firebase/auth",O5="@firebase/auth-compat",N5="@firebase/database",R5="@firebase/data-connect",D5="@firebase/database-compat",j5="@firebase/functions",M5="@firebase/functions-compat",L5="@firebase/installations",V5="@firebase/installations-compat",$5="@firebase/messaging",F5="@firebase/messaging-compat",U5="@firebase/performance",B5="@firebase/performance-compat",z5="@firebase/remote-config",W5="@firebase/remote-config-compat",q5="@firebase/storage",H5="@firebase/storage-compat",K5="@firebase/firestore",G5="@firebase/ai",Y5="@firebase/firestore-compat",Q5="firebase",X5="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="[DEFAULT]",J5={[rw]:"fire-core",[P5]:"fire-core-compat",[A5]:"fire-analytics",[T5]:"fire-analytics-compat",[I5]:"fire-app-check",[C5]:"fire-app-check-compat",[k5]:"fire-auth",[O5]:"fire-auth-compat",[N5]:"fire-rtdb",[R5]:"fire-data-connect",[D5]:"fire-rtdb-compat",[j5]:"fire-fn",[M5]:"fire-fn-compat",[L5]:"fire-iid",[V5]:"fire-iid-compat",[$5]:"fire-fcm",[F5]:"fire-fcm-compat",[U5]:"fire-perf",[B5]:"fire-perf-compat",[z5]:"fire-rc",[W5]:"fire-rc-compat",[q5]:"fire-gcs",[H5]:"fire-gcs-compat",[K5]:"fire-fst",[Y5]:"fire-fst-compat",[G5]:"fire-vertex","fire-js":"fire-js",[Q5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new Map,Z5=new Map,aw=new Map;function oT(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(aw.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;aw.set(e,t);for(const n of Tp.values())oT(n,t);for(const n of Z5.values())oT(n,t);return!0}function tg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new Ld("app","Firebase",e9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=X5;function qR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:iw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ya.create("bad-app-name",{appName:String(i)});if(n||(n=FR()),!n)throw Ya.create("no-options");const a=Tp.get(i);if(a){if(mo(n,a.options)&&mo(r,a.config))return a;throw Ya.create("duplicate-app",{appName:i})}const s=new o5(i);for(const l of aw.values())s.addComponent(l);const o=new t9(n,r,s);return Tp.set(i,o),o}function L_(t=iw){const e=Tp.get(t);if(!e&&t===iw&&FR())return qR();if(!e)throw Ya.create("no-app",{appName:t});return e}function gi(t,e,n){let r=J5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(s.join(" "));return}go(new ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="firebase-heartbeat-database",r9=1,rd="firebase-heartbeat-store";let _v=null;function HR(){return _v||(_v=x5(n9,r9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ya.create("idb-open",{originalErrorMessage:t.message})})),_v}async function i9(t){try{const n=(await HR()).transaction(rd),r=await n.objectStore(rd).get(KR(t));return await n.done,r}catch(e){if(e instanceof Ci)ea.warn(e.message);else{const n=Ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(n.message)}}}async function lT(t,e){try{const r=(await HR()).transaction(rd,"readwrite");await r.objectStore(rd).put(e,KR(t)),await r.done}catch(n){if(n instanceof Ci)ea.warn(n.message);else{const r=Ya.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(r.message)}}}function KR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=1024,s9=30;class o9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>s9){const s=c9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uT(),{heartbeatsToSend:r,unsentEntries:i}=l9(this._heartbeatsCache.heartbeats),a=Pp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ea.warn(n),""}}}function uT(){return new Date().toISOString().substring(0,10)}function l9(t,e=a9){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),cT(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YB()?QB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cT(t){return Pp(JSON.stringify({version:2,heartbeats:t})).length}function c9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){go(new ns("platform-logger",e=>new E5(e),"PRIVATE")),go(new ns("heartbeat",e=>new o9(e),"PRIVATE")),gi(rw,sT,t),gi(rw,sT,"esm2020"),gi("fire-js","")}d9("");function GR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f9=GR,YR=new Ld("auth","Firebase",GR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new j_("@firebase/auth");function h9(t,...e){Ap.logLevel<=Ae.WARN&&Ap.warn(`Auth (${Oo}): ${t}`,...e)}function Uh(t,...e){Ap.logLevel<=Ae.ERROR&&Ap.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,...e){throw $_(t,...e)}function Xr(t,...e){return $_(t,...e)}function V_(t,e,n){const r={...f9(),[e]:n};return new Ld("auth","Firebase",r).create(e,{appName:t.name})}function to(t){return V_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ei(t,"argument-error"),V_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YR.create(t,...e)}function ye(t,e,...n){if(!t)throw $_(e,...n)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uh(e),new Error(e)}function ta(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function m9(){return dT()==="http:"||dT()==="https:"}function dT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m9()||qB()||"connection"in navigator)?navigator.onLine:!0}function y9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.shortDelay=e,this.longDelay=n,ta(n>e,"Short delay should be less than long delay!"),this.isMobile=BB()||HB()}get(){return g9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e){ta(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x9=new $d(3e4,6e4);function U_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lu(t,e,n,r,i={}){return XR(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Vd({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return WB()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&vs(t.emulatorConfig.host)&&(u.credentials="include"),QR.fetch()(await JR(t,t.config.apiHost,n,o),u)})}async function XR(t,e,n){t._canInitEmulator=!1;const r={...v9,...e};try{const i=new b9(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Jf(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Jf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Jf(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw V_(t,c,u);Ei(t,c)}}catch(i){if(i instanceof Ci)throw i;Ei(t,"network-request-failed",{message:String(i)})}}async function _9(t,e,n,r,i={}){const a=await lu(t,e,n,r,i);return"mfaPendingCredential"in a&&Ei(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function JR(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?F_(t.config,i):`${t.config.apiScheme}://${i}`;return w9.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class b9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),x9.get())})}}function Jf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return lu(t,"POST","/v1/accounts:delete",e)}async function Cp(t,e){return lu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S9(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=B_(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Cc(bv(i.auth_time)),issuedAtTime:Cc(bv(i.iat)),expirationTime:Cc(bv(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function bv(t){return Number(t)*1e3}function B_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const i=LR(n);return i?JSON.parse(i):(Uh("Failed to decode base64 JWT payload"),null)}catch(i){return Uh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fT(t){const e=B_(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&P9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function P9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t){var d;const e=t.auth,n=await t.getIdToken(),r=await id(t,Cp(e,{idToken:n}));ye(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?ZR(i.providerUserInfo):[],s=C9(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ow(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function A9(t){const e=ft(t);await Ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e){const n=await XR(t,{},async()=>{const r=Vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await JR(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&vs(t.emulatorConfig.host)&&(l.credentials="include"),QR.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k9(t,e){return lu(t,"POST","/v2/accounts:revokeToken",U_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=fT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await I9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new El;return r&&(ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ye(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new T9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ow(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await id(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S9(this,e)}reload(){return A9(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await id(this,E9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:m,stsTokenManager:y}=n;ye(d&&y,e,"internal-error");const w=El.fromJSON(this.name,y);ye(typeof d=="string",e,"internal-error"),ba(r,e.name),ba(i,e.name),ye(typeof h=="boolean",e,"internal-error"),ye(typeof p=="boolean",e,"internal-error"),ba(a,e.name),ba(s,e.name),ba(o,e.name),ba(l,e.name),ba(u,e.name),ba(c,e.name);const b=new Gr({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:w,createdAt:u,lastLoginAt:c});return m&&Array.isArray(m)&&(b.providerData=m.map(v=>({...v}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new El;i.updateFromServerResponse(n);const a=new Gr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ip(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ZR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new El;o.updateFromIdToken(r);const l=new Gr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ow(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function Bi(t){ta(t instanceof Function,"Expected a class definition");let e=hT.get(t);return e?(ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}e2.type="NONE";const pT=e2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t,e,n){return`firebase:${t}:${e}:${n}`}class Sl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Bh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Bh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cp(this.auth,{idToken:e}).catch(()=>{});return n?Gr._fromGetAccountInfoResponse(this.auth,n,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sl(Bi(pT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Bi(pT);const s=Bh(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const c=await u._get(s);if(c){let d;if(typeof c=="string"){const h=await Cp(e,{idToken:c}).catch(()=>{});if(!h)break;d=await Gr._fromGetAccountInfoResponse(e,h,c)}else d=Gr._fromJSON(e,c);u!==a&&(o=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Sl(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Sl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s2(e))return"Blackberry";if(o2(e))return"Webos";if(n2(e))return"Safari";if((e.includes("chrome/")||r2(e))&&!e.includes("edge/"))return"Chrome";if(a2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function t2(t=Cn()){return/firefox\//i.test(t)}function n2(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r2(t=Cn()){return/crios\//i.test(t)}function i2(t=Cn()){return/iemobile/i.test(t)}function a2(t=Cn()){return/android/i.test(t)}function s2(t=Cn()){return/blackberry/i.test(t)}function o2(t=Cn()){return/webos/i.test(t)}function z_(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O9(t=Cn()){var e;return z_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function N9(){return KB()&&document.documentMode===10}function l2(t=Cn()){return z_(t)||a2(t)||o2(t)||s2(t)||/windows phone/i.test(t)||i2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t,e=[]){let n;switch(t){case"Browser":n=mT(Cn());break;case"Worker":n=`${mT(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e={}){return lu(t,"GET","/v2/passwordPolicy",U_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=6;class M9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gT(this),this.idTokenSubscription=new gT(this),this.beforeStateQueue=new R9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cp(this,{idToken:e}),r=await Gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Tr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ip(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(to(this));const n=e?ft(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D9(this),n=new M9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ld("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&h9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ng(t){return ft(t)}class gT{constructor(e){this.auth=e,this.observer=null,this.addObserver=t5(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V9(t){W_=t}function $9(t){return W_.loadJS(t)}function F9(){return W_.gapiScript}function U9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t,e){const n=tg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(mo(a,e??{}))return i;Ei(i,"already-initialized")}return n.initialize({options:e})}function z9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function W9(t,e,n){const r=ng(t);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=c2(e),{host:s,port:o}=q9(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(mo(u,r.config.emulator)&&mo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,vs(s)?(R_(`${a}//${s}${l}`),D_("Auth",!0)):H9()}function c2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q9(t){const e=c2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:yT(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:yT(s)}}}function yT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function H9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,n){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e){return _9(t,"POST","/v1/accounts:signInWithIdp",U_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="http://localhost";class yo extends d2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new yo(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:K9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends q_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Fd{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Fd{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Fd{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Gr._fromIdTokenResponse(e,r,i),s=vT(r);return new Fl({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vT(r);return new Fl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Ci{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kp(e,n,r,i)}}function f2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kp._fromErrorAndOperation(t,a,e,r):a})}async function G9(t,e,n=!1){const r=await id(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t,e,n=!1){const{auth:r}=t;if(Tr(r.app))return Promise.reject(to(r));const i="reauthenticate";try{const a=await id(t,f2(r,i,e,t),n);ye(a.idToken,r,"internal-error");const s=B_(a.idToken);ye(s,r,"internal-error");const{sub:o}=s;return ye(t.uid===o,r,"user-mismatch"),Fl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ei(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e,n=!1){if(Tr(t.app))return Promise.reject(to(t));const r="signIn",i=await f2(t,r,e),a=await Fl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function X9(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function J9(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function Z9(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function ez(t){return ft(t).signOut()}const Op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=1e3,nz=10;class p2 extends h2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);N9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}p2.type="LOCAL";const rz=p2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2 extends h2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}m2.type="SESSION";const g2=m2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await iz(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=H_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function sz(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function oz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function uz(){return y2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebaseLocalStorageDb",cz=1,Np="firebaseLocalStorage",w2="fbase_key";class Ud{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ig(t,e){return t.transaction([Np],e?"readwrite":"readonly").objectStore(Np)}function dz(){const t=indexedDB.deleteDatabase(v2);return new Ud(t).toPromise()}function lw(){const t=indexedDB.open(v2,cz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Np,{keyPath:w2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Np)?e(r):(r.close(),await dz(),e(await lw()))})})}async function wT(t,e,n){const r=ig(t,!0).put({[w2]:e,value:n});return new Ud(r).toPromise()}async function fz(t,e){const n=ig(t,!1).get(e),r=await new Ud(n).toPromise();return r===void 0?null:r.value}function xT(t,e){const n=ig(t,!0).delete(e);return new Ud(n).toPromise()}const hz=800,pz=3;class x2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rg._getInstance(uz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await oz(),!this.activeServiceWorker)return;this.sender=new az(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lw();return await wT(e,Op,"1"),await xT(e,Op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ig(i,!1).getAll();return new Ud(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x2.type="LOCAL";const mz=x2;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e){return e?Bi(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends d2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gz(t){return Q9(t.auth,new K_(t),t.bypassAuthState)}function yz(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),Y9(n,new K_(t),t.bypassAuthState)}async function vz(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),G9(n,new K_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gz;case"linkViaPopup":case"linkViaRedirect":return vz;case"reauthViaPopup":case"reauthViaRedirect":return yz;default:Ei(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=new $d(2e3,1e4);async function xz(t,e,n){if(Tr(t.app))return Promise.reject(Xr(t,"operation-not-supported-in-this-environment"));const r=ng(t);p9(t,e,q_);const i=_2(r,n);return new Hs(r,"signInViaPopup",e,i).executeNotNull()}class Hs extends b2{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=H_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wz.get())};e()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="pendingRedirect",zh=new Map;class bz extends b2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await Ez(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ez(t,e){const n=Tz(e),r=Pz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Sz(t,e){zh.set(t._key(),e)}function Pz(t){return Bi(t._redirectPersistence)}function Tz(t){return Bh(_z,t.config.apiKey,t.name)}async function Az(t,e,n=!1){if(Tr(t.app))return Promise.reject(to(t));const r=ng(t),i=_2(r,e),s=await new bz(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=10*60*1e3;class Iz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!E2(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cz&&this.cachedEventUids.clear(),this.cachedEventUids.has(_T(e))}saveEventToCache(e){this.cachedEventUids.add(_T(e)),this.lastProcessedEventTime=Date.now()}}function _T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function E2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e={}){return lu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rz=/^https?/;async function Dz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Oz(t);for(const n of e)try{if(jz(n))return}catch{}Ei(t,"unauthorized-domain")}function jz(t){const e=sw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Rz.test(n))return!1;if(Nz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new $d(3e4,6e4);function bT(){const t=yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Lz(t){return new Promise((e,n)=>{var i,a,s;function r(){bT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bT(),n(Xr(t,"network-request-failed"))},timeout:Mz.get()})}if((a=(i=yi().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=yi().gapi)!=null&&s.load)r();else{const o=U9("iframefcb");return yi()[o]=()=>{gapi.load?r():n(Xr(t,"network-request-failed"))},$9(`${F9()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Wh=null,e})}let Wh=null;function Vz(t){return Wh=Wh||Lz(t),Wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=new $d(5e3,15e3),Fz="__/auth/iframe",Uz="emulator/auth/iframe",Bz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wz(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?F_(e,Uz):`https://${t.config.authDomain}/${Fz}`,r={apiKey:e.apiKey,appName:t.name,v:Oo},i=zz.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Vd(r).slice(1)}`}async function qz(t){const e=await Vz(t),n=yi().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:Wz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bz,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Xr(t,"network-request-failed"),o=yi().setTimeout(()=>{a(s)},$z.get());function l(){yi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kz=500,Gz=600,Yz="_blank",Qz="http://localhost";class ET{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xz(t,e,n,r=Kz,i=Gz){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Hz,width:r.toString(),height:i.toString(),top:a,left:s},u=Cn().toLowerCase();n&&(o=r2(u)?Yz:n),t2(u)&&(e=e||Qz,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(O9(u)&&o!=="_self")return Jz(e||"",o),new ET(null);const d=window.open(e||"",o,c);ye(d,t,"popup-blocked");try{d.focus()}catch{}return new ET(d)}function Jz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz="__/auth/handler",e8="emulator/auth/handler",t8=encodeURIComponent("fac");async function ST(t,e,n,r,i,a){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oo,eventId:i};if(e instanceof q_){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",e5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof Fd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${t8}=${encodeURIComponent(l)}`:"";return`${n8(t)}?${Vd(o).slice(1)}${u}`}function n8({config:t}){return t.emulator?F_(t,e8):`https://${t.authDomain}/${Zz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="webStorageSupport";class r8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g2,this._completeRedirectFn=Az,this._overrideRedirectResult=Sz}async _openPopup(e,n,r,i){var s;ta((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await ST(e,n,r,sw(),i);return Xz(e,a,H_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await ST(e,n,r,sw(),i);return sz(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ta(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qz(e),r=new Iz(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ev,{type:Ev},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Ev];a!==void 0&&n(!!a),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Dz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return l2()||n2()||z_()}}const i8=r8;var PT="@firebase/auth",TT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o8(t){go(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u2(t)},u=new L9(r,i,a,l);return z9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new ns("auth-internal",e=>{const n=ng(e.getProvider("auth").getImmediate());return(r=>new a8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(PT,TT,s8(t)),gi(PT,TT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=5*60,u8=UR("authIdTokenMaxAge")||l8;let AT=null;const c8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u8)return;const i=n==null?void 0:n.token;AT!==i&&(AT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function d8(t=L_()){const e=tg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=B9(t,{popupRedirectResolver:i8,persistence:[mz,rz,g2]}),r=UR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=c8(a.toString());J9(n,s,()=>s(n.currentUser)),X9(n,o=>s(o))}}const i=VR("auth");return i&&W9(n,`http://${i}`),n}function f8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}V9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Xr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",f8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o8("Browser");var h8="firebase",p8="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(h8,p8,"app");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,S2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,P){function C(){}C.prototype=P.prototype,T.D=P.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(I,N,j){for(var O=Array(arguments.length-2),H=2;H<arguments.length;H++)O[H-2]=arguments[H];return P.prototype[N].apply(I,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,P,C){C||(C=0);var I=Array(16);if(typeof P=="string")for(var N=0;16>N;++N)I[N]=P.charCodeAt(C++)|P.charCodeAt(C++)<<8|P.charCodeAt(C++)<<16|P.charCodeAt(C++)<<24;else for(N=0;16>N;++N)I[N]=P[C++]|P[C++]<<8|P[C++]<<16|P[C++]<<24;P=T.g[0],C=T.g[1],N=T.g[2];var j=T.g[3],O=P+(j^C&(N^j))+I[0]+3614090360&4294967295;P=C+(O<<7&4294967295|O>>>25),O=j+(N^P&(C^N))+I[1]+3905402710&4294967295,j=P+(O<<12&4294967295|O>>>20),O=N+(C^j&(P^C))+I[2]+606105819&4294967295,N=j+(O<<17&4294967295|O>>>15),O=C+(P^N&(j^P))+I[3]+3250441966&4294967295,C=N+(O<<22&4294967295|O>>>10),O=P+(j^C&(N^j))+I[4]+4118548399&4294967295,P=C+(O<<7&4294967295|O>>>25),O=j+(N^P&(C^N))+I[5]+1200080426&4294967295,j=P+(O<<12&4294967295|O>>>20),O=N+(C^j&(P^C))+I[6]+2821735955&4294967295,N=j+(O<<17&4294967295|O>>>15),O=C+(P^N&(j^P))+I[7]+4249261313&4294967295,C=N+(O<<22&4294967295|O>>>10),O=P+(j^C&(N^j))+I[8]+1770035416&4294967295,P=C+(O<<7&4294967295|O>>>25),O=j+(N^P&(C^N))+I[9]+2336552879&4294967295,j=P+(O<<12&4294967295|O>>>20),O=N+(C^j&(P^C))+I[10]+4294925233&4294967295,N=j+(O<<17&4294967295|O>>>15),O=C+(P^N&(j^P))+I[11]+2304563134&4294967295,C=N+(O<<22&4294967295|O>>>10),O=P+(j^C&(N^j))+I[12]+1804603682&4294967295,P=C+(O<<7&4294967295|O>>>25),O=j+(N^P&(C^N))+I[13]+4254626195&4294967295,j=P+(O<<12&4294967295|O>>>20),O=N+(C^j&(P^C))+I[14]+2792965006&4294967295,N=j+(O<<17&4294967295|O>>>15),O=C+(P^N&(j^P))+I[15]+1236535329&4294967295,C=N+(O<<22&4294967295|O>>>10),O=P+(N^j&(C^N))+I[1]+4129170786&4294967295,P=C+(O<<5&4294967295|O>>>27),O=j+(C^N&(P^C))+I[6]+3225465664&4294967295,j=P+(O<<9&4294967295|O>>>23),O=N+(P^C&(j^P))+I[11]+643717713&4294967295,N=j+(O<<14&4294967295|O>>>18),O=C+(j^P&(N^j))+I[0]+3921069994&4294967295,C=N+(O<<20&4294967295|O>>>12),O=P+(N^j&(C^N))+I[5]+3593408605&4294967295,P=C+(O<<5&4294967295|O>>>27),O=j+(C^N&(P^C))+I[10]+38016083&4294967295,j=P+(O<<9&4294967295|O>>>23),O=N+(P^C&(j^P))+I[15]+3634488961&4294967295,N=j+(O<<14&4294967295|O>>>18),O=C+(j^P&(N^j))+I[4]+3889429448&4294967295,C=N+(O<<20&4294967295|O>>>12),O=P+(N^j&(C^N))+I[9]+568446438&4294967295,P=C+(O<<5&4294967295|O>>>27),O=j+(C^N&(P^C))+I[14]+3275163606&4294967295,j=P+(O<<9&4294967295|O>>>23),O=N+(P^C&(j^P))+I[3]+4107603335&4294967295,N=j+(O<<14&4294967295|O>>>18),O=C+(j^P&(N^j))+I[8]+1163531501&4294967295,C=N+(O<<20&4294967295|O>>>12),O=P+(N^j&(C^N))+I[13]+2850285829&4294967295,P=C+(O<<5&4294967295|O>>>27),O=j+(C^N&(P^C))+I[2]+4243563512&4294967295,j=P+(O<<9&4294967295|O>>>23),O=N+(P^C&(j^P))+I[7]+1735328473&4294967295,N=j+(O<<14&4294967295|O>>>18),O=C+(j^P&(N^j))+I[12]+2368359562&4294967295,C=N+(O<<20&4294967295|O>>>12),O=P+(C^N^j)+I[5]+4294588738&4294967295,P=C+(O<<4&4294967295|O>>>28),O=j+(P^C^N)+I[8]+2272392833&4294967295,j=P+(O<<11&4294967295|O>>>21),O=N+(j^P^C)+I[11]+1839030562&4294967295,N=j+(O<<16&4294967295|O>>>16),O=C+(N^j^P)+I[14]+4259657740&4294967295,C=N+(O<<23&4294967295|O>>>9),O=P+(C^N^j)+I[1]+2763975236&4294967295,P=C+(O<<4&4294967295|O>>>28),O=j+(P^C^N)+I[4]+1272893353&4294967295,j=P+(O<<11&4294967295|O>>>21),O=N+(j^P^C)+I[7]+4139469664&4294967295,N=j+(O<<16&4294967295|O>>>16),O=C+(N^j^P)+I[10]+3200236656&4294967295,C=N+(O<<23&4294967295|O>>>9),O=P+(C^N^j)+I[13]+681279174&4294967295,P=C+(O<<4&4294967295|O>>>28),O=j+(P^C^N)+I[0]+3936430074&4294967295,j=P+(O<<11&4294967295|O>>>21),O=N+(j^P^C)+I[3]+3572445317&4294967295,N=j+(O<<16&4294967295|O>>>16),O=C+(N^j^P)+I[6]+76029189&4294967295,C=N+(O<<23&4294967295|O>>>9),O=P+(C^N^j)+I[9]+3654602809&4294967295,P=C+(O<<4&4294967295|O>>>28),O=j+(P^C^N)+I[12]+3873151461&4294967295,j=P+(O<<11&4294967295|O>>>21),O=N+(j^P^C)+I[15]+530742520&4294967295,N=j+(O<<16&4294967295|O>>>16),O=C+(N^j^P)+I[2]+3299628645&4294967295,C=N+(O<<23&4294967295|O>>>9),O=P+(N^(C|~j))+I[0]+4096336452&4294967295,P=C+(O<<6&4294967295|O>>>26),O=j+(C^(P|~N))+I[7]+1126891415&4294967295,j=P+(O<<10&4294967295|O>>>22),O=N+(P^(j|~C))+I[14]+2878612391&4294967295,N=j+(O<<15&4294967295|O>>>17),O=C+(j^(N|~P))+I[5]+4237533241&4294967295,C=N+(O<<21&4294967295|O>>>11),O=P+(N^(C|~j))+I[12]+1700485571&4294967295,P=C+(O<<6&4294967295|O>>>26),O=j+(C^(P|~N))+I[3]+2399980690&4294967295,j=P+(O<<10&4294967295|O>>>22),O=N+(P^(j|~C))+I[10]+4293915773&4294967295,N=j+(O<<15&4294967295|O>>>17),O=C+(j^(N|~P))+I[1]+2240044497&4294967295,C=N+(O<<21&4294967295|O>>>11),O=P+(N^(C|~j))+I[8]+1873313359&4294967295,P=C+(O<<6&4294967295|O>>>26),O=j+(C^(P|~N))+I[15]+4264355552&4294967295,j=P+(O<<10&4294967295|O>>>22),O=N+(P^(j|~C))+I[6]+2734768916&4294967295,N=j+(O<<15&4294967295|O>>>17),O=C+(j^(N|~P))+I[13]+1309151649&4294967295,C=N+(O<<21&4294967295|O>>>11),O=P+(N^(C|~j))+I[4]+4149444226&4294967295,P=C+(O<<6&4294967295|O>>>26),O=j+(C^(P|~N))+I[11]+3174756917&4294967295,j=P+(O<<10&4294967295|O>>>22),O=N+(P^(j|~C))+I[2]+718787259&4294967295,N=j+(O<<15&4294967295|O>>>17),O=C+(j^(N|~P))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+P&4294967295,T.g[1]=T.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+j&4294967295}r.prototype.u=function(T,P){P===void 0&&(P=T.length);for(var C=P-this.blockSize,I=this.B,N=this.h,j=0;j<P;){if(N==0)for(;j<=C;)i(this,T,j),j+=this.blockSize;if(typeof T=="string"){for(;j<P;)if(I[N++]=T.charCodeAt(j++),N==this.blockSize){i(this,I),N=0;break}}else for(;j<P;)if(I[N++]=T[j++],N==this.blockSize){i(this,I),N=0;break}}this.h=N,this.o+=P},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var P=1;P<T.length-8;++P)T[P]=0;var C=8*this.o;for(P=T.length-8;P<T.length;++P)T[P]=C&255,C/=256;for(this.u(T),T=Array(16),P=C=0;4>P;++P)for(var I=0;32>I;I+=8)T[C++]=this.g[P]>>>I&255;return T};function a(T,P){var C=o;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=P(T)}function s(T,P){this.h=P;for(var C=[],I=!0,N=T.length-1;0<=N;N--){var j=T[N]|0;I&&j==P||(C[N]=j,I=!1)}this.g=C}var o={};function l(T){return-128<=T&&128>T?a(T,function(P){return new s([P|0],0>P?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return w(u(-T));for(var P=[],C=1,I=0;T>=C;I++)P[I]=T/C|0,C*=4294967296;return new s(P,0)}function c(T,P){if(T.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T.charAt(0)=="-")return w(c(T.substring(1),P));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(P,8)),I=d,N=0;N<T.length;N+=8){var j=Math.min(8,T.length-N),O=parseInt(T.substring(N,N+j),P);8>j?(j=u(Math.pow(P,j)),I=I.j(j).add(u(O))):(I=I.j(C),I=I.add(u(O)))}return I}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-w(this).m();for(var T=0,P=1,C=0;C<this.g.length;C++){var I=this.i(C);T+=(0<=I?I:4294967296+I)*P,P*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(y(this))return"-"+w(this).toString(T);for(var P=u(Math.pow(T,6)),C=this,I="";;){var N=A(C,P).g;C=b(C,N.j(P));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=N,m(C))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var P=0;P<T.g.length;P++)if(T.g[P]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=b(this,T),y(T)?-1:m(T)?0:1};function w(T){for(var P=T.g.length,C=[],I=0;I<P;I++)C[I]=~T.g[I];return new s(C,~T.h).add(h)}t.abs=function(){return y(this)?w(this):this},t.add=function(T){for(var P=Math.max(this.g.length,T.g.length),C=[],I=0,N=0;N<=P;N++){var j=I+(this.i(N)&65535)+(T.i(N)&65535),O=(j>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);I=O>>>16,j&=65535,O&=65535,C[N]=O<<16|j}return new s(C,C[C.length-1]&-2147483648?-1:0)};function b(T,P){return T.add(w(P))}t.j=function(T){if(m(this)||m(T))return d;if(y(this))return y(T)?w(this).j(w(T)):w(w(this).j(T));if(y(T))return w(this.j(w(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var P=this.g.length+T.g.length,C=[],I=0;I<2*P;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<T.g.length;N++){var j=this.i(I)>>>16,O=this.i(I)&65535,H=T.i(N)>>>16,B=T.i(N)&65535;C[2*I+2*N]+=O*B,v(C,2*I+2*N),C[2*I+2*N+1]+=j*B,v(C,2*I+2*N+1),C[2*I+2*N+1]+=O*H,v(C,2*I+2*N+1),C[2*I+2*N+2]+=j*H,v(C,2*I+2*N+2)}for(I=0;I<P;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=P;I<2*P;I++)C[I]=0;return new s(C,0)};function v(T,P){for(;(T[P]&65535)!=T[P];)T[P+1]+=T[P]>>>16,T[P]&=65535,P++}function E(T,P){this.g=T,this.h=P}function A(T,P){if(m(P))throw Error("division by zero");if(m(T))return new E(d,d);if(y(T))return P=A(w(T),P),new E(w(P.g),w(P.h));if(y(P))return P=A(T,w(P)),new E(w(P.g),P.h);if(30<T.g.length){if(y(T)||y(P))throw Error("slowDivide_ only works with positive integers.");for(var C=h,I=P;0>=I.l(T);)C=k(C),I=k(I);var N=D(C,1),j=D(I,1);for(I=D(I,2),C=D(C,2);!m(I);){var O=j.add(I);0>=O.l(T)&&(N=N.add(C),j=O),I=D(I,1),C=D(C,1)}return P=b(T,N.j(P)),new E(N,P)}for(N=d;0<=T.l(P);){for(C=Math.max(1,Math.floor(T.m()/P.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=u(C),O=j.j(P);y(O)||0<O.l(T);)C-=I,j=u(C),O=j.j(P);m(j)&&(j=h),N=N.add(j),T=b(T,O)}return new E(N,T)}t.A=function(T){return A(this,T).h},t.and=function(T){for(var P=Math.max(this.g.length,T.g.length),C=[],I=0;I<P;I++)C[I]=this.i(I)&T.i(I);return new s(C,this.h&T.h)},t.or=function(T){for(var P=Math.max(this.g.length,T.g.length),C=[],I=0;I<P;I++)C[I]=this.i(I)|T.i(I);return new s(C,this.h|T.h)},t.xor=function(T){for(var P=Math.max(this.g.length,T.g.length),C=[],I=0;I<P;I++)C[I]=this.i(I)^T.i(I);return new s(C,this.h^T.h)};function k(T){for(var P=T.g.length+1,C=[],I=0;I<P;I++)C[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(C,T.h)}function D(T,P){var C=P>>5;P%=32;for(var I=T.g.length-C,N=[],j=0;j<I;j++)N[j]=0<P?T.i(j+C)>>>P|T.i(j+C+1)<<32-P:T.i(j+C);return new s(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,S2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Qa=s}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P2,hc,T2,qh,uw,A2,C2,I2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,S){return f==Array.prototype||f==Object.prototype||(f[x]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zf=="object"&&Zf];for(var x=0;x<f.length;++x){var S=f[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(f,x){if(x)e:{var S=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var V=f[R];if(!(V in S))break e;S=S[V]}f=f[f.length-1],R=S[f],x=x(R),x!=R&&x!=null&&e(S,f,{configurable:!0,writable:!0,value:x})}}function a(f,x){f instanceof String&&(f+="");var S=0,R=!1,V={next:function(){if(!R&&S<f.length){var U=S++;return{value:x(U,f[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(f){return f||function(){return a(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function u(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function c(f,x,S){return f.call.apply(f.bind,arguments)}function d(f,x,S){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),f.apply(x,V)}}return function(){return f.apply(x,arguments)}}function h(f,x,S){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,x){var S=Array.prototype.slice.call(arguments,1);return function(){var R=S.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function m(f,x){function S(){}S.prototype=x.prototype,f.aa=x.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(R,V,U){for(var ee=Array(arguments.length-2),We=2;We<arguments.length;We++)ee[We-2]=arguments[We];return x.prototype[V].apply(R,ee)}}function y(f){const x=f.length;if(0<x){const S=Array(x);for(let R=0;R<x;R++)S[R]=f[R];return S}return[]}function w(f,x){for(let S=1;S<arguments.length;S++){const R=arguments[S];if(l(R)){const V=f.length||0,U=R.length||0;f.length=V+U;for(let ee=0;ee<U;ee++)f[V+ee]=R[ee]}else f.push(R)}}class b{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function v(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function A(f){return A[" "](f),f}A[" "]=function(){};var k=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function D(f,x,S){for(const R in f)x.call(S,f[R],R,f)}function T(f,x){for(const S in f)x.call(void 0,f[S],S,f)}function P(f){const x={};for(const S in f)x[S]=f[S];return x}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,x){let S,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(S in R)f[S]=R[S];for(let U=0;U<C.length;U++)S=C[U],Object.prototype.hasOwnProperty.call(R,S)&&(f[S]=R[S])}}function N(f){var x=1;f=f.split(":");const S=[];for(;0<x&&f.length;)S.push(f.shift()),x--;return f.length&&S.push(f.join(":")),S}function j(f){o.setTimeout(()=>{throw f},0)}function O(){var f=z;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class H{constructor(){this.h=this.g=null}add(x,S){const R=B.get();R.set(x,S),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new b(()=>new Z,f=>f.reset());class Z{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,L=!1,z=new H,re=()=>{const f=o.Promise.resolve(void 0);ne=()=>{f.then(de)}};var de=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(S){j(S)}var x=B;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}L=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};o.addEventListener("test",S,x),o.removeEventListener("test",S,x)}catch{}return f}();function G(f,x){if(Ee.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(k){e:{try{A(x.nodeName);var V=!0;break e}catch{}V=!1}V||(x=null)}}else S=="mouseover"?x=f.fromElement:S=="mouseout"&&(x=f.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Oe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&G.aa.h.call(this)}}m(G,Ee);var Oe={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),er=0;function oe(f,x,S,R,V){this.listener=f,this.proxy=null,this.src=x,this.type=S,this.capture=!!R,this.ha=V,this.key=++er,this.da=this.fa=!1}function we(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Se(f){this.src=f,this.g={},this.h=0}Se.prototype.add=function(f,x,S,R,V){var U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);var ee=At(f,x,R,V);return-1<ee?(x=f[ee],S||(x.fa=!1)):(x=new oe(x,this.src,U,!!R,V),x.fa=S,f.push(x)),x};function Y(f,x){var S=x.type;if(S in f.g){var R=f.g[S],V=Array.prototype.indexOf.call(R,x,void 0),U;(U=0<=V)&&Array.prototype.splice.call(R,V,1),U&&(we(x),f.g[S].length==0&&(delete f.g[S],f.h--))}}function At(f,x,S,R){for(var V=0;V<f.length;++V){var U=f[V];if(!U.da&&U.listener==x&&U.capture==!!S&&U.ha==R)return V}return-1}var De="closure_lm_"+(1e6*Math.random()|0),Ct={};function Ht(f,x,S,R,V){if(Array.isArray(x)){for(var U=0;U<x.length;U++)Ht(f,x[U],S,R,V);return null}return S=J(S),f&&f[Te]?f.K(x,S,u(R)?!!R.capture:!1,V):Vr(f,x,S,!1,R,V)}function Vr(f,x,S,R,V,U){if(!x)throw Error("Invalid event type");var ee=u(V)?!!V.capture:!!V,We=ie(f);if(We||(f[De]=We=new Se(f)),S=We.add(x,S,R,ee,U),S.proxy)return S;if(R=Pu(),S.proxy=R,R.src=f,R.listener=S,f.addEventListener)Tt||(V=ee),V===void 0&&(V=!1),f.addEventListener(x.toString(),R,V);else if(f.attachEvent)f.attachEvent($(x.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Pu(){function f(S){return x.call(f.src,f.listener,S)}const x=W;return f}function Tu(f,x,S,R,V){if(Array.isArray(x))for(var U=0;U<x.length;U++)Tu(f,x[U],S,R,V);else R=u(R)?!!R.capture:!!R,S=J(S),f&&f[Te]?(f=f.i,x=String(x).toString(),x in f.g&&(U=f.g[x],S=At(U,S,R,V),-1<S&&(we(U[S]),Array.prototype.splice.call(U,S,1),U.length==0&&(delete f.g[x],f.h--)))):f&&(f=ie(f))&&(x=f.g[x.toString()],f=-1,x&&(f=At(x,S,R,V)),(S=-1<f?x[f]:null)&&M(S))}function M(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Te])Y(x.i,f);else{var S=f.type,R=f.proxy;x.removeEventListener?x.removeEventListener(S,R,f.capture):x.detachEvent?x.detachEvent($(S),R):x.addListener&&x.removeListener&&x.removeListener(R),(S=ie(x))?(Y(S,f),S.h==0&&(S.src=null,x[De]=null)):we(f)}}}function $(f){return f in Ct?Ct[f]:Ct[f]="on"+f}function W(f,x){if(f.da)f=!0;else{x=new G(x,this);var S=f.listener,R=f.ha||f.src;f.fa&&M(f),f=S.call(R,x)}return f}function ie(f){return f=f[De],f instanceof Se?f:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function J(f){return typeof f=="function"?f:(f[te]||(f[te]=function(x){return f.handleEvent(x)}),f[te])}function se(){X.call(this),this.i=new Se(this),this.M=this,this.F=null}m(se,X),se.prototype[Te]=!0,se.prototype.removeEventListener=function(f,x,S,R){Tu(this,f,x,S,R)};function xe(f,x){var S,R=f.F;if(R)for(S=[];R;R=R.F)S.push(R);if(f=f.M,R=x.type||x,typeof x=="string")x=new Ee(x,f);else if(x instanceof Ee)x.target=x.target||f;else{var V=x;x=new Ee(R,f),I(x,V)}if(V=!0,S)for(var U=S.length-1;0<=U;U--){var ee=x.g=S[U];V=Ve(ee,R,!0,x)&&V}if(ee=x.g=f,V=Ve(ee,R,!0,x)&&V,V=Ve(ee,R,!1,x)&&V,S)for(U=0;U<S.length;U++)ee=x.g=S[U],V=Ve(ee,R,!1,x)&&V}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var S=f.g[x],R=0;R<S.length;R++)we(S[R]);delete f.g[x],f.h--}}this.F=null},se.prototype.K=function(f,x,S,R){return this.i.add(String(f),x,!1,S,R)},se.prototype.L=function(f,x,S,R){return this.i.add(String(f),x,!0,S,R)};function Ve(f,x,S,R){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var V=!0,U=0;U<x.length;++U){var ee=x[U];if(ee&&!ee.da&&ee.capture==S){var We=ee.listener,nn=ee.ha||ee.src;ee.fa&&Y(f.i,ee),V=We.call(nn,R)!==!1&&V}}return V&&!R.defaultPrevented}function kn(f,x,S){if(typeof f=="function")S&&(f=h(f,S));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:o.setTimeout(f,x||0)}function Is(f){f.g=kn(()=>{f.g=null,f.i&&(f.i=!1,Is(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class ni extends X{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(f){X.call(this),this.h=f,this.g={}}m(ks,X);var Vo=[];function $o(f){D(f.g,function(x,S){this.g.hasOwnProperty(S)&&M(x)},f),f.g={}}ks.prototype.N=function(){ks.aa.N.call(this),$o(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Au=o.JSON.stringify,vf=o.JSON.parse,Ay=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Fo(){}Fo.prototype.h=null;function YE(f){return f.h||(f.h=f.i())}function QE(){}var Cu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cy(){Ee.call(this,"d")}m(Cy,Ee);function Iy(){Ee.call(this,"c")}m(Iy,Ee);var Os={},XE=null;function wf(){return XE=XE||new se}Os.La="serverreachability";function JE(f){Ee.call(this,Os.La,f)}m(JE,Ee);function Iu(f){const x=wf();xe(x,new JE(x))}Os.STAT_EVENT="statevent";function ZE(f,x){Ee.call(this,Os.STAT_EVENT,f),this.stat=x}m(ZE,Ee);function On(f){const x=wf();xe(x,new ZE(x,f))}Os.Ma="timingevent";function eS(f,x){Ee.call(this,Os.Ma,f),this.size=x}m(eS,Ee);function ku(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},x)}function Ou(){this.g=!0}Ou.prototype.xa=function(){this.g=!1};function cF(f,x,S,R,V,U){f.info(function(){if(f.g)if(U)for(var ee="",We=U.split("&"),nn=0;nn<We.length;nn++){var Me=We[nn].split("=");if(1<Me.length){var pn=Me[0];Me=Me[1];var mn=pn.split("_");ee=2<=mn.length&&mn[1]=="type"?ee+(pn+"="+Me+"&"):ee+(pn+"=redacted&")}}else ee=null;else ee=U;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+x+`
`+S+`
`+ee})}function dF(f,x,S,R,V,U,ee){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+x+`
`+S+`
`+U+" "+ee})}function Uo(f,x,S,R){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+hF(f,S)+(R?" "+R:"")})}function fF(f,x){f.info(function(){return"TIMEOUT: "+x})}Ou.prototype.info=function(){};function hF(f,x){if(!f.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var R=S[f];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return Au(S)}catch{return x}}var xf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ky;function _f(){}m(_f,Fo),_f.prototype.g=function(){return new XMLHttpRequest},_f.prototype.i=function(){return{}},ky=new _f;function va(f,x,S,R){this.j=f,this.i=x,this.l=S,this.R=R||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nS}function nS(){this.i=null,this.g="",this.h=!1}var rS={},Oy={};function Ny(f,x,S){f.L=1,f.v=Pf(Oi(x)),f.m=S,f.P=!0,iS(f,null)}function iS(f,x){f.F=Date.now(),bf(f),f.A=Oi(f.v);var S=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),vS(S.i,"t",R),f.C=0,S=f.j.J,f.h=new nS,f.g=MS(f.j,S?x:null,!f.m),0<f.O&&(f.M=new ni(h(f.Y,f,f.g),f.O)),x=f.U,S=f.g,R=f.ca;var V="readystatechange";Array.isArray(V)||(V&&(Vo[0]=V.toString()),V=Vo);for(var U=0;U<V.length;U++){var ee=Ht(S,V[U],R||x.handleEvent,!1,x.h||x);if(!ee)break;x.g[ee.key]=ee}x=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),Iu(),cF(f.i,f.u,f.A,f.l,f.R,f.m)}va.prototype.ca=function(f){f=f.target;const x=this.M;x&&Ni(f)==3?x.j():this.Y(f)},va.prototype.Y=function(f){try{if(f==this.g)e:{const mn=Ni(this.g);var x=this.g.Ba();const Wo=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||PS(this.g)))){this.J||mn!=4||x==7||(x==8||0>=Wo?Iu(3):Iu(2)),Ry(this);var S=this.g.Z();this.X=S;t:if(aS(this)){var R=PS(this.g);f="";var V=R.length,U=Ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),Nu(this);var ee="";break t}this.h.i=new o.TextDecoder}for(x=0;x<V;x++)this.h.h=!0,f+=this.h.i.decode(R[x],{stream:!(U&&x==V-1)});R.length=0,this.h.g+=f,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=S==200,dF(this.i,this.u,this.A,this.l,this.R,mn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,nn=this.g;if((We=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(We)){var Me=We;break t}}Me=null}if(S=Me)Uo(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dy(this,S);else{this.o=!1,this.s=3,On(12),Ns(this),Nu(this);break e}}if(this.P){S=!0;let $r;for(;!this.J&&this.C<ee.length;)if($r=pF(this,ee),$r==Oy){mn==4&&(this.s=4,On(14),S=!1),Uo(this.i,this.l,null,"[Incomplete Response]");break}else if($r==rS){this.s=4,On(15),Uo(this.i,this.l,ee,"[Invalid Chunk]"),S=!1;break}else Uo(this.i,this.l,$r,null),Dy(this,$r);if(aS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||ee.length!=0||this.h.h||(this.s=1,On(16),S=!1),this.o=this.o&&S,!S)Uo(this.i,this.l,ee,"[Invalid Chunked Response]"),Ns(this),Nu(this);else if(0<ee.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Fy(pn),pn.M=!0,On(11))}}else Uo(this.i,this.l,ee,null),Dy(this,ee);mn==4&&Ns(this),this.o&&!this.J&&(mn==4?NS(this.j,this):(this.o=!1,bf(this)))}else OF(this.g),S==400&&0<ee.indexOf("Unknown SID")?(this.s=3,On(12)):(this.s=0,On(13)),Ns(this),Nu(this)}}}catch{}finally{}};function aS(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function pF(f,x){var S=f.C,R=x.indexOf(`
`,S);return R==-1?Oy:(S=Number(x.substring(S,R)),isNaN(S)?rS:(R+=1,R+S>x.length?Oy:(x=x.slice(R,R+S),f.C=R+S,x)))}va.prototype.cancel=function(){this.J=!0,Ns(this)};function bf(f){f.S=Date.now()+f.I,sS(f,f.I)}function sS(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ku(h(f.ba,f),x)}function Ry(f){f.B&&(o.clearTimeout(f.B),f.B=null)}va.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(fF(this.i,this.A),this.L!=2&&(Iu(),On(17)),Ns(this),this.s=2,Nu(this)):sS(this,this.S-f)};function Nu(f){f.j.G==0||f.J||NS(f.j,f)}function Ns(f){Ry(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,$o(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function Dy(f,x){try{var S=f.j;if(S.G!=0&&(S.g==f||jy(S.h,f))){if(!f.K&&jy(S.h,f)&&S.G==3){try{var R=S.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Of(S),If(S);else break e;$y(S),On(18)}}else S.za=V[1],0<S.za-S.T&&37500>V[2]&&S.F&&S.v==0&&!S.C&&(S.C=ku(h(S.Za,S),6e3));if(1>=uS(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Ds(S,11)}else if((f.K||S.g==f)&&Of(S),!v(x))for(V=S.Da.g.parse(x),x=0;x<V.length;x++){let Me=V[x];if(S.T=Me[0],Me=Me[1],S.G==2)if(Me[0]=="c"){S.K=Me[1],S.ia=Me[2];const pn=Me[3];pn!=null&&(S.la=pn,S.j.info("VER="+S.la));const mn=Me[4];mn!=null&&(S.Aa=mn,S.j.info("SVER="+S.Aa));const Wo=Me[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(R=1.5*Wo,S.L=R,S.j.info("backChannelRequestTimeoutMs_="+R)),R=S;const $r=f.g;if($r){const Rf=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rf){var U=R.h;U.g||Rf.indexOf("spdy")==-1&&Rf.indexOf("quic")==-1&&Rf.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(My(U,U.h),U.h=null))}if(R.D){const Uy=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;Uy&&(R.ya=Uy,Xe(R.I,R.D,Uy))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),R=S;var ee=f;if(R.qa=jS(R,R.J?R.ia:null,R.W),ee.K){cS(R.h,ee);var We=ee,nn=R.L;nn&&(We.I=nn),We.B&&(Ry(We),bf(We)),R.g=ee}else kS(R);0<S.i.length&&kf(S)}else Me[0]!="stop"&&Me[0]!="close"||Ds(S,7);else S.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ds(S,7):Vy(S):Me[0]!="noop"&&S.l&&S.l.ta(Me),S.v=0)}}Iu(4)}catch{}}var mF=class{constructor(f,x){this.g=f,this.map=x}};function oS(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lS(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function uS(f){return f.h?1:f.g?f.g.size:0}function jy(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function My(f,x){f.g?f.g.add(x):f.h=x}function cS(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}oS.prototype.cancel=function(){if(this.i=dS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function dS(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const S of f.g.values())x=x.concat(S.D);return x}return y(f.i)}function gF(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var x=[],S=f.length,R=0;R<S;R++)x.push(f[R]);return x}x=[],S=0;for(R in f)x[S++]=f[R];return x}function yF(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var x=[];f=f.length;for(var S=0;S<f;S++)x.push(S);return x}x=[],S=0;for(const R in f)x[S++]=R;return x}}}function fS(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var S=yF(f),R=gF(f),V=R.length,U=0;U<V;U++)x.call(void 0,R[U],S&&S[U],f)}var hS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vF(f,x){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var R=f[S].indexOf("="),V=null;if(0<=R){var U=f[S].substring(0,R);V=f[S].substring(R+1)}else U=f[S];x(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Rs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Rs){this.h=f.h,Ef(this,f.j),this.o=f.o,this.g=f.g,Sf(this,f.s),this.l=f.l;var x=f.i,S=new ju;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),pS(this,S),this.m=f.m}else f&&(x=String(f).match(hS))?(this.h=!1,Ef(this,x[1]||"",!0),this.o=Ru(x[2]||""),this.g=Ru(x[3]||"",!0),Sf(this,x[4]),this.l=Ru(x[5]||"",!0),pS(this,x[6]||"",!0),this.m=Ru(x[7]||"")):(this.h=!1,this.i=new ju(null,this.h))}Rs.prototype.toString=function(){var f=[],x=this.j;x&&f.push(Du(x,mS,!0),":");var S=this.g;return(S||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Du(x,mS,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Du(S,S.charAt(0)=="/"?_F:xF,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Du(S,EF)),f.join("")};function Oi(f){return new Rs(f)}function Ef(f,x,S){f.j=S?Ru(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Sf(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function pS(f,x,S){x instanceof ju?(f.i=x,SF(f.i,f.h)):(S||(x=Du(x,bF)),f.i=new ju(x,f.h))}function Xe(f,x,S){f.i.set(x,S)}function Pf(f){return Xe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ru(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Du(f,x,S){return typeof f=="string"?(f=encodeURI(f).replace(x,wF),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wF(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var mS=/[#\/\?@]/g,xF=/[#\?:]/g,_F=/[#\?]/g,bF=/[#\?@]/g,EF=/#/g;function ju(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function wa(f){f.g||(f.g=new Map,f.h=0,f.i&&vF(f.i,function(x,S){f.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}t=ju.prototype,t.add=function(f,x){wa(this),this.i=null,f=Bo(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(x),this.h+=1,this};function gS(f,x){wa(f),x=Bo(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function yS(f,x){return wa(f),x=Bo(f,x),f.g.has(x)}t.forEach=function(f,x){wa(this),this.g.forEach(function(S,R){S.forEach(function(V){f.call(x,V,R,this)},this)},this)},t.na=function(){wa(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let R=0;R<x.length;R++){const V=f[R];for(let U=0;U<V.length;U++)S.push(x[R])}return S},t.V=function(f){wa(this);let x=[];if(typeof f=="string")yS(this,f)&&(x=x.concat(this.g.get(Bo(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)x=x.concat(f[S])}return x},t.set=function(f,x){return wa(this),this.i=null,f=Bo(this,f),yS(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function vS(f,x,S){gS(f,x),0<S.length&&(f.i=null,f.g.set(Bo(f,x),y(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var R=x[S];const U=encodeURIComponent(String(R)),ee=this.V(R);for(R=0;R<ee.length;R++){var V=U;ee[R]!==""&&(V+="="+encodeURIComponent(String(ee[R]))),f.push(V)}}return this.i=f.join("&")};function Bo(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function SF(f,x){x&&!f.j&&(wa(f),f.i=null,f.g.forEach(function(S,R){var V=R.toLowerCase();R!=V&&(gS(this,R),vS(this,V,S))},f)),f.j=x}function PF(f,x){const S=new Ou;if(o.Image){const R=new Image;R.onload=p(xa,S,"TestLoadImage: loaded",!0,x,R),R.onerror=p(xa,S,"TestLoadImage: error",!1,x,R),R.onabort=p(xa,S,"TestLoadImage: abort",!1,x,R),R.ontimeout=p(xa,S,"TestLoadImage: timeout",!1,x,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else x(!1)}function TF(f,x){const S=new Ou,R=new AbortController,V=setTimeout(()=>{R.abort(),xa(S,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:R.signal}).then(U=>{clearTimeout(V),U.ok?xa(S,"TestPingServer: ok",!0,x):xa(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(V),xa(S,"TestPingServer: error",!1,x)})}function xa(f,x,S,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(S)}catch{}}function AF(){this.g=new Ay}function CF(f,x,S){const R=S||"";try{fS(f,function(V,U){let ee=V;u(V)&&(ee=Au(V)),x.push(R+U+"="+encodeURIComponent(ee))})}catch(V){throw x.push(R+"type="+encodeURIComponent("_badmap")),V}}function Tf(f){this.l=f.Ub||null,this.j=f.eb||!1}m(Tf,Fo),Tf.prototype.g=function(){return new Af(this.l,this.j)},Tf.prototype.i=function(f){return function(){return f}}({});function Af(f,x){se.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Af,se),t=Af.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,Lu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||o).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Lu(this)),this.g&&(this.readyState=3,Lu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wS(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function wS(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Mu(this):Lu(this),this.readyState==3&&wS(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Mu(this))},t.Qa=function(f){this.g&&(this.response=f,Mu(this))},t.ga=function(){this.g&&Mu(this)};function Mu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Lu(f)}t.setRequestHeader=function(f,x){this.u.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=x.next();return f.join(`\r
`)};function Lu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Af.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function xS(f){let x="";return D(f,function(S,R){x+=R,x+=":",x+=S,x+=`\r
`}),x}function Ly(f,x,S){e:{for(R in S){var R=!1;break e}R=!0}R||(S=xS(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):Xe(f,x,S))}function mt(f){se.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(mt,se);var IF=/^https?$/i,kF=["POST","PUT"];t=mt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,x,S,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ky.g(),this.v=this.o?YE(this.o):YE(ky),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(U){_S(this,U);return}if(f=S||"",S=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)S.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())S.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(S.keys()).find(U=>U.toLowerCase()=="content-type"),V=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(kF,x,void 0))||R||V||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ee]of S)this.g.setRequestHeader(U,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{SS(this),this.u=!0,this.g.send(f),this.u=!1}catch(U){_S(this,U)}};function _S(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,bS(f),Cf(f)}function bS(f){f.A||(f.A=!0,xe(f,"complete"),xe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,xe(this,"complete"),xe(this,"abort"),Cf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cf(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ES(this):this.bb())},t.bb=function(){ES(this)};function ES(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Ni(f)!=4||f.Z()!=2)){if(f.u&&Ni(f)==4)kn(f.Ea,0,f);else if(xe(f,"readystatechange"),Ni(f)==4){f.h=!1;try{const ee=f.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var R;if(R=ee===0){var V=String(f.D).match(hS)[1]||null;!V&&o.self&&o.self.location&&(V=o.self.location.protocol.slice(0,-1)),R=!IF.test(V?V.toLowerCase():"")}S=R}if(S)xe(f,"complete"),xe(f,"success");else{f.m=6;try{var U=2<Ni(f)?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.Z()+"]",bS(f)}}finally{Cf(f)}}}}function Cf(f,x){if(f.g){SS(f);const S=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||xe(f,"ready");try{S.onreadystatechange=R}catch{}}}function SS(f){f.I&&(o.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ni(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),vf(x)}};function PS(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function OF(f){const x={};f=(f.g&&2<=Ni(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(v(f[R]))continue;var S=N(f[R]);const V=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const U=x[V]||[];x[V]=U,U.push(S)}T(x,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vu(f,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||x}function TS(f){this.Aa=0,this.i=[],this.j=new Ou,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vu("baseRetryDelayMs",5e3,f),this.cb=Vu("retryDelaySeedMs",1e4,f),this.Wa=Vu("forwardChannelMaxRetries",2,f),this.wa=Vu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new oS(f&&f.concurrentRequestLimit),this.Da=new AF,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=TS.prototype,t.la=8,t.G=1,t.connect=function(f,x,S,R){On(0),this.W=f,this.H=x||{},S&&R!==void 0&&(this.H.OSID=S,this.H.OAID=R),this.F=this.X,this.I=jS(this,null,this.W),kf(this)};function Vy(f){if(AS(f),f.G==3){var x=f.U++,S=Oi(f.I);if(Xe(S,"SID",f.K),Xe(S,"RID",x),Xe(S,"TYPE","terminate"),$u(f,S),x=new va(f,f.j,x),x.L=2,x.v=Pf(Oi(S)),S=!1,o.navigator&&o.navigator.sendBeacon)try{S=o.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&o.Image&&(new Image().src=x.v,S=!0),S||(x.g=MS(x.j,null),x.g.ea(x.v)),x.F=Date.now(),bf(x)}DS(f)}function If(f){f.g&&(Fy(f),f.g.cancel(),f.g=null)}function AS(f){If(f),f.u&&(o.clearTimeout(f.u),f.u=null),Of(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function kf(f){if(!lS(f.h)&&!f.s){f.s=!0;var x=f.Ga;ne||re(),L||(ne(),L=!0),z.add(x,f),f.B=0}}function NF(f,x){return uS(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ku(h(f.Ga,f,x),RS(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const V=new va(this,this.j,f);let U=this.o;if(this.S&&(U?(U=P(U),I(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var R=this.i[S];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=IS(this,V,x),S=Oi(this.I),Xe(S,"RID",f),Xe(S,"CVER",22),this.D&&Xe(S,"X-HTTP-Session-Id",this.D),$u(this,S),U&&(this.O?x="headers="+encodeURIComponent(String(xS(U)))+"&"+x:this.m&&Ly(S,this.m,U)),My(this.h,V),this.Ua&&Xe(S,"TYPE","init"),this.P?(Xe(S,"$req",x),Xe(S,"SID","null"),V.T=!0,Ny(V,S,null)):Ny(V,S,x),this.G=2}}else this.G==3&&(f?CS(this,f):this.i.length==0||lS(this.h)||CS(this))};function CS(f,x){var S;x?S=x.l:S=f.U++;const R=Oi(f.I);Xe(R,"SID",f.K),Xe(R,"RID",S),Xe(R,"AID",f.T),$u(f,R),f.m&&f.o&&Ly(R,f.m,f.o),S=new va(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),x&&(f.i=x.D.concat(f.i)),x=IS(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),My(f.h,S),Ny(S,R,x)}function $u(f,x){f.H&&D(f.H,function(S,R){Xe(x,R,S)}),f.l&&fS({},function(S,R){Xe(x,R,S)})}function IS(f,x,S){S=Math.min(f.i.length,S);var R=f.l?h(f.l.Na,f.l,f):null;e:{var V=f.i;let U=-1;for(;;){const ee=["count="+S];U==-1?0<S?(U=V[0].g,ee.push("ofs="+U)):U=0:ee.push("ofs="+U);let We=!0;for(let nn=0;nn<S;nn++){let Me=V[nn].g;const pn=V[nn].map;if(Me-=U,0>Me)U=Math.max(0,V[nn].g-100),We=!1;else try{CF(pn,ee,"req"+Me+"_")}catch{R&&R(pn)}}if(We){R=ee.join("&");break e}}}return f=f.i.splice(0,S),x.D=f,R}function kS(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;ne||re(),L||(ne(),L=!0),z.add(x,f),f.v=0}}function $y(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ku(h(f.Fa,f),RS(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,OS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ku(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,On(10),If(this),OS(this))};function Fy(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function OS(f){f.g=new va(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=Oi(f.qa);Xe(x,"RID","rpc"),Xe(x,"SID",f.K),Xe(x,"AID",f.T),Xe(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&Xe(x,"TO",f.ja),Xe(x,"TYPE","xmlhttp"),$u(f,x),f.m&&f.o&&Ly(x,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Pf(Oi(x)),S.m=null,S.P=!0,iS(S,f)}t.Za=function(){this.C!=null&&(this.C=null,If(this),$y(this),On(19))};function Of(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function NS(f,x){var S=null;if(f.g==x){Of(f),Fy(f),f.g=null;var R=2}else if(jy(f.h,x))S=x.D,cS(f.h,x),R=1;else return;if(f.G!=0){if(x.o)if(R==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var V=f.B;R=wf(),xe(R,new eS(R,S)),kf(f)}else kS(f);else if(V=x.s,V==3||V==0&&0<x.X||!(R==1&&NF(f,x)||R==2&&$y(f)))switch(S&&0<S.length&&(x=f.h,x.i=x.i.concat(S)),V){case 1:Ds(f,5);break;case 4:Ds(f,10);break;case 3:Ds(f,6);break;default:Ds(f,2)}}}function RS(f,x){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*x}function Ds(f,x){if(f.j.info("Error code "+x),x==2){var S=h(f.fb,f),R=f.Xa;const V=!R;R=new Rs(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ef(R,"https"),Pf(R),V?PF(R.toString(),S):TF(R.toString(),S)}else On(2);f.G=0,f.l&&f.l.sa(x),DS(f),AS(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),On(2)):(this.j.info("Failed to ping google.com"),On(1))};function DS(f){if(f.G=0,f.ka=[],f.l){const x=dS(f.h);(x.length!=0||f.i.length!=0)&&(w(f.ka,x),w(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function jS(f,x,S){var R=S instanceof Rs?Oi(S):new Rs(S);if(R.g!="")x&&(R.g=x+"."+R.g),Sf(R,R.s);else{var V=o.location;R=V.protocol,x=x?x+"."+V.hostname:V.hostname,V=+V.port;var U=new Rs(null);R&&Ef(U,R),x&&(U.g=x),V&&Sf(U,V),S&&(U.l=S),R=U}return S=f.D,x=f.ya,S&&x&&Xe(R,S,x),Xe(R,"VER",f.la),$u(f,R),R}function MS(f,x,S){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new mt(new Tf({eb:S})):new mt(f.pa),x.Ha(f.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function LS(){}t=LS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nf(){}Nf.prototype.g=function(f,x){return new tr(f,x)};function tr(f,x){se.call(this),this.g=new TS(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!v(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!v(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new zo(this)}m(tr,se),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){Vy(this.g)},tr.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Au(f),f=S);x.i.push(new mF(x.Ya++,f)),x.G==3&&kf(x)},tr.prototype.N=function(){this.g.l=null,delete this.j,Vy(this.g),delete this.g,tr.aa.N.call(this)};function VS(f){Cy.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const S in x){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}m(VS,Cy);function $S(){Iy.call(this),this.status=1}m($S,Iy);function zo(f){this.g=f}m(zo,LS),zo.prototype.ua=function(){xe(this.g,"a")},zo.prototype.ta=function(f){xe(this.g,new VS(f))},zo.prototype.sa=function(f){xe(this.g,new $S)},zo.prototype.ra=function(){xe(this.g,"b")},Nf.prototype.createWebChannel=Nf.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,I2=function(){return new Nf},C2=function(){return wf()},A2=Os,uw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xf.NO_ERROR=0,xf.TIMEOUT=8,xf.HTTP_ERROR=6,qh=xf,tS.COMPLETE="complete",T2=tS,QE.EventType=Cu,Cu.OPEN="a",Cu.CLOSE="b",Cu.ERROR="c",Cu.MESSAGE="d",se.prototype.listen=se.prototype.K,hc=QE,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,P2=mt}).apply(typeof Zf<"u"?Zf:typeof self<"u"?self:typeof window<"u"?window:{});const IT="@firebase/firestore",kT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new j_("@firebase/firestore");function el(){return vo.logLevel}function le(t,...e){if(vo.logLevel<=Ae.DEBUG){const n=e.map(G_);vo.debug(`Firestore (${uu}): ${t}`,...n)}}function na(t,...e){if(vo.logLevel<=Ae.ERROR){const n=e.map(G_);vo.error(`Firestore (${uu}): ${t}`,...n)}}function Ul(t,...e){if(vo.logLevel<=Ae.WARN){const n=e.map(G_);vo.warn(`Firestore (${uu}): ${t}`,...n)}}function G_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,k2(t,r,n)}function k2(t,e,n){let r=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw na(r),new Error(r)}function Fe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||k2(e,i,r)}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class g8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y8{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Xa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xa,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xa)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new O2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class v8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new v8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const r=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_8(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function cw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Sv(i)===Sv(a)?Ce(i,a):Sv(i)?1:-1}return Ce(t.length,e.length)}const b8=55296,E8=57343;function Sv(t){const e=t.charCodeAt(0);return e>=b8&&e<=E8}function Bl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__name__";class ai{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ai.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ce(e.length,n.length)}static compareSegments(e,n){const r=ai.isNumericId(e),i=ai.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ai.extractNumericId(e).compare(ai.extractNumericId(n)):cw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qa.fromString(e.substring(4,e.length-2))}}class Ge extends ai{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const S8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ai{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return S8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NT}static keyField(){return new ln([NT])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ae(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new ae(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Ge.fromString(e))}static fromName(e){return new me(Ge.fromString(e).popFirst(5))}static empty(){return new me(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e,n){if(!n)throw new ae(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P8(t,e,n,r){if(e===!0&&r===!0)throw new ae(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RT(t){if(!me.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DT(t){if(me.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function R2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ag(t);throw new ae(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bd(t,e){if(!R2(t))throw new ae(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ae(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=-62135596800,MT=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MT);return new Ie(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jT)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MT}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bd(e,Ie._jsonSchema))return new Ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:Dt("string",Ie._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Ie(0,0))}static max(){return new _e(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=-1;function T8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new is(i,me.empty(),e)}function A8(t){return new is(t.readTime,t.key,ad)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(_e.min(),me.empty(),ad)}static max(){return new is(_e.max(),me.empty(),ad)}}function C8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==I8)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(e,n){return new K((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function O8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function du(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-1;function og(t){return t==null}function Rp(t){return t===0&&1/t==-1/0}function N8(t){return typeof t=="number"&&Number.isInteger(t)&&!Rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="";function R8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LT(e)),e=D8(t.get(n),e);return LT(e)}function D8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case D2:n+="";break;default:n+=a}}return n}function LT(t){return t+D2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $T(this.data.getIterator())}getIteratorFrom(e){return new $T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class $T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new ur([])}unionWith(e){let n=new Ut(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new M2("Invalid base64 string: "+a):a}}(e);return new dn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const j8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(t){if(Fe(!!t,39018),typeof t=="string"){let e=0;const n=j8.exec(t);if(Fe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="server_timestamp",V2="__type__",$2="__previous_value__",F2="__local_write_time__";function X_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[V2])==null?void 0:r.stringValue)===L2}function lg(t){const e=t.mapValue.fields[$2];return X_(e)?lg(e):e}function sd(t){const e=as(t.mapValue.fields[F2].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n,r,i,a,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Dp="(default)";class od{constructor(e,n){this.projectId=e,this.database=n||Dp}static empty(){return new od("","")}get isDefaultDatabase(){return this.database===Dp}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="__type__",L8="__max__",th={mapValue:{}},B2="__vector__",jp="value";function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X_(t)?4:$8(t)?9007199254740991:V8(t)?10:11:ge(28295,{value:t})}function Si(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sd(t).isEqual(sd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=as(i.timestampValue),o=as(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ss(i.bytesValue).isEqual(ss(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return _t(i.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return _t(i.integerValue)===_t(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=_t(i.doubleValue),o=_t(a.doubleValue);return s===o?Rp(s)===Rp(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(VT(s)!==VT(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Si(s[l],o[l])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function ld(t,e){return(t.values||[]).find(n=>Si(n,e))!==void 0}function zl(t,e){if(t===e)return 0;const n=os(t),r=os(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=_t(a.integerValue||a.doubleValue),l=_t(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return FT(t.timestampValue,e.timestampValue);case 4:return FT(sd(t),sd(e));case 5:return cw(t.stringValue,e.stringValue);case 6:return function(a,s){const o=ss(a),l=ss(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=Ce(o[u],l[u]);if(c!==0)return c}return Ce(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Ce(_t(a.latitude),_t(s.latitude));return o!==0?o:Ce(_t(a.longitude),_t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UT(t.arrayValue,e.arrayValue);case 10:return function(a,s){var h,p,m,y;const o=a.fields||{},l=s.fields||{},u=(h=o[jp])==null?void 0:h.arrayValue,c=(p=l[jp])==null?void 0:p.arrayValue,d=Ce(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return d!==0?d:UT(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===th.mapValue&&s===th.mapValue)return 0;if(a===th.mapValue)return 1;if(s===th.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=cw(l[d],c[d]);if(h!==0)return h;const p=zl(o[l[d]],u[c[d]]);if(p!==0)return p}return Ce(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function FT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=as(t),r=as(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function UT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=zl(n[i],r[i]);if(a)return a}return Ce(n.length,r.length)}function Wl(t){return dw(t)}function dw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=as(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=dw(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${dw(n.fields[s])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function Hh(t){switch(os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lg(t);return e?16+Hh(e):16;case 5:return 2*t.stringValue.length;case 6:return ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Hh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ws(r.fields,(a,s)=>{i+=a.length+Hh(s)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function BT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fw(t){return!!t&&"integerValue"in t}function J_(t){return!!t&&"arrayValue"in t}function zT(t){return!!t&&"nullValue"in t}function WT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function V8(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[U2])==null?void 0:r.stringValue)===B2}function Ic(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return{...t}}function $8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===L8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Ic(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new qn(Ic(this.value))}}function z2(t){const e=[];return ws(t.fields,(n,r)=>{const i=new ln([n]);if(Kh(r)){const a=z2(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new En(e,0,_e.min(),_e.min(),_e.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new En(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new En(e,2,n,_e.min(),_e.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,_e.min(),_e.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.position=e,this.inclusive=n}}function qT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=me.comparator(me.fromName(s.referenceValue),n.key):r=zl(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function HT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function F8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W2=class{};class Rt extends W2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new B8(e,n,r):n==="array-contains"?new q8(e,r):n==="in"?new H8(e,r):n==="not-in"?new K8(e,r):n==="array-contains-any"?new G8(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z8(e,r):new W8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends W2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zr(e,n)}matches(e){return q2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q2(t){return t.op==="and"}function H2(t){return U8(t)&&q2(t)}function U8(t){for(const e of t.filters)if(e instanceof Zr)return!1;return!0}function hw(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(H2(t))return t.filters.map(e=>hw(e)).join(",");{const e=t.filters.map(n=>hw(n)).join(",");return`${t.op}(${e})`}}function K2(t,e){return t instanceof Rt?function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&Si(r.value,i.value)}(t,e):t instanceof Zr?function(r,i){return i instanceof Zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&K2(s,i.filters[o]),!0):!1}(t,e):void ge(19439)}function G2(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`}(t):t instanceof Zr?function(n){return n.op.toString()+" {"+n.getFilters().map(G2).join(" ,")+"}"}(t):"Filter"}class B8 extends Rt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class z8 extends Rt{constructor(e,n){super(e,"in",n),this.keys=Y2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W8 extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=Y2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Y2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class q8 extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return J_(n)&&ld(n.arrayValue,this.value)}}class H8 extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ld(this.value.arrayValue,n)}}class K8 extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ld(this.value.arrayValue,n)}}class G8 extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!J_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ld(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function KT(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Y8(t,e,n,r,i,a,s)}function Z_(t){const e=be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),og(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.Te=n}return e.Te}function eb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HT(t.startAt,e.startAt)&&HT(t.endAt,e.endAt)}function pw(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q8(t,e,n,r,i,a,s,o){return new fu(t,e,n,r,i,a,s,o)}function Q2(t){return new fu(t)}function GT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X2(t){return t.collectionGroup!==null}function kc(t){const e=be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ut(ln.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ud(a,r))}),n.has(ln.keyField().canonicalString())||e.Ie.push(new ud(ln.keyField(),r))}return e.Ie}function vi(t){const e=be(t);return e.Ee||(e.Ee=X8(e,kc(t))),e.Ee}function X8(t,e){if(t.limitType==="F")return KT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ud(i.field,a)});const n=t.endAt?new Mp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mp(t.startAt.position,t.startAt.inclusive):null;return KT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mw(t,e){const n=t.filters.concat([e]);return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gw(t,e,n){return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ug(t,e){return eb(vi(t),vi(e))&&t.limitType===e.limitType}function J2(t){return`${Z_(vi(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>G2(i)).join(", ")}]`),og(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wl(i)).join(",")),`Target(${r})`}(vi(t))}; limitType=${t.limitType})`}function cg(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):me.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of kc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=qT(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,kc(r),i)||r.endAt&&!function(s,o,l){const u=qT(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,kc(r),i))}(t,e)}function J8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z2(t){return(e,n)=>{let r=!1;for(const i of kc(t)){const a=Z8(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Z8(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?zl(l,u):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return j2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=new ht(me.comparator);function ra(){return eW}const eD=new ht(me.comparator);function pc(...t){let e=eD;for(const n of t)e=e.insert(n.key,n);return e}function tD(t){let e=eD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ks(){return Oc()}function nD(){return Oc()}function Oc(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const tW=new ht(me.comparator),nW=new Ut(me.comparator);function ke(...t){let e=nW;for(const n of t)e=e.add(n);return e}const rW=new Ut(Ce);function iW(){return rW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(e)?"-0":e}}function rD(t){return{integerValue:""+t}}function aW(t,e){return N8(e)?rD(e):tb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this._=void 0}}function sW(t,e,n){return t instanceof Lp?function(i,a){const s={fields:{[V2]:{stringValue:L2},[F2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&X_(a)&&(a=lg(a)),a&&(s.fields[$2]=a),{mapValue:s}}(n,e):t instanceof cd?aD(t,e):t instanceof dd?sD(t,e):function(i,a){const s=iD(i,a),o=YT(s)+YT(i.Ae);return fw(s)&&fw(i.Ae)?rD(o):tb(i.serializer,o)}(t,e)}function oW(t,e,n){return t instanceof cd?aD(t,e):t instanceof dd?sD(t,e):n}function iD(t,e){return t instanceof Vp?function(r){return fw(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Lp extends dg{}class cd extends dg{constructor(e){super(),this.elements=e}}function aD(t,e){const n=oD(e);for(const r of t.elements)n.some(i=>Si(i,r))||n.push(r);return{arrayValue:{values:n}}}class dd extends dg{constructor(e){super(),this.elements=e}}function sD(t,e){let n=oD(e);for(const r of t.elements)n=n.filter(i=>!Si(i,r));return{arrayValue:{values:n}}}class Vp extends dg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YT(t){return _t(t.integerValue||t.doubleValue)}function oD(t){return J_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cd&&i instanceof cd||r instanceof dd&&i instanceof dd?Bl(r.elements,i.elements,Si):r instanceof Vp&&i instanceof Vp?Si(r.Ae,i.Ae):r instanceof Lp&&i instanceof Lp}(t.transform,e.transform)}class uW{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fg{}function lD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hg(t.key,Xn.none()):new zd(t.key,t.data,Xn.none());{const n=t.data,r=qn.empty();let i=new Ut(ln.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new xs(t.key,r,new ur(i.toArray()),Xn.none())}}function cW(t,e,n){t instanceof zd?function(i,a,s){const o=i.value.clone(),l=XT(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof xs?function(i,a,s){if(!Gh(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=XT(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(uD(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Nc(t,e,n,r){return t instanceof zd?function(a,s,o,l){if(!Gh(a.precondition,s))return o;const u=a.value.clone(),c=JT(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xs?function(a,s,o,l){if(!Gh(a.precondition,s))return o;const u=JT(a.fieldTransforms,l,s),c=s.data;return c.setAll(uD(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return Gh(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function dW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=iD(r.transform,i||null);a!=null&&(n===null&&(n=qn.empty()),n.set(r.field,a))}return n||null}function QT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bl(r,i,(a,s)=>lW(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zd extends fg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xs extends fg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function uD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XT(t,e,n){const r=new Map;Fe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,oW(s,o,n[i]))}return r}function JT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,sW(a,s,e))}return r}class hg extends fg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fW extends fg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&cW(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nD();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=lD(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,(n,r)=>QT(n,r))&&Bl(this.baseMutations,e.baseMutations,(n,r)=>QT(n,r))}}class nb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return tW}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new nb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Ne;function gW(t){switch(t){case q.OK:return ge(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function cD(t){if(t===void 0)return na("GRPC error has no .code"),q.UNKNOWN;switch(t){case kt.OK:return q.OK;case kt.CANCELLED:return q.CANCELLED;case kt.UNKNOWN:return q.UNKNOWN;case kt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case kt.INTERNAL:return q.INTERNAL;case kt.UNAVAILABLE:return q.UNAVAILABLE;case kt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case kt.NOT_FOUND:return q.NOT_FOUND;case kt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case kt.ABORTED:return q.ABORTED;case kt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case kt.DATA_LOSS:return q.DATA_LOSS;default:return ge(39323,{code:t})}}(Ne=kt||(kt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=new Qa([4294967295,4294967295],0);function ZT(t){const e=yW().encode(t),n=new S2;return n.update(e),new Uint8Array(n.digest())}function eA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qa([n,r],0),new Qa([i,a],0)]}class rb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qa.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Qa.fromNumber(r)));return i.compare(vW)===1&&(i=new Qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZT(e),[r,i]=eA(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new rb(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=ZT(e),[r,i]=eA(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pg(_e.min(),i,new ht(Ce),ra(),ke())}}class Wd{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class dD{constructor(e,n){this.targetId=e,this.Ce=n}}class fD{constructor(e,n,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tA{constructor(){this.ve=0,this.Fe=nA(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),r=ke();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:a})}}),new Wd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=nA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wW{constructor(e){this.Ge=e,this.ze=new Map,this.je=ra(),this.Je=nh(),this.He=nh(),this.Ye=new ht(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(pw(a))if(r===0){const s=new me(a.path);this.et(n,s,En.newNoDocument(s,_e.min()))}else Fe(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=ss(r).toUint8Array()}catch(l){if(l instanceof M2)return Ul("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new rb(s,i,a)}catch(l){return Ul(l instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&pw(o.target)){const l=new me(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,En.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=ke();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new pg(e,n,this.Ye,this.je,r);return this.je=ra(),this.Je=nh(),this.He=nh(),this.Ye=new ht(Ce),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tA),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ht(me.comparator)}function nA(){return new ht(me.comparator)}const xW={asc:"ASCENDING",desc:"DESCENDING"},_W={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bW={and:"AND",or:"OR"};class EW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yw(t,e){return t.useProto3Json||og(e)?e:{value:e}}function $p(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SW(t,e){return $p(t,e.toTimestamp())}function wi(t){return Fe(!!t,49232),_e.fromTimestamp(function(n){const r=as(n);return new Ie(r.seconds,r.nanos)}(t))}function ib(t,e){return vw(t,e).canonicalString()}function vw(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pD(t){const e=Ge.fromString(t);return Fe(wD(e),10190,{key:e.toString()}),e}function ww(t,e){return ib(t.databaseId,e.path)}function Pv(t,e){const n=pD(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(gD(n))}function mD(t,e){return ib(t.databaseId,e)}function PW(t){const e=pD(t);return e.length===4?Ge.emptyPath():gD(e)}function xw(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gD(t){return Fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rA(t,e,n){return{name:ww(t,e),fields:n.value.mapValue.fields}}function TW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Fe(c===void 0||typeof c=="string",58123),dn.fromBase64String(c||"")):(Fe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),dn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const c=u.code===void 0?q.UNKNOWN:cD(u.code);return new ae(c,u.message||"")}(s);n=new fD(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pv(t,r.document.name),a=wi(r.document.updateTime),s=r.document.createTime?wi(r.document.createTime):_e.min(),o=new qn({mapValue:{fields:r.document.fields}}),l=En.newFoundDocument(i,a,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Yh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pv(t,r.document),a=r.readTime?wi(r.readTime):_e.min(),s=En.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Yh([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pv(t,r.document),a=r.removedTargetIds||[];n=new Yh([],a,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new mW(i,a),o=r.targetId;n=new dD(o,s)}}return n}function AW(t,e){let n;if(e instanceof zd)n={update:rA(t,e.key,e.value)};else if(e instanceof hg)n={delete:ww(t,e.key)};else if(e instanceof xs)n={update:rA(t,e.key,e.data),updateMask:MW(e.fieldMask)};else{if(!(e instanceof fW))return ge(16599,{Vt:e.type});n={verify:ww(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Lp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof cd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof dd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Vp)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:SW(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ge(27497)}(t,e.precondition)),n}function CW(t,e){return t&&t.length>0?(Fe(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?wi(i.updateTime):wi(a);return s.isEqual(_e.min())&&(s=wi(a)),new uW(s,i.transformResults||[])}(n,e))):[]}function IW(t,e){return{documents:[mD(t,e.path)]}}function kW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mD(t,i);const a=function(u){if(u.length!==0)return vD(Zr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:nl(h.field),direction:RW(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=yw(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function OW(t){let e=PW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(d){const h=yD(d);return h instanceof Zr&&H2(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new ud(rl(m.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,og(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Mp(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Mp(p,h)}(n.endAt)),Q8(e,i,s,a,o,"F",l,u)}function NW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rl(n.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rl(n.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=rl(n.unaryFilter.field);return Rt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(rl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zr.create(n.compositeFilter.filters.map(r=>yD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function RW(t){return xW[t]}function DW(t){return _W[t]}function jW(t){return bW[t]}function nl(t){return{fieldPath:t.canonicalString()}}function rl(t){return ln.fromServerFormat(t.fieldPath)}function vD(t){return t instanceof Rt?function(n){if(n.op==="=="){if(WT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NAN"}};if(zT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NAN"}};if(zT(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(n.field),op:DW(n.op),value:n.value}}}(t):t instanceof Zr?function(n){const r=n.getFilters().map(i=>vD(i));return r.length===1?r[0]:{compositeFilter:{op:jW(n.op),filters:r}}}(t):ge(54877,{filter:t})}function MW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r,i,a=_e.min(),s=_e.min(),o=dn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.yt=e}}function VW(t){const e=OW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.Cn=new FW}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(is.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class FW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ut(Ge.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xD=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(xD,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="LruGarbageCollector",UW=1048576;function sA([t,e],[n,r]){const i=Ce(t,n);return i===0?Ce(e,r):i}class BW{constructor(e){this.Ir=e,this.buffer=new Ut(sA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(aA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){du(n)?le(aA,"Ignoring IndexedDB error during garbage collection: ",n):await cu(n)}await this.Vr(3e5)})}}class WW{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(sg.ce);const r=new BW(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(iA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),el()<=Ae.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function qW(t,e){return new WW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nc(r.mutation,i,ur.empty(),Ie.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=Ks();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=pc();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=ra();const s=Oc(),o=function(){return Oc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xs)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Nc(c.mutation,u,c.mutation.getFieldMask(),Ie.now())):s.set(u.key,ur.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>o.set(u,new KW(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Oc();let i=new ht((s,o)=>s-o),a=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ur.empty();c=o.applyToLocalView(u,c),r.set(l,c);const d=(i.get(o.batchId)||ke()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=nD();c.forEach(h=>{if(!a.has(h)){const p=lD(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return K.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):K.resolve(Ks());let o=ad,l=a;return s.next(u=>K.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,ke())).next(c=>({batchId:o,changes:tD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=pc();return this.indexManager.getCollectionParents(e,a).next(o=>K.forEach(o,l=>{const u=function(d,h){return new fu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,En.newInvalidDocument(c)))});let o=pc();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Nc(c.mutation,u,ur.empty(),Ie.now()),cg(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wi(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:VW(i.bundledQuery),readTime:wi(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this.overlays=new ht(me.comparator),this.qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ks();return K.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Ks(),a=n.length+1,s=new me(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ht((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=Ks(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Ks(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return K.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pW(n,r));let a=this.qr.get(n);a===void 0&&(a=ke(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.Qr=new Ut(Gt.$r),this.Ur=new Ut(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new me(new Ge([])),r=new Gt(n,e),i=new Gt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new Ge([])),r=new Gt(n,e),i=new Gt(n,e+1);let a=ke();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Gt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Gt.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hW(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Gt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(s)}lookupMutationBatch(e,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Q_:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Ce);return n.forEach(i=>{const a=new Gt(i,0),s=new Gt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;me.isDocumentKey(a)||(a=a.child(""));const s=new Gt(new me(a),0);let o=new Ut(Ce);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),K.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(n.mutations,i=>{const a=new Gt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Gt(n,0),i=this.Zr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e){this.ri=e,this.docs=function(){return new ht(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=ra();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():En.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ra();const s=n.path,o=new me(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||C8(A8(c),r)<=0||(i.has(c.key)||cg(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ge(9500)}ii(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new e7(this)}getSize(e){return K.resolve(this.size)}}class e7 extends HW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.persistence=e,this.si=new No(n=>Z_(n),eb),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new ab,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),K.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Pr(n),K.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(a).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.ui={},this.overlays={},this.ci=new sg(0),this.li=!1,this.li=!0,this.hi=new XW,this.referenceDelegate=e(this),this.Pi=new t7(this),this.indexManager=new $W,this.remoteDocumentCache=function(i){return new ZW(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new LW(n),this.Ii=new YW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new JW(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new n7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class n7 extends k8{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Ri=new ab,this.Vi=null}static mi(e){return new sb(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const i=me.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,_e.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fp{constructor(e,n){this.persistence=e,this.pi=new No(r=>R8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=qW(this,n)}static mi(e,n){return new Fp(e,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return K.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?K.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,_e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hh(e.data.value)),n}br(e,n,r){return K.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ke(),i=ke();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ob(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return GB()?8:O8(Cn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new r7;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(el()<=Ae.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(el()<=Ae.DEBUG&&le("QueryEngine","Query:",tl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(el()<=Ae.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):K.resolve())}ys(e,n){if(GT(n))return K.resolve(null);let r=vi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gw(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ke(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,o);return this.Cs(n,u,s,l.readTime)?this.ys(e,gw(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return GT(n)||i.isEqual(_e.min())?K.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?K.resolve(null):(el()<=Ae.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tl(n)),this.vs(e,s,n,T8(i,ad)).next(o=>o))})}Ds(e,n){let r=new Ut(Z2(e));return n.forEach((i,a)=>{cg(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return el()<=Ae.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="LocalStore",a7=3e8;class s7{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ht(Ce),this.xs=new No(a=>Z_(a),eb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function o7(t,e,n,r){return new s7(t,e,n,r)}async function bD(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ke();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function l7(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,h=d.keys();let p=K.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const w=u.docVersions.get(m);Fe(w!==null,48541),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ke();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ED(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function u7(t,e){const n=be(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;o.push(n.Pi.removeMatchingKeys(a,c.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(a,c.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(dn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,w,b){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=a7?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,c)&&o.push(n.Pi.updateTargetData(a,p))});let l=ra(),u=ke();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(c7(a,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(_e.min())){const c=n.Pi.getLastRemoteSnapshotVersion(a).next(d=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return K.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function c7(t,e,n){let r=ke(),i=ke();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=ra();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):le(lb,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function d7(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Q_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f7(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,K.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new $a(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function _w(t,e,n){const r=be(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!du(s))throw s;le(lb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function oA(t,e,n){const r=be(t);let i=_e.min(),a=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=be(l),h=d.xs.get(c);return h!==void 0?K.resolve(d.Ms.get(h)):d.Pi.getTargetData(u,c)}(r,s,vi(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?a:ke())).next(o=>(h7(r,J8(e),o),{documents:o,Qs:a})))}function h7(t,e,n){let r=t.Os.get(e)||_e.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class lA{constructor(){this.activeTargetIds=iW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p7{constructor(){this.Mo=new lA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="ConnectivityMonitor";class cA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(uA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(uA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function bw(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="RestConnection",g7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Dp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=bw(),o=this.zo(e,n.toUriEncodedString());le(Tv,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),c=vs(u);return this.Jo(e,o,l,r,c).then(d=>(le(Tv,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Ul(Tv,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=g7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class w7 extends y7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=bw();return new Promise((o,l)=>{const u=new P2;u.setWithCredentials(!0),u.listenOnce(T2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qh.NO_ERROR:const d=u.getResponseJson();le(vn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case qh.TIMEOUT:le(vn,`RPC '${e}' ${s} timed out`),l(new ae(q.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const h=u.getStatus();if(le(vn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(v)>=0?v:q.UNKNOWN}(m.status);l(new ae(y,m.message))}else l(new ae(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ae(q.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{le(vn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);le(vn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=bw(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=I2(),o=C2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");le(vn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.I_(d);let h=!1,p=!1;const m=new v7({Yo:w=>{p?le(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(le(vn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),le(vn,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},Zo:()=>d.close()}),y=(w,b,v)=>{w.listen(b,E=>{try{v(E)}catch(A){setTimeout(()=>{throw A},0)}})};return y(d,hc.EventType.OPEN,()=>{p||(le(vn,`RPC '${e}' stream ${i} transport opened.`),m.o_())}),y(d,hc.EventType.CLOSE,()=>{p||(p=!0,le(vn,`RPC '${e}' stream ${i} transport closed`),m.a_(),this.E_(d))}),y(d,hc.EventType.ERROR,w=>{p||(p=!0,Ul(vn,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),m.a_(new ae(q.UNAVAILABLE,"The operation could not be completed")))}),y(d,hc.EventType.MESSAGE,w=>{var b;if(!p){const v=w.data[0];Fe(!!v,16349);const E=v,A=(E==null?void 0:E.error)||((b=E[0])==null?void 0:b.error);if(A){le(vn,`RPC '${e}' stream ${i} received error:`,A);const k=A.status;let D=function(C){const I=kt[C];if(I!==void 0)return cD(I)}(k),T=A.message;D===void 0&&(D=q.INTERNAL,T="Unknown error status: "+k+" with message "+A.message),p=!0,m.a_(new ae(D,T)),d.close()}else le(vn,`RPC '${e}' stream ${i} received:`,v),m.u_(v)}}),y(o,A2.STAT_EVENT,w=>{w.stat===uw.PROXY?le(vn,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===uw.NOPROXY&&le(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t){return new EW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="PersistentStream";class PD{constructor(e,n,r,i,a,s,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(na(n.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ae(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(dA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(le(dA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x7 extends PD{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TW(this.serializer,e),r=function(a){if(!("targetChange"in a))return _e.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?wi(s.readTime):_e.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=xw(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=pw(l)?{documents:IW(a,l)}:{query:kW(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=hD(a,s.resumeToken);const u=yw(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(_e.min())>0){o.readTime=$p(a,s.snapshotVersion.toTimestamp());const u=yw(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=NW(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=xw(this.serializer),n.removeTarget=e,this.q_(n)}}class _7 extends PD{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CW(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=xw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>AW(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{}class E7 extends b7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,vw(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(q.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,vw(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(q.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class S7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(na(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class P7{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ro(this)&&(le(wo,"Restarting streams for network reachability change."),await async function(l){const u=be(l);u.Ea.add(4),await qd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await gg(u)}(this))})}),this.Ra=new S7(r,i)}}async function gg(t){if(Ro(t))for(const e of t.da)await e(!0)}async function qd(t){for(const e of t.da)await e(!1)}function TD(t,e){const n=be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fb(n)?db(n):hu(n).O_()&&cb(n,e))}function ub(t,e){const n=be(t),r=hu(n);n.Ia.delete(e),r.O_()&&AD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ro(n)&&n.Ra.set("Unknown"))}function cb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hu(t).Y_(e)}function AD(t,e){t.Va.Ue(e),hu(t).Z_(e)}function db(t){t.Va=new wW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hu(t).start(),t.Ra.ua()}function fb(t){return Ro(t)&&!hu(t).x_()&&t.Ia.size>0}function Ro(t){return be(t).Ea.size===0}function CD(t){t.Va=void 0}async function T7(t){t.Ra.set("Online")}async function A7(t){t.Ia.forEach((e,n)=>{cb(t,e)})}async function C7(t,e){CD(t),fb(t)?(t.Ra.ha(e),db(t)):t.Ra.set("Unknown")}async function I7(t,e,n){if(t.Ra.set("Online"),e instanceof fD&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){le(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Up(t,r)}else if(e instanceof Yh?t.Va.Ze(e):e instanceof dD?t.Va.st(e):t.Va.tt(e),!n.isEqual(_e.min()))try{const r=await ED(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(dn.EMPTY_BYTE_STRING,c.snapshotVersion)),AD(a,l);const d=new $a(c.target,l,u,c.sequenceNumber);cb(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){le(wo,"Failed to raise snapshot:",r),await Up(t,r)}}async function Up(t,e,n){if(!du(e))throw e;t.Ea.add(1),await qd(t),t.Ra.set("Offline"),n||(n=()=>ED(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le(wo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gg(t)})}function ID(t,e){return e().catch(n=>Up(t,n,e))}async function yg(t){const e=be(t),n=ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Q_;for(;k7(e);)try{const i=await d7(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,O7(e,i)}catch(i){await Up(e,i)}kD(e)&&OD(e)}function k7(t){return Ro(t)&&t.Ta.length<10}function O7(t,e){t.Ta.push(e);const n=ls(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kD(t){return Ro(t)&&!ls(t).x_()&&t.Ta.length>0}function OD(t){ls(t).start()}async function N7(t){ls(t).ra()}async function R7(t){const e=ls(t);for(const n of t.Ta)e.ea(n.mutations)}async function D7(t,e,n){const r=t.Ta.shift(),i=nb.from(r,e,n);await ID(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yg(t)}async function j7(t,e){e&&ls(t).X_&&await async function(r,i){if(function(s){return gW(s)&&s!==q.ABORTED}(i.code)){const a=r.Ta.shift();ls(r).B_(),await ID(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await yg(r)}}(t,e),kD(t)&&OD(t)}async function fA(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),le(wo,"RemoteStore received new credentials");const r=Ro(n);n.Ea.add(3),await qd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gg(n)}async function M7(t,e){const n=be(t);e?(n.Ea.delete(2),await gg(n)):e||(n.Ea.add(2),await qd(n),n.Ra.set("Unknown"))}function hu(t){return t.ma||(t.ma=function(n,r,i){const a=be(n);return a.sa(),new x7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:T7.bind(null,t),t_:A7.bind(null,t),r_:C7.bind(null,t),H_:I7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),fb(t)?db(t):t.Ra.set("Unknown")):(await t.ma.stop(),CD(t))})),t.ma}function ls(t){return t.fa||(t.fa=function(n,r,i){const a=be(n);return a.sa(),new _7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:N7.bind(null,t),r_:j7.bind(null,t),ta:R7.bind(null,t),na:D7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await yg(t)):(await t.fa.stop(),t.Ta.length>0&&(le(wo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new hb(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pb(t,e){if(na("AsyncQueue",`${e}: ${t}`),du(t))return new ae(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hl{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Hl(e,n,Tl.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class V7{constructor(){this.queries=pA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=be(n),a=i.queries;i.queries=pA(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new ae(q.ABORTED,"Firestore shutting down"))}}function pA(){return new No(t=>J2(t),ug)}async function $7(t,e){const n=be(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new L7,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=pb(s,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&mb(n)}async function F7(t,e){const n=be(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function U7(t,e){const n=be(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&mb(n)}function B7(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function mb(t){t.Ca.forEach(e=>{e.next()})}var Ew,mA;(mA=Ew||(Ew={})).Ma="default",mA.Cache="cache";class z7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ew.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.key=e}}class RD{constructor(e){this.key=e}}class W7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Z2(e),this.tu=new Tl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new hA,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=cg(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),w=!0):this.su(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(o=!0)),w&&(p?(s=s.add(p),a=y?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,d)=>function(p,m){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:w})}};return y(p)-y(m)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Hl(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new RD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ND(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gb="SyncEngine";class q7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class H7{constructor(e){this.key=e,this.hu=!1}}class K7{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new No(o=>J2(o),ug),this.Iu=new Map,this.Eu=new Set,this.du=new ht(me.comparator),this.Au=new Map,this.Ru=new ab,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G7(t,e,n=!0){const r=$D(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await DD(r,e,n,!0),i}async function Y7(t,e){const n=$D(t);await DD(n,e,!0,!1)}async function DD(t,e,n,r){const i=await f7(t.localStore,vi(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Q7(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&TD(t.remoteStore,i),o}async function Q7(t,e,n,r,i){t.pu=(d,h,p)=>async function(y,w,b,v){let E=w.view.ru(b);E.Cs&&(E=await oA(y.localStore,w.query,!1).then(({documents:T})=>w.view.ru(T,E)));const A=v&&v.targetChanges.get(w.targetId),k=v&&v.targetMismatches.get(w.targetId)!=null,D=w.view.applyChanges(E,y.isPrimaryClient,A,k);return yA(y,w.targetId,D.au),D.snapshot}(t,d,h,p);const a=await oA(t.localStore,e,!0),s=new W7(e,a.Qs),o=s.ru(a.documents),l=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);yA(t,n,u.au);const c=new q7(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function X7(t,e,n){const r=be(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!ug(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _w(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ub(r.remoteStore,i.targetId),Sw(r,i.targetId)}).catch(cu)):(Sw(r,i.targetId),await _w(r.localStore,i.targetId,!0))}async function J7(t,e){const n=be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ub(n.remoteStore,r.targetId))}async function Z7(t,e,n){const r=sq(t);try{const i=await function(s,o){const l=be(s),u=Ie.now(),c=o.reduce((p,m)=>p.add(m.key),ke());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ra(),y=ke();return l.Ns.getEntries(p,c).next(w=>{m=w,m.forEach((b,v)=>{v.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(w=>{d=w;const b=[];for(const v of o){const E=dW(v,d.get(v.key).overlayedDocument);E!=null&&b.push(new xs(v.key,E,z2(E.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,o)}).next(w=>{h=w;const b=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,w.batchId,b)})}).then(()=>({batchId:h.batchId,changes:tD(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new ht(Ce)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await Hd(r,i.changes),await yg(r.remoteStore)}catch(i){const a=pb(i,"Failed to persist write");n.reject(a)}}async function jD(t,e){const n=be(t);try{const r=await u7(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Fe(s.hu,14607):i.removedDocuments.size>0&&(Fe(s.hu,42227),s.hu=!1))}),await Hd(n,r,e)}catch(r){await cu(r)}}function gA(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=be(s);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Sa)h.va(o)&&(u=!0)}),u&&mb(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eq(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new ht(me.comparator);s=s.insert(a,En.newNoDocument(a,_e.min()));const o=ke().add(a),l=new pg(_e.min(),new Map,new ht(Ce),s,o);await jD(r,l),r.du=r.du.remove(a),r.Au.delete(e),yb(r)}else await _w(r.localStore,e,!1).then(()=>Sw(r,e,n)).catch(cu)}async function tq(t,e){const n=be(t),r=e.batch.batchId;try{const i=await l7(n.localStore,e);LD(n,r,null),MD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hd(n,i)}catch(i){await cu(i)}}async function nq(t,e,n){const r=be(t);try{const i=await function(s,o){const l=be(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Fe(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);LD(r,e,n),MD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hd(r,i)}catch(i){await cu(i)}}function MD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function LD(t,e,n){const r=be(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Sw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||VD(t,r)})}function VD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ub(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yb(t))}function yA(t,e,n){for(const r of n)r instanceof ND?(t.Ru.addReference(r.key,e),rq(t,r)):r instanceof RD?(le(gb,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||VD(t,r.key)):ge(19791,{wu:r})}function rq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(gb,"New document in limbo: "+n),t.Eu.add(r),yb(t))}function yb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new me(Ge.fromString(e)),r=t.fu.next();t.Au.set(r,new H7(n)),t.du=t.du.insert(n,r),TD(t.remoteStore,new $a(vi(Q2(n.path)),r,"TargetPurposeLimboResolution",sg.ce))}}async function Hd(t,e,n){const r=be(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=ob.As(l.targetId,u);a.push(d)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=be(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(u,h=>K.forEach(h.Es,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>K.forEach(h.ds,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!du(d))throw d;le(lb,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.Ms.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.Ms=c.Ms.insert(h,y)}}}(r.localStore,a))}async function iq(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){le(gb,"User change. New user:",e.toKey());const r=await bD(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new ae(q.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hd(n,r.Ls)}}function aq(t,e){const n=be(t),r=n.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let i=ke();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function $D(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eq.bind(null,e),e.Pu.H_=U7.bind(null,e.eventManager),e.Pu.yu=B7.bind(null,e.eventManager),e}function sq(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nq.bind(null,e),e}class Bp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return o7(this.persistence,new i7,e.initialUser,this.serializer)}Cu(e){return new _D(sb.mi,this.serializer)}Du(e){return new p7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bp.provider={build:()=>new Bp};class oq extends Bp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Fp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new _D(r=>Fp.mi(r,n),this.serializer)}}class Pw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iq.bind(null,this.syncEngine),await M7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V7}()}createDatastore(e){const n=mg(e.databaseInfo.databaseId),r=function(a){return new w7(a)}(e.databaseInfo);return function(a,s,o,l){return new E7(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new P7(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>gA(this.syncEngine,n,0),function(){return cA.v()?new cA:new m7}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,c){const d=new K7(i,a,s,o,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=be(i);le(wo,"RemoteStore shutting down."),a.Ea.add(5),await qd(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Pw.provider={build:()=>new Pw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class uq{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=Y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{le(us,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le(us,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cv(t,e){t.asyncQueue.verifyOperationInProgress(),le(us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cq(t);le(us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fA(e.remoteStore,i)),t._onlineComponents=e}async function cq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(us,"Using user provided OfflineComponentProvider");try{await Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await Cv(t,new Bp)}}else le(us,"Using default OfflineComponentProvider"),await Cv(t,new oq(void 0));return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(us,"Using user provided OnlineComponentProvider"),await vA(t,t._uninitializedComponentsProvider._online)):(le(us,"Using default OnlineComponentProvider"),await vA(t,new Pw))),t._onlineComponents}function dq(t){return FD(t).then(e=>e.syncEngine)}async function fq(t){const e=await FD(t),n=e.eventManager;return n.onListen=G7.bind(null,e.syncEngine),n.onUnlisten=X7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Y7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=J7.bind(null,e.syncEngine),n}function hq(t,e,n={}){const r=new Xa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new lq({next:h=>{c.Nu(),s.enqueueAndForget(()=>F7(a,d)),h.fromCache&&l.source==="server"?u.reject(new ae(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new z7(o,c,{includeMetadataChanges:!0,qa:!0});return $7(a,d)}(await fq(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firestore.googleapis.com",xA=!0;class _A{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BD,this.ssl=xA}else this.host=e.host,this.ssl=e.ssl??xA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UW)throw new ae(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _A({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _A(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m8;switch(r.type){case"firstParty":return new w8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wA.get(n);r&&(le("ComponentProvider","Removing Datastore"),wA.delete(n),r.terminate())}(this),Promise.resolve()}}function pq(t,e,n,r={}){var u;t=rs(t,vg);const i=vs(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(R_(`https://${o}`),D_("Firestore",!0)),a.host!==BD&&a.host!==o&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!mo(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=_n.MOCK_USER;else{c=BR(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ae(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new _n(h)}t._authCredentials=new g8(new O2(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bd(n,Ft._jsonSchema))return new Ft(e,r||null,new me(Ge.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Dt("string",Ft._jsonSchemaVersion),referencePath:Dt("string")};class Ja extends Do{constructor(e,n,r){super(e,n,Q2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new me(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function _s(t,e,...n){if(t=ft(t),N2("collection","path",e),t instanceof vg){const r=Ge.fromString(e,...n);return DT(r),new Ja(t,null,r)}{if(!(t instanceof Ft||t instanceof Ja))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return DT(r),new Ja(t.firestore,null,r)}}function bs(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Y_.newId()),N2("doc","path",e),t instanceof vg){const r=Ge.fromString(e,...n);return RT(r),new Ft(t,null,new me(r))}{if(!(t instanceof Ft||t instanceof Ja))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return RT(r),new Ft(t.firestore,t instanceof Ja?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="AsyncQueue";class EA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SD(this,"async_queue_retry"),this._c=()=>{const r=Av();r&&le(bA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Xa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!du(e))throw e;le(bA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,na("INTERNAL UNHANDLED ERROR: ",SA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=hb.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:SA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function SA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pu extends vg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new EA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EA(e),this._firestoreClient=void 0,await e}}}function mq(t,e){const n=typeof t=="object"?t:L_(),r=typeof t=="string"?t:Dp,i=tg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=$R("firestore");a&&pq(i,...a)}return i}function vb(t){if(t._terminated)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gq(t),t._firestoreClient}function gq(t){var r,i,a;const e=t._freezeSettings(),n=function(o,l,u,c){return new M8(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,UD(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new uq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(dn.fromBase64String(e))}catch(n){throw new ae(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bd(e,Ar._jsonSchema))return Ar.fromBase64String(e.bytes)}}Ar._jsonSchemaVersion="firestore/bytes/1.0",Ar._jsonSchema={type:Dt("string",Ar._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(Bd(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Dt("string",xi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bd(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _i(e.vectorValues);throw new ae(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Dt("string",_i._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=/^__.*__$/;class vq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new zd(e,this.data,n,this.fieldTransforms)}}class zD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class xb{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WD(this.Ac)&&yq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mg(e)}Cc(e,n,r,i=!1){return new xb({Ac:e,methodName:n,Dc:r,path:ln.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wg(t){const e=t._freezeSettings(),n=mg(t._databaseId);return new wq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qD(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);_b("Data must be an object, but it was:",s,r);const o=GD(r,s);let l,u;if(a.merge)l=new ur(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const h=Tw(e,d,n);if(!s.contains(h))throw new ae(q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QD(c,h)||c.push(h)}l=new ur(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new vq(new qn(o),l,u)}class xg extends wb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xg}}function HD(t,e,n,r){const i=t.Cc(1,e,n);_b("Data must be an object, but it was:",i,r);const a=[],s=qn.empty();ws(r,(l,u)=>{const c=bb(e,l,n);u=ft(u);const d=i.yc(c);if(u instanceof xg)a.push(c);else{const h=Gd(u,d);h!=null&&(a.push(c),s.set(c,h))}});const o=new ur(a);return new zD(s,o,i.fieldTransforms)}function KD(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[Tw(e,r,n)],l=[i];if(a.length%2!=0)throw new ae(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Tw(e,a[h])),l.push(a[h+1]);const u=[],c=qn.empty();for(let h=o.length-1;h>=0;--h)if(!QD(u,o[h])){const p=o[h];let m=l[h];m=ft(m);const y=s.yc(p);if(m instanceof xg)u.push(p);else{const w=Gd(m,y);w!=null&&(u.push(p),c.set(p,w))}}const d=new ur(u);return new zD(c,d,s.fieldTransforms)}function xq(t,e,n,r=!1){return Gd(n,t.Cc(r?4:3,e))}function Gd(t,e){if(YD(t=ft(t)))return _b("Unsupported field value:",e,t),GD(t,e);if(t instanceof wb)return function(r,i){if(!WD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Gd(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ie.fromDate(r);return{timestampValue:$p(i.serializer,a)}}if(r instanceof Ie){const a=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$p(i.serializer,a)}}if(r instanceof xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ar)return{bytesValue:hD(i.serializer,r._byteString)};if(r instanceof Ft){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ib(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _i)return function(s,o){return{mapValue:{fields:{[U2]:{stringValue:B2},[jp]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return tb(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${ag(r)}`)}(t,e)}function GD(t,e){const n={};return j2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,i)=>{const a=Gd(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function YD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof xi||t instanceof Ar||t instanceof Ft||t instanceof wb||t instanceof _i)}function _b(t,e,n){if(!YD(n)||!R2(n)){const r=ag(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Tw(t,e,n){if((e=ft(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return bb(t,e);throw zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const _q=new RegExp("[~\\*/\\[\\]]");function bb(t,e,n){if(e.search(_q)>=0)throw zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kd(...e.split("."))._internalPath}catch{throw zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zp(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ae(q.INVALID_ARGUMENT,o+t+l)}function QD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bq extends XD{data(){return super.data()}}function _g(t,e){return typeof e=="string"?bb(t,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{}class JD extends Eb{}function bg(t,e,...n){let r=[];e instanceof Eb&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Sb).length,o=a.filter(l=>l instanceof Eg).length;if(s>1||s>0&&o>0)throw new ae(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Eg extends JD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Eg(e,n,r)}_apply(e){const n=this._parse(e);return ZD(e._query,n),new Do(e.firestore,e.converter,mw(e._query,n))}_parse(e){const n=wg(e.firestore);return function(a,s,o,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){TA(d,c);const m=[];for(const y of d)m.push(PA(l,a,y));h={arrayValue:{values:m}}}else h=PA(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||TA(d,c),h=xq(o,s,d,c==="in"||c==="not-in");return Rt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Al(t,e,n){const r=e,i=_g("where",t);return Eg._create(i,r,n)}class Sb extends Eb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)ZD(s,l),s=mw(s,l)}(e._query,n),new Do(e.firestore,e.converter,mw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pb extends JD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pb(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new ae(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ud(a,s)}(e._query,this._field,this._direction);return new Do(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new fu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Sg(t,e="asc"){const n=e,r=_g("orderBy",t);return Pb._create(r,n)}function PA(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new ae(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X2(e)&&n.indexOf("/")!==-1)throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!me.isDocumentKey(r))throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BT(t,new me(r))}if(n instanceof Ft)return BT(t,n._key);throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ag(n)}.`)}function TA(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZD(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Sq{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ws(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[jp].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>_t(s.doubleValue));return new _i(n)}convertGeoPoint(e){return new xi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const n=as(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Fe(wD(r),9688,{name:e});const i=new od(r.get(1),r.get(3)),a=new me(r.popFirst(5));return i.isEqual(n)||na(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends XD{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_g("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:Dt("string",Cl._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Qh extends Cl{data(e={}){return super.data(e)}}class Il{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qh(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Qh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new ih(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Qh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new ih(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Pq(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Y_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Pq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:Dt("string",Il._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Tq extends Sq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Pg(t){t=rs(t,Do);const e=rs(t.firestore,pu),n=vb(e),r=new Tq(e);return Eq(t._query),hq(n,t._query).then(i=>new Il(e,r,t,i))}function Tb(t,e,n,...r){t=rs(t,Ft);const i=rs(t.firestore,pu),a=wg(i);let s;return s=typeof(e=ft(e))=="string"||e instanceof Kd?KD(a,"updateDoc",t._key,e,n,r):HD(a,"updateDoc",t._key,e),Tg(i,[s.toMutation(t._key,Xn.exists(!0))])}function Ab(t){return Tg(rs(t.firestore,pu),[new hg(t._key,Xn.none())])}function Cb(t,e){const n=rs(t.firestore,pu),r=bs(t),i=ej(t.converter,e);return Tg(n,[qD(wg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Tg(t,e){return function(r,i){const a=new Xa;return r.asyncQueue.enqueueAndForget(async()=>Z7(await dq(r),i,a)),a.promise}(vb(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wg(e)}set(e,n,r){this._verifyNotCommitted();const i=Iv(e,this._firestore),a=ej(i.converter,n,r),s=qD(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Xn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Iv(e,this._firestore);let s;return s=typeof(n=ft(n))=="string"||n instanceof Kd?KD(this._dataReader,"WriteBatch.update",a._key,n,r,i):HD(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Iv(e,this._firestore);return this._mutations=this._mutations.concat(new hg(n._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iv(t,e){if((t=ft(t)).firestore!==e)throw new ae(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t){return vb(t=rs(t,pu)),new Aq(t,e=>Tg(t,e))}(function(e,n=!0){(function(i){uu=i})(Oo),go(new ns("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new pu(new y8(r.getProvider("auth-internal")),new x8(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(u.options.projectId,c)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),gi(IT,kT,e),gi(IT,kT,"esm2020")})();const Iq={apiKey:"AIzaSyCIzvybojTPGSHJmJyWuRkiD6NbSPRCpqQ",authDomain:"eventsorganizze.firebaseapp.com",projectId:"eventsorganizze",storageBucket:"eventsorganizze.firebasestorage.app",messagingSenderId:"822700253419",appId:"1:822700253419:web:81f2c283502d6e04fc9eae",measurementId:"G-C3MSPT4MG1"},tj=qR(Iq),kv=d8(tj),Vn=mq(tj),kq=new Mi,nj=_.createContext(void 0),Ii=()=>{const t=_.useContext(nj);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Oq=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>Z9(kv,u=>{n(u?{uid:u.uid,email:u.email,displayName:u.displayName,photoURL:u.photoURL}:null),i(!1)}),[]);const o={user:e,loading:r,signInWithGoogle:async()=>{try{await xz(kv,kq)}catch(l){throw console.error("Error signing in with Google:",l),l}},logout:async()=>{try{await ez(kv)}catch(l){throw console.error("Error signing out:",l),l}}};return g.jsx(nj.Provider,{value:o,children:t})},Ho=({children:t})=>{const{user:e,loading:n}=Ii();return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):e?g.jsx(g.Fragment,{children:t}):g.jsx(QU,{to:"/",replace:!0})},Nq=(t,e,n,r)=>{var a,s,o,l;const i=[n,{code:e,...r||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);no(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},AA={},Aw=(t,e,n,r)=>{no(n)&&AA[n]||(no(n)&&(AA[n]=new Date),Nq(t,e,n,r))},rj=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Cw=(t,e,n)=>{t.loadNamespaces(e,rj(t,n))},CA=(t,e,n,r)=>{if(no(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Cw(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,rj(t,r))},Rq=(t,e,n={})=>!e.languages||!e.languages.length?(Aw(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),no=t=>typeof t=="string",Dq=t=>typeof t=="object"&&t!==null,jq=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Mq={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Lq=t=>Mq[t],Vq=t=>t.replace(jq,Lq);let Iw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Vq};const $q=(t={})=>{Iw={...Iw,...t}},Fq=()=>Iw;let ij;const Uq=t=>{ij=t},Bq=()=>ij,zq={type:"3rdParty",init(t){$q(t.options.react),Uq(t)}},Wq=_.createContext();class qq{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Hq=(t,e)=>{const n=_.useRef();return _.useEffect(()=>{n.current=t},[t,e]),n.current},aj=(t,e,n,r)=>t.getFixedT(e,n,r),Kq=(t,e,n,r)=>_.useCallback(aj(t,e,n,r),[t,e,n,r]),Es=(t,e={})=>{var A,k,D,T;const{i18n:n}=e,{i18n:r,defaultNS:i}=_.useContext(Wq)||{},a=n||r||Bq();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new qq),!a){Aw(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const P=(I,N)=>no(N)?N:Dq(N)&&no(N.defaultValue)?N.defaultValue:Array.isArray(I)?I[I.length-1]:I,C=[P,{},!1];return C.t=P,C.i18n={},C.ready=!1,C}(A=a.options.react)!=null&&A.wait&&Aw(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Fq(),...a.options.react,...e},{useSuspense:o,keyPrefix:l}=s;let u=i||((k=a.options)==null?void 0:k.defaultNS);u=no(u)?[u]:u||["translation"],(T=(D=a.reportNamespaces).addUsedNamespaces)==null||T.call(D,u);const c=(a.isInitialized||a.initializedStoreOnce)&&u.every(P=>Rq(P,a,s)),d=Kq(a,e.lng||null,s.nsMode==="fallback"?u:u[0],l),h=()=>d,p=()=>aj(a,e.lng||null,s.nsMode==="fallback"?u:u[0],l),[m,y]=_.useState(h);let w=u.join();e.lng&&(w=`${e.lng}${w}`);const b=Hq(w),v=_.useRef(!0);_.useEffect(()=>{const{bindI18n:P,bindI18nStore:C}=s;v.current=!0,!c&&!o&&(e.lng?CA(a,e.lng,u,()=>{v.current&&y(p)}):Cw(a,u,()=>{v.current&&y(p)})),c&&b&&b!==w&&v.current&&y(p);const I=()=>{v.current&&y(p)};return P&&(a==null||a.on(P,I)),C&&(a==null||a.store.on(C,I)),()=>{v.current=!1,a&&P&&(P==null||P.split(" ").forEach(N=>a.off(N,I))),C&&a&&C.split(" ").forEach(N=>a.store.off(N,I))}},[a,w]),_.useEffect(()=>{v.current&&c&&y(h)},[a,l,c]);const E=[m,a,c];if(E.t=m,E.i18n=a,E.ready=c,c||!c&&!o)return E;throw new Promise(P=>{e.lng?CA(a,e.lng,u,()=>P()):Cw(a,u,()=>P())})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ot=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>_.createElement("svg",{ref:c,...Gq,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Yq(t)}`,o].join(" "),...u},[...e.map(([d,h])=>_.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=ot("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ot("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ot("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=ot("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=ot("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=ot("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ot("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dj=()=>{var r;const{i18n:t}=Es(),e=[{code:"pt",name:"Português",flag:"🇧🇷"},{code:"en",name:"English",flag:"🇺🇸"},{code:"es",name:"Español",flag:"🇪🇸"}],n=i=>{t.changeLanguage(i)};return g.jsxs("div",{className:"relative group",children:[g.jsxs("button",{className:"flex items-center px-3 py-2 text-gray-600 hover:text-purple-600 transition-colors",children:[g.jsx(Zq,{size:20,className:"mr-2"}),g.jsx("span",{className:"text-sm font-medium",children:((r=e.find(i=>i.code===t.language))==null?void 0:r.flag)||"🌐"})]}),g.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:g.jsx("div",{className:"py-2",children:e.map(i=>g.jsxs("button",{onClick:()=>n(i.code),className:`w-full flex items-center px-4 py-2 text-sm hover:bg-gray-100 transition-colors ${t.language===i.code?"bg-purple-50 text-purple-600":"text-gray-700"}`,children:[g.jsx("span",{className:"mr-3 text-lg",children:i.flag}),i.name]},i.code))})})]})},Ko=({children:t})=>{const{user:e,logout:n}=Ii(),{t:r}=Es(),i=da(),a=jd(),[s,o]=wn.useState(!1),l=[{name:r("navigation.dashboard"),href:"/dashboard",icon:kw},{name:r("navigation.clients"),href:"/clients",icon:Cg},{name:r("navigation.events"),href:"/events",icon:ia},{name:r("navigation.payments"),href:"/payments",icon:xo},{name:r("navigation.calendar"),href:"/calendar",icon:ia},{name:r("navigation.reports"),href:"/reports",icon:kw}],u=async()=>{try{await n(),a("/")}catch(c){console.error("Error logging out:",c)}};return g.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[g.jsx("button",{type:"button",className:"lg:hidden fixed top-4 left-4 z-50 bg-white p-2 rounded-md shadow-md",onClick:()=>o(!s),children:s?g.jsx(cj,{size:24}):g.jsx(nH,{size:24})}),g.jsx("div",{className:`${s?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transition-transform duration-300 ease-in-out`,children:g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-gradient-to-r from-purple-600 to-purple-800",children:g.jsx("h1",{className:"text-xl font-bold text-white",children:"EventsOrganizze"})}),g.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:l.map(c=>{const d=i.pathname===c.href;return g.jsxs("button",{onClick:()=>{a(c.href),o(!1)},className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${d?"bg-purple-100 text-purple-700 border-l-4 border-purple-700":"text-gray-600 hover:bg-gray-100"}`,children:[g.jsx(c.icon,{size:20,className:"mr-3"}),c.name]},c.name)})}),g.jsxs("div",{className:"p-4 border-t",children:[g.jsx("div",{className:"mb-4",children:g.jsx(dj,{})}),g.jsxs("div",{className:"flex items-center mb-4",children:[(e==null?void 0:e.photoURL)&&g.jsx("img",{src:e.photoURL,alt:e.displayName||"",className:"w-10 h-10 rounded-full mr-3"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e==null?void 0:e.displayName}),g.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]})]}),g.jsxs("button",{onClick:u,className:"w-full flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[g.jsx(eH,{size:20,className:"mr-3"}),r("navigation.logout")]})]})]})}),s&&g.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>o(!1)}),g.jsx("div",{className:"flex-1 lg:ml-0 px-4 lg:px-8 py-6 mt-16 lg:mt-0",children:t})]})},Xt=({variant:t="primary",size:e="md",children:n,className:r="",...i})=>{const a="font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",s={primary:"bg-purple-600 text-white hover:bg-purple-700 focus:ring-purple-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},o={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return g.jsx("button",{className:`${a} ${s[t]} ${o[e]} ${r}`,...i,children:n})},aH=()=>{const{signInWithGoogle:t,user:e}=Ii(),{t:n}=Es(),r=jd();wn.useEffect(()=>{e&&r("/dashboard")},[e,r]);const i=async()=>{try{await t()}catch(a){console.error("Error signing in:",a)}};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-purple-700 to-purple-800",children:[g.jsx("div",{className:"absolute top-4 right-4 z-10",children:g.jsx(dj,{})}),g.jsxs("div",{className:"container mx-auto px-4 py-16",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsxs("div",{className:"flex items-center justify-center mb-6",children:[g.jsx(ia,{size:48,className:"text-yellow-400 mr-4"}),g.jsx("h1",{className:"text-5xl font-bold text-white",children:n("landing.title")})]}),g.jsx("p",{className:"text-xl text-purple-100 max-w-2xl mx-auto leading-relaxed",children:n("landing.subtitle")})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 text-center hover:bg-white/20 transition-all duration-300",children:[g.jsx(Cg,{size:40,className:"text-yellow-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:n("landing.features.clientManagement.title")}),g.jsx("p",{className:"text-purple-100 text-sm",children:n("landing.features.clientManagement.description")})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 text-center hover:bg-white/20 transition-all duration-300",children:[g.jsx(ia,{size:40,className:"text-yellow-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:n("landing.features.eventPlanning.title")}),g.jsx("p",{className:"text-purple-100 text-sm",children:n("landing.features.eventPlanning.description")})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 text-center hover:bg-white/20 transition-all duration-300",children:[g.jsx(xo,{size:40,className:"text-yellow-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:n("landing.features.financialControl.title")}),g.jsx("p",{className:"text-purple-100 text-sm",children:n("landing.features.financialControl.description")})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 text-center hover:bg-white/20 transition-all duration-300",children:[g.jsx(kw,{size:40,className:"text-yellow-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:n("landing.features.reportsAnalytics.title")}),g.jsx("p",{className:"text-purple-100 text-sm",children:n("landing.features.reportsAnalytics.description")})]})]}),g.jsx("div",{className:"text-center",children:g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 max-w-md mx-auto",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n("landing.readyToStart")}),g.jsx("p",{className:"text-purple-100 mb-6",children:n("landing.signInMessage")}),g.jsxs(Xt,{onClick:i,size:"lg",className:"bg-yellow-400 text-purple-900 hover:bg-yellow-300 focus:ring-yellow-400 font-bold px-8 py-4 text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[g.jsxs("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",children:[g.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n("landing.loginWithGoogle")]})]})})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="firebasestorage.googleapis.com",hj="storageBucket",sH=2*60*1e3,oH=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends Ci{constructor(e,n,r=0){super(Ov(e),`Firebase Storage: ${n} (${Ov(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ov(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Ov(t){return"storage/"+t}function Ob(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(vt.UNKNOWN,t)}function lH(t){return new wt(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function uH(t){return new wt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cH(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(vt.UNAUTHENTICATED,t)}function dH(){return new wt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fH(t){return new wt(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function hH(){return new wt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pH(){return new wt(vt.CANCELED,"User canceled the upload/download.")}function mH(t){return new wt(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function gH(t){return new wt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yH(){return new wt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hj+"' property when initializing the app?")}function vH(){return new wt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wH(){return new wt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xH(t){return new wt(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ow(t){return new wt(vt.INVALID_ARGUMENT,t)}function pj(){return new wt(vt.APP_DELETED,"The Firebase app was deleted.")}function _H(t){return new wt(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(t,e){return new wt(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yu(t){throw new wt(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cr.makeFromUrl(e,n)}catch{return new cr(e,"")}if(r.path==="")return r;throw gH(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===fj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${w}`,"i"),E=[{regex:o,indices:l,postModify:a},{regex:p,indices:m,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<E.length;A++){const k=E[A],D=k.regex.exec(e);if(D){const T=D[k.indices.bucket];let P=D[k.indices.path];P||(P=""),r=new cr(T,P),k.postModify(r);break}}if(r==null)throw mH(e);return r}}class bH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function h(){a&&clearTimeout(a)}function p(w,...b){if(u){h();return}if(w){h(),c.call(null,w,...b);return}if(l()||s){h(),c.call(null,w,...b);return}r<64&&(r*=2);let E;o===1?(o=2,E=0):E=(r+Math.random())*1e3,d(E)}let m=!1;function y(w){m||(m=!0,h(),!u&&(i!==null?(w||(o=2),clearTimeout(i),d(0)):w||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,y(!0)},n),y}function SH(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(t){return t!==void 0}function TH(t){return typeof t=="object"&&!Array.isArray(t)}function Nb(t){return typeof t=="string"||t instanceof String}function IA(t){return Rb()&&t instanceof Blob}function Rb(){return typeof Blob<"u"}function kA(t,e,n,r){if(r<e)throw Ow(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ow(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function mj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ro;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ro||(ro={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n,r,i,a,s,o,l,u,c,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ah(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===ro.NO_ERROR,l=a.getStatus();if(!o||AH(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===ro.ABORT;r(!1,new ah(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ah(u,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());PH(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=Ob();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?pj():pH();s(l)}else{const l=hH();s(l)}};this.canceled_?n(!1,new ah(!1,null,!0)):this.backoffId_=EH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function IH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function RH(t,e,n,r,i,a,s=!0,o=!1){const l=mj(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return OH(c,e),IH(c,n),kH(c,a),NH(c,r),new CH(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jH(...t){const e=DH();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Rb())return new Blob(t);throw new wt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function MH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t){if(typeof atob>"u")throw xH("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nv{constructor(e,n){this.data=e,this.contentType=n||null}}function VH(t,e){switch(t){case ci.RAW:return new Nv(gj(e));case ci.BASE64:case ci.BASE64URL:return new Nv(yj(t,e));case ci.DATA_URL:return new Nv(FH(e),UH(e))}throw Ob()}function gj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function $H(t){let e;try{e=decodeURIComponent(t)}catch{throw Rc(ci.DATA_URL,"Malformed data URL.")}return gj(e)}function yj(t,e){switch(t){case ci.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Rc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ci.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Rc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=LH(e)}catch(i){throw i.message.includes("polyfill")?i:Rc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class vj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rc(ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=BH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function FH(t){const e=new vj(t);return e.base64?yj(ci.BASE64,e.rest):$H(e.rest)}function UH(t){return new vj(t).contentType}function BH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){let r=0,i="";IA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(IA(this.data_)){const r=this.data_,i=MH(r,e,n);return i===null?null:new Da(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Da(r,!0)}}static getBlob(...e){if(Rb()){const n=e.map(r=>r instanceof Da?r.data_:r);return new Da(jH.apply(null,n))}else{const n=e.map(s=>Nb(s)?VH(ci.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Da(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){let e;try{e=JSON.parse(t)}catch{return null}return TH(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WH(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t,e){return e}class Nn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||qH}}let sh=null;function HH(t){return!Nb(t)||t.length<2?t:xj(t)}function _j(){if(sh)return sh;const t=[];t.push(new Nn("bucket")),t.push(new Nn("generation")),t.push(new Nn("metageneration")),t.push(new Nn("name","fullPath",!0));function e(a,s){return HH(s)}const n=new Nn("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Nn("size");return i.xform=r,t.push(i),t.push(new Nn("timeCreated")),t.push(new Nn("updated")),t.push(new Nn("md5Hash",null,!0)),t.push(new Nn("cacheControl",null,!0)),t.push(new Nn("contentDisposition",null,!0)),t.push(new Nn("contentEncoding",null,!0)),t.push(new Nn("contentLanguage",null,!0)),t.push(new Nn("contentType",null,!0)),t.push(new Nn("metadata","customMetadata",!0)),sh=t,sh}function KH(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new cr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function GH(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return KH(r,t),r}function bj(t,e,n){const r=wj(e);return r===null?null:GH(t,r,n)}function YH(t,e,n,r){const i=wj(e);if(i===null||!Nb(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+s(c)+"/o/"+s(d),p=Db(h,n,r),m=mj({alt:"media",token:u});return p+m})[0]}function QH(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Ej{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){if(!t)throw Ob()}function XH(t,e){function n(r,i){const a=bj(t,i,e);return Sj(a!==null),a}return n}function JH(t,e){function n(r,i){const a=bj(t,i,e);return Sj(a!==null),YH(a,i,t.host,t._protocol)}return n}function Pj(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dH():i=cH():n.getStatus()===402?i=uH(t.bucket):n.getStatus()===403?i=fH(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function ZH(t){const e=Pj(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=lH(t.path)),a.serverResponse=i.serverResponse,a}return n}function eK(t,e,n){const r=e.fullServerUrl(),i=Db(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new Ej(i,a,JH(t,n),s);return o.errorHandler=ZH(e),o}function tK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tK(null,e)),r}function rK(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let E="";for(let A=0;A<2;A++)E=E+Math.random().toString().slice(2);return E}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const u=nK(e,r,i),c=QH(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Da.getBlob(d,r,h);if(p===null)throw vH();const m={name:u.fullPath},y=Db(a,t.host,t._protocol),w="POST",b=t.maxUploadRetryTime,v=new Ej(y,w,XH(t,n),b);return v.urlParams=m,v.headers=s,v.body=p.uploadData(),v.errorHandler=Pj(e),v}class iK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ro.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ro.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ro.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Yu("cannot .send() more than once");if(vs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aK extends iK{initXhr(){this.xhr_.responseType="text"}}function Tj(){return new aK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this._service=e,n instanceof cr?this._location=n:this._location=cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _o(e,n)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xj(this._location.path)}get storage(){return this._service}get parent(){const e=zH(this._location.path);if(e===null)return null;const n=new cr(this._location.bucket,e);return new _o(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _H(e)}}function sK(t,e,n){t._throwIfRoot("uploadBytes");const r=rK(t.storage,t._location,_j(),new Da(e,!0),n);return t.storage.makeRequestWithTokens(r,Tj).then(i=>({metadata:i,ref:t}))}function oK(t){t._throwIfRoot("getDownloadURL");const e=eK(t.storage,t._location,_j());return t.storage.makeRequestWithTokens(e,Tj).then(n=>{if(n===null)throw wH();return n})}function lK(t,e){const n=WH(t._location.path,e),r=new cr(t._location.bucket,n);return new _o(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t){return/^[A-Za-z]+:\/\//.test(t)}function cK(t,e){return new _o(t,e)}function Aj(t,e){if(t instanceof jb){const n=t;if(n._bucket==null)throw yH();const r=new _o(n,n._bucket);return e!=null?Aj(r,e):r}else return e!==void 0?lK(t,e):t}function dK(t,e){if(e&&uK(e)){if(t instanceof jb)return cK(t,e);throw Ow("To use ref(service, url), the first argument must be a Storage instance.")}else return Aj(t,e)}function OA(t,e){const n=e==null?void 0:e[hj];return n==null?null:cr.makeFromBucketSpec(n,t)}function fK(t,e,n,r={}){t.host=`${e}:${n}`;const i=vs(e);i&&(R_(`https://${t.host}/b`),D_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:BR(a,t.app.options.projectId))}class jb{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=fj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sH,this._maxUploadRetryTime=oH,this._requests=new Set,i!=null?this._bucket=cr.makeFromBucketSpec(i,this._host):this._bucket=OA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=OA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _o(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new bH(pj());{const s=RH(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const NA="@firebase/storage",RA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="storage";function hK(t,e,n){return t=ft(t),sK(t,e,n)}function pK(t){return t=ft(t),oK(t)}function mK(t,e){return t=ft(t),dK(t,e)}function gK(t=L_(),e){t=ft(t);const r=tg(t,Cj).getImmediate({identifier:e}),i=$R("storage");return i&&yK(r,...i),r}function yK(t,e,n,r={}){fK(t,e,n,r)}function vK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jb(n,r,i,e,Oo)}function wK(){go(new ns(Cj,vK,"PUBLIC").setMultipleInstances(!0)),gi(NA,RA,""),gi(NA,RA,"esm2020")}wK();const xK=gK(),_K=async t=>(await Cb(_s(Vn,"clients"),{...t,createdAt:Ie.now()})).id,Ig=async t=>{const e=bg(_s(Vn,"clients"),Al("userId","==",t),Sg("createdAt","desc"));return(await Pg(e)).docs.map(r=>({id:r.id,...r.data(),createdAt:r.data().createdAt.toDate()}))},bK=async(t,e)=>{const n=bs(Vn,"clients",t);await Tb(n,e)},EK=async t=>{await Ab(bs(Vn,"clients",t))},SK=async t=>(await Cb(_s(Vn,"events"),{...t,date:Ie.fromDate(t.date),createdAt:Ie.now()})).id,Yd=async t=>{const e=bg(_s(Vn,"events"),Al("userId","==",t),Sg("date","desc"));return(await Pg(e)).docs.map(r=>({id:r.id,...r.data(),date:r.data().date.toDate(),createdAt:r.data().createdAt.toDate()}))},DA=async(t,e)=>{const n=bs(Vn,"events",t),r={...e};e.date&&(r.date=Ie.fromDate(e.date)),await Tb(n,r)},PK=async t=>{await Ab(bs(Vn,"events",t))},TK=async t=>(await Cb(_s(Vn,"payments"),{...t,paymentDate:Ie.fromDate(t.paymentDate),createdAt:Ie.now()})).id,Mb=async t=>{const e=bg(_s(Vn,"payments"),Al("userId","==",t),Sg("paymentDate","desc"));return(await Pg(e)).docs.map(r=>({id:r.id,...r.data(),paymentDate:r.data().paymentDate.toDate(),createdAt:r.data().createdAt.toDate()}))},jA=async(t,e)=>{const n=bs(Vn,"payments",t),r={...e};e.paymentDate&&(r.paymentDate=Ie.fromDate(e.paymentDate)),await Tb(n,r)},AK=async t=>{await Ab(bs(Vn,"payments",t))},CK=async(t,e,n,r)=>{const i=Cq(Vn),a=crypto.randomUUID();r.forEach((s,o)=>{const l=bs(_s(Vn,"payments"));i.set(l,{eventId:t,eventName:e,amount:s.amount,paymentDate:Ie.fromDate(s.paymentDate),method:s.method,notes:s.notes||"",received:s.received,installmentNumber:o+1,totalInstallments:r.length,installmentGroup:a,userId:n,createdAt:Ie.now()})}),await i.commit()},IK=async(t,e,n)=>{const r=new Date(e,n-1,1),i=new Date(e,n,0),a=bg(_s(Vn,"payments"),Al("userId","==",t),Al("paymentDate",">=",Ie.fromDate(r)),Al("paymentDate","<=",Ie.fromDate(i)),Sg("paymentDate","asc"));return(await Pg(a)).docs.map(o=>({id:o.id,...o.data(),paymentDate:o.data().paymentDate.toDate(),createdAt:o.data().createdAt.toDate()}))},kK=async(t,e)=>{const n=`${Date.now()}_${e.name}`,r=mK(xK,`contracts/${t}/${n}`);return await hK(r,e),{url:await pK(r),fileName:n}},Ij=6048e5,OK=864e5,kj=6e4,Oj=36e5,MA=Symbol.for("constructDateFrom");function Jn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&MA in t?t[MA](e):t instanceof Date?new t.constructor(e):new Date(e)}function Bt(t,e){return Jn(e||t,t)}function pd(t,e,n){const r=Bt(t,n==null?void 0:n.in);if(isNaN(e))return Jn(t,NaN);if(!e)return r;const i=r.getDate(),a=Jn(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let NK={};function kg(){return NK}function md(t,e){var o,l,u,c;const n=kg(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Bt(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Wp(t,e){return md(t,{...e,weekStartsOn:1})}function Nj(t,e){const n=Bt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Jn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Wp(i),s=Jn(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Wp(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function LA(t){const e=Bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Og(t,...e){const n=Jn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function qp(t,e){const n=Bt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function RK(t,e,n){const[r,i]=Og(n==null?void 0:n.in,t,e),a=qp(r),s=qp(i),o=+a-LA(a),l=+s-LA(s);return Math.round((o-l)/OK)}function DK(t,e){const n=Nj(t,e),r=Jn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wp(r)}function jK(t){return Jn(t,Date.now())}function Nw(t,e,n){const[r,i]=Og(n==null?void 0:n.in,t,e);return+qp(r)==+qp(i)}function MK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function LK(t){return!(!MK(t)&&typeof t!="number"||isNaN(+Bt(t)))}function Rj(t,e){const n=Bt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function VK(t,e){const[n,r]=Og(t,e.start,e.end);return{start:n,end:r}}function $K(t,e){const{start:n,end:r}=VK(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(Jn(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Dj(t,e){const n=Bt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function FK(t,e){const n=Bt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const UK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BK=(t,e,n)=>{let r;const i=UK[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HK={date:kl({formats:zK,defaultWidth:"full"}),time:kl({formats:WK,defaultWidth:"full"}),dateTime:kl({formats:qK,defaultWidth:"full"})},KK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GK=(t,e,n,r)=>KK[t];function li(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const YK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tG=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nG={ordinalNumber:tG,era:li({values:YK,defaultWidth:"wide"}),quarter:li({values:QK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:li({values:XK,defaultWidth:"wide"}),day:li({values:JK,defaultWidth:"wide"}),dayPeriod:li({values:ZK,defaultWidth:"wide",formattingValues:eG,defaultFormattingWidth:"wide"})};function ui(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?iG(o,d=>d.test(s)):rG(o,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function rG(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function iG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function jj(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const aG=/^(\d+)(th|st|nd|rd)?/i,sG=/\d+/i,oG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lG={any:[/^b/i,/^(a|c)/i]},uG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cG={any:[/1/i,/2/i,/3/i,/4/i]},dG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yG={ordinalNumber:jj({matchPattern:aG,parsePattern:sG,valueCallback:t=>parseInt(t,10)}),era:ui({matchPatterns:oG,defaultMatchWidth:"wide",parsePatterns:lG,defaultParseWidth:"any"}),quarter:ui({matchPatterns:uG,defaultMatchWidth:"wide",parsePatterns:cG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ui({matchPatterns:dG,defaultMatchWidth:"wide",parsePatterns:fG,defaultParseWidth:"any"}),day:ui({matchPatterns:hG,defaultMatchWidth:"wide",parsePatterns:pG,defaultParseWidth:"any"}),dayPeriod:ui({matchPatterns:mG,defaultMatchWidth:"any",parsePatterns:gG,defaultParseWidth:"any"})},vG={code:"en-US",formatDistance:BK,formatLong:HK,formatRelative:GK,localize:nG,match:yG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wG(t,e){const n=Bt(t,e==null?void 0:e.in);return RK(n,FK(n))+1}function xG(t,e){const n=Bt(t,e==null?void 0:e.in),r=+Wp(n)-+DK(n);return Math.round(r/Ij)+1}function Mj(t,e){var c,d,h,p;const n=Bt(t,e==null?void 0:e.in),r=n.getFullYear(),i=kg(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Jn((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=md(s,e),l=Jn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=md(l,e);return+n>=+o?r+1:+n>=+u?r:r-1}function _G(t,e){var o,l,u,c;const n=kg(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=Mj(t,e),a=Jn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),md(a,e)}function bG(t,e){const n=Bt(t,e==null?void 0:e.in),r=+md(n,e)-+_G(n,e);return Math.round(r/Ij)+1}function Ue(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ea={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ue(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ue(n+1,2)},d(t,e){return Ue(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ue(t.getHours()%12||12,e.length)},H(t,e){return Ue(t.getHours(),e.length)},m(t,e){return Ue(t.getMinutes(),e.length)},s(t,e){return Ue(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ue(i,e.length)}},Go={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ea.y(t,e)},Y:function(t,e,n,r){const i=Mj(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Ue(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ue(a,e.length)},R:function(t,e){const n=Nj(t);return Ue(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ue(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ue(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ue(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ea.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ue(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=bG(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ue(i,e.length)},I:function(t,e,n){const r=xG(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ue(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ea.d(t,e)},D:function(t,e,n){const r=wG(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ue(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ue(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ue(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ue(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Go.noon:r===0?i=Go.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Go.evening:r>=12?i=Go.afternoon:r>=4?i=Go.morning:i=Go.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ea.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ea.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ue(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ue(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ea.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ea.s(t,e)},S:function(t,e){return Ea.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return FA(r);case"XXXX":case"XX":return $s(r);case"XXXXX":case"XXX":default:return $s(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return FA(r);case"xxxx":case"xx":return $s(r);case"xxxxx":case"xxx":default:return $s(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$A(r,":");case"OOOO":default:return"GMT"+$s(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$A(r,":");case"zzzz":default:return"GMT"+$s(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ue(r,e.length)},T:function(t,e,n){return Ue(+t,e.length)}};function $A(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Ue(a,2)}function FA(t,e){return t%60===0?(t>0?"-":"+")+Ue(Math.abs(t)/60,2):$s(t,e)}function $s(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ue(Math.trunc(r/60),2),a=Ue(r%60,2);return n+i+e+a}const UA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Lj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},EG=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return UA(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",UA(r,e)).replace("{{time}}",Lj(i,e))},SG={p:Lj,P:EG},PG=/^D+$/,TG=/^Y+$/,AG=["D","DD","YY","YYYY"];function CG(t){return PG.test(t)}function IG(t){return TG.test(t)}function kG(t,e,n){const r=OG(t,e,n);if(console.warn(r),AG.includes(t))throw new RangeError(r)}function OG(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const NG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DG=/^'([^]*?)'?$/,jG=/''/g,MG=/[a-zA-Z]/;function Pn(t,e,n){var c,d,h,p,m,y,w,b;const r=kg(),i=(n==null?void 0:n.locale)??r.locale??vG,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,o=Bt(t,n==null?void 0:n.in);if(!LK(o))throw new RangeError("Invalid time value");let l=e.match(RG).map(v=>{const E=v[0];if(E==="p"||E==="P"){const A=SG[E];return A(v,i.formatLong)}return v}).join("").match(NG).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const E=v[0];if(E==="'")return{isToken:!1,value:LG(v)};if(VA[E])return{isToken:!0,value:v};if(E.match(MG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const E=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&IG(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&CG(E))&&kG(E,e,String(t));const A=VA[E[0]];return A(o,E,i.localize,u)}).join("")}function LG(t){const e=t.match(DG);return e?e[1].replace(jG,"'"):t}function VG(t,e,n){const[r,i]=Og(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function $G(t,e){return Nw(Jn(t,t),jK(t))}function Rw(t,e,n){const r=+Bt(t,n==null?void 0:n.in),[i,a]=[+Bt(e.start,n==null?void 0:n.in),+Bt(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=i&&r<=a}function Qu(t,e){const n=()=>Jn(e==null?void 0:e.in,NaN),i=zG(t);let a;if(i.date){const u=WG(i.date,2);a=qG(u.restDateString,u.year)}if(!a||isNaN(+a))return n();const s=+a;let o=0,l;if(i.time&&(o=HG(i.time),isNaN(o)))return n();if(i.timezone){if(l=KG(i.timezone),isNaN(l))return n()}else{const u=new Date(s+o),c=Bt(0,e==null?void 0:e.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return Bt(s+o+l,e==null?void 0:e.in)}const oh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},FG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,BG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zG(t){const e={},n=t.split(oh.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],oh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(oh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=oh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function WG(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function qG(t,e){if(e===null)return new Date(NaN);const n=t.match(FG);if(!n)return new Date(NaN);const r=!!n[4],i=Xu(n[1]),a=Xu(n[2])-1,s=Xu(n[3]),o=Xu(n[4]),l=Xu(n[5])-1;if(r)return JG(e,o,l)?GG(e,o,l):new Date(NaN);{const u=new Date(0);return!QG(e,a,s)||!XG(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,s)),u)}}function Xu(t){return t?parseInt(t):1}function HG(t){const e=t.match(UG);if(!e)return NaN;const n=Rv(e[1]),r=Rv(e[2]),i=Rv(e[3]);return ZG(n,r,i)?n*Oj+r*kj+i*1e3:NaN}function Rv(t){return t&&parseFloat(t.replace(",","."))||0}function KG(t){if(t==="Z")return 0;const e=t.match(BG);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return eY(r,i)?n*(r*Oj+i*kj):NaN}function GG(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const YG=[31,null,31,30,31,30,31,31,30,31,30,31];function Vj(t){return t%400===0||t%4===0&&t%100!==0}function QG(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(YG[e]||(Vj(t)?29:28))}function XG(t,e){return e>=1&&e<=(Vj(t)?366:365)}function JG(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ZG(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function eY(t,e){return e>=0&&e<=59}function $j(t,e,n){return pd(t,-1,n)}const Qd=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{if(!t)return null;const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:`bg-white rounded-lg shadow-xl ${a[i]} w-full max-h-[90vh] overflow-y-auto`,children:[g.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n}),g.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:g.jsx(cj,{size:24})})]}),g.jsx("div",{className:"p-6",children:r})]})})},tY={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},nY=(t,e,n)=>{let r;const i=tY[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"há "+r:r},rY={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},iY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},aY={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sY={date:kl({formats:rY,defaultWidth:"full"}),time:kl({formats:iY,defaultWidth:"full"}),dateTime:kl({formats:aY,defaultWidth:"full"})},oY={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},lY=(t,e,n,r)=>{const i=oY[t];return typeof i=="function"?i(e):i},uY={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},cY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},dY={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},fY={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},hY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},pY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},mY=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"ª":n+"º"},gY={ordinalNumber:mY,era:li({values:uY,defaultWidth:"wide"}),quarter:li({values:cY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:li({values:dY,defaultWidth:"wide"}),day:li({values:fY,defaultWidth:"wide"}),dayPeriod:li({values:hY,defaultWidth:"wide",formattingValues:pY,defaultFormattingWidth:"wide"})},yY=/^(\d+)[ºªo]?/i,vY=/\d+/i,wY={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},xY={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},_Y={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},bY={any:[/1/i,/2/i,/3/i,/4/i]},EY={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},SY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},PY={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},TY={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},AY={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},CY={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},IY={ordinalNumber:jj({matchPattern:yY,parsePattern:vY,valueCallback:t=>parseInt(t,10)}),era:ui({matchPatterns:wY,defaultMatchWidth:"wide",parsePatterns:xY,defaultParseWidth:"any"}),quarter:ui({matchPatterns:_Y,defaultMatchWidth:"wide",parsePatterns:bY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ui({matchPatterns:EY,defaultMatchWidth:"wide",parsePatterns:SY,defaultParseWidth:"any"}),day:ui({matchPatterns:PY,defaultMatchWidth:"wide",parsePatterns:TY,defaultParseWidth:"any"}),dayPeriod:ui({matchPatterns:AY,defaultMatchWidth:"any",parsePatterns:CY,defaultParseWidth:"any"})},Lb={code:"pt-BR",formatDistance:nY,formatLong:sY,formatRelative:lY,localize:gY,match:IY,options:{weekStartsOn:0,firstWeekContainsDate:1}},kY=({isOpen:t,onClose:e})=>{const{user:n}=Ii(),[r,i]=_.useState(new Date),[a,s]=_.useState([]),[o,l]=_.useState(!1);_.useEffect(()=>{t&&n&&u()},[t,r,n]);const u=async()=>{if(n){l(!0);try{const y=r.getFullYear(),w=r.getMonth()+1,b=await IK(n.uid,y,w);s(b)}catch(y){console.error("Error fetching monthly payments:",y)}finally{l(!1)}}},c=()=>{i($j(r))},d=()=>{i(pd(r,1))},h=a.filter(y=>y.received).reduce((y,w)=>y+w.amount,0),p=a.filter(y=>!y.received).reduce((y,w)=>y+w.amount,0),m=y=>{switch(y){case"pix":return"bg-green-100 text-green-800";case"card":return"bg-blue-100 text-blue-800";case"boleto":return"bg-orange-100 text-orange-800";case"cash":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return g.jsx(Qd,{isOpen:t,onClose:e,title:"Pagamentos por Mês",size:"xl",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[g.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:g.jsx(sj,{size:20})}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 capitalize",children:Pn(r,"MMMM yyyy",{locale:Lb})}),g.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:g.jsx(oj,{size:20})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-green-700",children:"Recebido"}),g.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsx(fd,{className:"h-8 w-8 text-green-600"})]})}),g.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-orange-700",children:"Pendente"}),g.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:["R$ ",p.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsx(hd,{className:"h-8 w-8 text-orange-600"})]})}),g.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Total"}),g.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[a.length," pagamentos"]})]}),g.jsx(xo,{className:"h-8 w-8 text-purple-600"})]})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lista de Pagamentos"}),o?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):a.length>0?g.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.map(y=>g.jsx("div",{className:`p-4 rounded-lg border-2 ${y.received?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center mb-2",children:[g.jsx("h4",{className:"font-medium text-gray-900 mr-3",children:y.eventName}),g.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${m(y.method)}`,children:y.method.toUpperCase()}),y.installmentNumber&&g.jsxs("span",{className:"ml-2 inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:[y.installmentNumber,"/",y.totalInstallments]})]}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[g.jsx(ia,{size:14,className:"mr-1"}),Pn(y.paymentDate,"dd/MM/yyyy")]}),y.notes&&g.jsx("p",{className:"text-sm text-gray-600",children:y.notes})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["R$ ",y.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),g.jsxs("div",{className:`flex items-center mt-1 ${y.received?"text-green-600":"text-orange-600"}`,children:[y.received?g.jsx(fd,{size:16,className:"mr-1"}):g.jsx(hd,{size:16,className:"mr-1"}),g.jsx("span",{className:"text-sm font-medium",children:y.received?"Recebido":"Pendente"})]})]})]})},y.id))}):g.jsx("div",{className:"text-center py-8",children:g.jsx("p",{className:"text-gray-500",children:"Nenhum pagamento encontrado para este mês"})})]}),g.jsx("div",{className:"flex justify-end pt-4 border-t",children:g.jsx(Xt,{onClick:e,children:"Fechar"})})]})})},OY=()=>{const{user:t}=Ii(),{t:e}=Es(),n=jd(),[r,i]=_.useState([]),[a,s]=_.useState([]),[o,l]=_.useState([]),[u,c]=_.useState(!0),[d,h]=_.useState(!1);if(_.useEffect(()=>{(async()=>{if(t)try{const[k,D,T]=await Promise.all([Yd(t.uid),Mb(t.uid),Ig(t.uid)]);i(k),s(D),l(T)}catch(k){console.error("Error fetching dashboard data:",k)}finally{c(!1)}})()},[t]),u)return g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})});const p=new Date,m=Dj(p),y=Rj(p),w=a.filter(A=>A.received&&Rw(A.paymentDate,{start:m,end:y})).reduce((A,k)=>A+k.amount,0),b=a.filter(A=>!A.received).reduce((A,k)=>A+k.amount,0),v=r.filter(A=>A.date>new Date&&A.status!=="canceled").slice(0,5),E=a.filter(A=>!A.received&&A.paymentDate>=new Date).sort((A,k)=>A.paymentDate.getTime()-k.paymentDate.getTime()).slice(0,5);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("dashboard.title")}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("dashboard.welcome",{name:t==null?void 0:t.displayName})})]}),g.jsxs("div",{className:"flex space-x-3 mt-4 md:mt-0",children:[g.jsxs(Xt,{onClick:()=>n("/clients"),variant:"secondary",children:[g.jsx(Kl,{size:20,className:"mr-2"}),e("dashboard.newClient")]}),g.jsxs(Xt,{onClick:()=>n("/events"),children:[g.jsx(Kl,{size:20,className:"mr-2"}),e("dashboard.newEvent")]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:e("dashboard.receivedThisMonth")}),g.jsxs("p",{className:"text-2xl font-bold text-green-600 cursor-pointer hover:text-green-700 transition-colors",onClick:()=>h(!0),title:"Clique para ver detalhes mensais",children:[e("currency")," ",w.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:g.jsx(xo,{className:"h-6 w-6 text-green-600"})})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Clique para ver por mês"})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:e("dashboard.pendingPayments")}),g.jsxs("p",{className:"text-2xl font-bold text-orange-600 cursor-pointer hover:text-orange-700 transition-colors",onClick:()=>h(!0),title:"Clique para ver detalhes mensais",children:[e("currency")," ",b.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:g.jsx(iH,{className:"h-6 w-6 text-orange-600"})})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Clique para ver por mês"})]}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:e("dashboard.totalClients")}),g.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.length})]}),g.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:g.jsx(Cg,{className:"h-6 w-6 text-blue-600"})})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:e("dashboard.activeEvents")}),g.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.filter(A=>A.status==="confirmed"||A.status==="planning").length})]}),g.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:g.jsx(ia,{className:"h-6 w-6 text-purple-600"})})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("dashboard.upcomingEvents")}),v.length>0?g.jsx("div",{className:"space-y-3",children:v.map(A=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-900",children:A.name}),g.jsxs("p",{className:"text-sm text-gray-600",children:[Pn(A.date,"dd/MM/yyyy")," • ",A.location]}),g.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${A.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e(`events.status.${A.status}`)})]}),g.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[e("currency")," ",A.contractTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},A.id))}):g.jsx("p",{className:"text-gray-500 text-center py-8",children:e("dashboard.noUpcomingEvents")})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pagamentos Futuros"}),E.length>0?g.jsx("div",{className:"space-y-3",children:E.map(A=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-900",children:A.eventName}),g.jsxs("p",{className:"text-sm text-gray-600",children:["Vencimento: ",Pn(A.paymentDate,"dd/MM/yyyy")]}),g.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-orange-100 text-orange-800 rounded-full mt-1",children:e(`payments.methods.${A.method}`)})]}),g.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[e("currency")," ",A.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},A.id))}):g.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhum pagamento futuro"})]})]}),g.jsx(kY,{isOpen:d,onClose:()=>h(!1)})]})};var Xd=t=>t.type==="checkbox",Gs=t=>t instanceof Date,Dn=t=>t==null;const Fj=t=>typeof t=="object";var Et=t=>!Dn(t)&&!Array.isArray(t)&&Fj(t)&&!Gs(t),NY=t=>Et(t)&&t.target?Xd(t.target)?t.target.checked:t.target.value:t,RY=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DY=(t,e)=>t.has(RY(e)),jY=t=>{const e=t.constructor&&t.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},Vb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Kt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Vb&&(t instanceof Blob||r))&&(n||Et(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!jY(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Kt(t[i]));else return t;return e}var Ng=t=>/^\w*$/.test(t),Ot=t=>t===void 0,$b=t=>Array.isArray(t)?t.filter(Boolean):[],Fb=t=>$b(t.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(t,e,n)=>{if(!e||!Et(t))return n;const r=(Ng(e)?[e]:Fb(e)).reduce((i,a)=>Dn(i)?i:i[a],t);return Ot(r)||r===t?Ot(t[e])?n:t[e]:r},si=t=>typeof t=="boolean",tt=(t,e,n)=>{let r=-1;const i=Ng(e)?[e]:Fb(e),a=i.length,s=a-1;for(;++r<a;){const o=i[r];let l=n;if(r!==s){const u=t[o];l=Et(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const BA={BLUR:"blur",FOCUS_OUT:"focusout"},Wr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ri={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MY=wn.createContext(null);MY.displayName="HookFormContext";var LY=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Wr.all&&(e._proxyFormState[s]=!r||Wr.all),t[s]}});return i};const VY=typeof window<"u"?wn.useLayoutEffect:wn.useEffect;var di=t=>typeof t=="string",$Y=(t,e,n,r,i)=>di(t)?(r&&e.watch.add(t),fe(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),fe(n,a))):(r&&(e.watchAll=!0),n),Dw=t=>Dn(t)||!Fj(t);function ja(t,e,n=new WeakSet){if(Dw(t)||Dw(e))return t===e;if(Gs(t)&&Gs(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of r){const s=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=e[a];if(Gs(s)&&Gs(o)||Et(s)&&Et(o)||Array.isArray(s)&&Array.isArray(o)?!ja(s,o,n):s!==o)return!1}}return!0}var FY=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Dc=t=>Array.isArray(t)?t:[t],zA=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Un=t=>Et(t)&&!Object.keys(t).length,Ub=t=>t.type==="file",qr=t=>typeof t=="function",Hp=t=>{if(!Vb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Uj=t=>t.type==="select-multiple",Bb=t=>t.type==="radio",UY=t=>Bb(t)||Xd(t),Dv=t=>Hp(t)&&t.isConnected;function BY(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ot(t)?r++:t[e[r++]];return t}function zY(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ot(t[e]))return!1;return!0}function It(t,e){const n=Array.isArray(e)?e:Ng(e)?[e]:Fb(e),r=n.length===1?t:BY(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Et(r)&&Un(r)||Array.isArray(r)&&zY(r))&&It(t,n.slice(0,-1)),t}var Bj=t=>{for(const e in t)if(qr(t[e]))return!0;return!1};function Kp(t,e={}){const n=Array.isArray(t);if(Et(t)||n)for(const r in t)Array.isArray(t[r])||Et(t[r])&&!Bj(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Kp(t[r],e[r])):Dn(t[r])||(e[r]=!0);return e}function zj(t,e,n){const r=Array.isArray(t);if(Et(t)||r)for(const i in t)Array.isArray(t[i])||Et(t[i])&&!Bj(t[i])?Ot(e)||Dw(n[i])?n[i]=Array.isArray(t[i])?Kp(t[i],[]):{...Kp(t[i])}:zj(t[i],Dn(e)?{}:e[i],n[i]):n[i]=!ja(t[i],e[i]);return n}var Ju=(t,e)=>zj(t,e,Kp(e));const WA={value:!1,isValid:!1},qA={value:!0,isValid:!0};var Wj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ot(t[0].attributes.value)?Ot(t[0].value)||t[0].value===""?qA:{value:t[0].value,isValid:!0}:qA:WA}return WA},qj=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ot(t)?t:e?t===""?NaN:t&&+t:n&&di(t)?new Date(t):r?r(t):t;const HA={isValid:!1,value:null};var Hj=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,HA):HA;function KA(t){const e=t.ref;return Ub(e)?e.files:Bb(e)?Hj(t.refs).value:Uj(e)?[...e.selectedOptions].map(({value:n})=>n):Xd(e)?Wj(t.refs).value:qj(Ot(e.value)?t.ref.value:e.value,t)}var WY=(t,e,n,r)=>{const i={};for(const a of t){const s=fe(e,a);s&&tt(i,a,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Gp=t=>t instanceof RegExp,Zu=t=>Ot(t)?t:Gp(t)?t.source:Et(t)?Gp(t.value)?t.value.source:t.value:t,GA=t=>({isOnSubmit:!t||t===Wr.onSubmit,isOnBlur:t===Wr.onBlur,isOnChange:t===Wr.onChange,isOnAll:t===Wr.all,isOnTouch:t===Wr.onTouched});const YA="AsyncFunction";var qY=t=>!!t&&!!t.validate&&!!(qr(t.validate)&&t.validate.constructor.name===YA||Et(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===YA)),HY=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),QA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const jc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=fe(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)return!0;if(s.ref&&e(s.ref,s.name)&&!r)return!0;if(jc(o,e))break}else if(Et(o)&&jc(o,e))break}}};function XA(t,e,n){const r=fe(t,n);if(r||Ng(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),s=fe(e,a),o=fe(t,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:n}}var KY=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return Un(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!r||Wr.all))},GY=(t,e,n)=>!t||!e||t===e||Dc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),YY=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,QY=(t,e)=>!$b(fe(t,e)).length&&It(t,e),XY=(t,e,n)=>{const r=Dc(fe(t,n));return tt(r,"root",e[n]),tt(t,n,r),t},Xh=t=>di(t);function JA(t,e,n="validate"){if(Xh(t)||Array.isArray(t)&&t.every(Xh)||si(t)&&!t)return{type:n,message:Xh(t)?t:"",ref:e}}var Yo=t=>Et(t)&&!Gp(t)?t:{value:t,message:""},ZA=async(t,e,n,r,i,a)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:c,min:d,max:h,pattern:p,validate:m,name:y,valueAsNumber:w,mount:b}=t._f,v=fe(n,y);if(!b||e.has(y))return{};const E=o?o[0]:s,A=j=>{i&&E.reportValidity&&(E.setCustomValidity(si(j)?"":j||""),E.reportValidity())},k={},D=Bb(s),T=Xd(s),P=D||T,C=(w||Ub(s))&&Ot(s.value)&&Ot(v)||Hp(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,I=FY.bind(null,y,r,k),N=(j,O,H,B=Ri.maxLength,Z=Ri.minLength)=>{const ne=j?O:H;k[y]={type:j?B:Z,message:ne,ref:s,...I(j?B:Z,ne)}};if(a?!Array.isArray(v)||!v.length:l&&(!P&&(C||Dn(v))||si(v)&&!v||T&&!Wj(o).isValid||D&&!Hj(o).isValid)){const{value:j,message:O}=Xh(l)?{value:!!l,message:l}:Yo(l);if(j&&(k[y]={type:Ri.required,message:O,ref:E,...I(Ri.required,O)},!r))return A(O),k}if(!C&&(!Dn(d)||!Dn(h))){let j,O;const H=Yo(h),B=Yo(d);if(!Dn(v)&&!isNaN(v)){const Z=s.valueAsNumber||v&&+v;Dn(H.value)||(j=Z>H.value),Dn(B.value)||(O=Z<B.value)}else{const Z=s.valueAsDate||new Date(v),ne=re=>new Date(new Date().toDateString()+" "+re),L=s.type=="time",z=s.type=="week";di(H.value)&&v&&(j=L?ne(v)>ne(H.value):z?v>H.value:Z>new Date(H.value)),di(B.value)&&v&&(O=L?ne(v)<ne(B.value):z?v<B.value:Z<new Date(B.value))}if((j||O)&&(N(!!j,H.message,B.message,Ri.max,Ri.min),!r))return A(k[y].message),k}if((u||c)&&!C&&(di(v)||a&&Array.isArray(v))){const j=Yo(u),O=Yo(c),H=!Dn(j.value)&&v.length>+j.value,B=!Dn(O.value)&&v.length<+O.value;if((H||B)&&(N(H,j.message,O.message),!r))return A(k[y].message),k}if(p&&!C&&di(v)){const{value:j,message:O}=Yo(p);if(Gp(j)&&!v.match(j)&&(k[y]={type:Ri.pattern,message:O,ref:s,...I(Ri.pattern,O)},!r))return A(O),k}if(m){if(qr(m)){const j=await m(v,n),O=JA(j,E);if(O&&(k[y]={...O,...I(Ri.validate,O.message)},!r))return A(O.message),k}else if(Et(m)){let j={};for(const O in m){if(!Un(j)&&!r)break;const H=JA(await m[O](v,n),E,O);H&&(j={...H,...I(O,H.message)},A(H.message),r&&(k[y]=j))}if(!Un(j)&&(k[y]={ref:E,...j},!r))return k}}return A(!0),k};const JY={mode:Wr.onSubmit,reValidateMode:Wr.onChange,shouldFocusError:!0};function ZY(t={}){let e={...JY,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:qr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Et(e.defaultValues)||Et(e.values)?Kt(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Kt(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...c};const h={array:zA(),state:zA()},p=e.criteriaMode===Wr.all,m=M=>$=>{clearTimeout(u),u=setTimeout(M,$)},y=async M=>{if(!e.disabled&&(c.isValid||d.isValid||M)){const $=e.resolver?Un((await T()).errors):await C(r,!0);$!==n.isValid&&h.state.next({isValid:$})}},w=(M,$)=>{!e.disabled&&(c.isValidating||c.validatingFields||d.isValidating||d.validatingFields)&&((M||Array.from(o.mount)).forEach(W=>{W&&($?tt(n.validatingFields,W,$):It(n.validatingFields,W))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Un(n.validatingFields)}))},b=(M,$=[],W,ie,te=!0,J=!0)=>{if(ie&&W&&!e.disabled){if(s.action=!0,J&&Array.isArray(fe(r,M))){const se=W(fe(r,M),ie.argA,ie.argB);te&&tt(r,M,se)}if(J&&Array.isArray(fe(n.errors,M))){const se=W(fe(n.errors,M),ie.argA,ie.argB);te&&tt(n.errors,M,se),QY(n.errors,M)}if((c.touchedFields||d.touchedFields)&&J&&Array.isArray(fe(n.touchedFields,M))){const se=W(fe(n.touchedFields,M),ie.argA,ie.argB);te&&tt(n.touchedFields,M,se)}(c.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Ju(i,a)),h.state.next({name:M,isDirty:N(M,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else tt(a,M,$)},v=(M,$)=>{tt(n.errors,M,$),h.state.next({errors:n.errors})},E=M=>{n.errors=M,h.state.next({errors:n.errors,isValid:!1})},A=(M,$,W,ie)=>{const te=fe(r,M);if(te){const J=fe(a,M,Ot(W)?fe(i,M):W);Ot(J)||ie&&ie.defaultChecked||$?tt(a,M,$?J:KA(te._f)):H(M,J),s.mount&&y()}},k=(M,$,W,ie,te)=>{let J=!1,se=!1;const xe={name:M};if(!e.disabled){if(!W||ie){(c.isDirty||d.isDirty)&&(se=n.isDirty,n.isDirty=xe.isDirty=N(),J=se!==xe.isDirty);const Ve=ja(fe(i,M),$);se=!!fe(n.dirtyFields,M),Ve?It(n.dirtyFields,M):tt(n.dirtyFields,M,!0),xe.dirtyFields=n.dirtyFields,J=J||(c.dirtyFields||d.dirtyFields)&&se!==!Ve}if(W){const Ve=fe(n.touchedFields,M);Ve||(tt(n.touchedFields,M,W),xe.touchedFields=n.touchedFields,J=J||(c.touchedFields||d.touchedFields)&&Ve!==W)}J&&te&&h.state.next(xe)}return J?xe:{}},D=(M,$,W,ie)=>{const te=fe(n.errors,M),J=(c.isValid||d.isValid)&&si($)&&n.isValid!==$;if(e.delayError&&W?(l=m(()=>v(M,W)),l(e.delayError)):(clearTimeout(u),l=null,W?tt(n.errors,M,W):It(n.errors,M)),(W?!ja(te,W):te)||!Un(ie)||J){const se={...ie,...J&&si($)?{isValid:$}:{},errors:n.errors,name:M};n={...n,...se},h.state.next(se)}},T=async M=>{w(M,!0);const $=await e.resolver(a,e.context,WY(M||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(M),$},P=async M=>{const{errors:$}=await T(M);if(M)for(const W of M){const ie=fe($,W);ie?tt(n.errors,W,ie):It(n.errors,W)}else n.errors=$;return $},C=async(M,$,W={valid:!0})=>{for(const ie in M){const te=M[ie];if(te){const{_f:J,...se}=te;if(J){const xe=o.array.has(J.name),Ve=te._f&&qY(te._f);Ve&&c.validatingFields&&w([ie],!0);const kn=await ZA(te,o.disabled,a,p,e.shouldUseNativeValidation&&!$,xe);if(Ve&&c.validatingFields&&w([ie]),kn[J.name]&&(W.valid=!1,$))break;!$&&(fe(kn,J.name)?xe?XY(n.errors,kn,J.name):tt(n.errors,J.name,kn[J.name]):It(n.errors,J.name))}!Un(se)&&await C(se,$,W)}}return W.valid},I=()=>{for(const M of o.unMount){const $=fe(r,M);$&&($._f.refs?$._f.refs.every(W=>!Dv(W)):!Dv($._f.ref))&&Te(M)}o.unMount=new Set},N=(M,$)=>!e.disabled&&(M&&$&&tt(a,M,$),!ja(re(),i)),j=(M,$,W)=>$Y(M,o,{...s.mount?a:Ot($)?i:di(M)?{[M]:$}:$},W,$),O=M=>$b(fe(s.mount?a:i,M,e.shouldUnregister?fe(i,M,[]):[])),H=(M,$,W={})=>{const ie=fe(r,M);let te=$;if(ie){const J=ie._f;J&&(!J.disabled&&tt(a,M,qj($,J)),te=Hp(J.ref)&&Dn($)?"":$,Uj(J.ref)?[...J.ref.options].forEach(se=>se.selected=te.includes(se.value)):J.refs?Xd(J.ref)?J.refs.forEach(se=>{(!se.defaultChecked||!se.disabled)&&(Array.isArray(te)?se.checked=!!te.find(xe=>xe===se.value):se.checked=te===se.value||!!te)}):J.refs.forEach(se=>se.checked=se.value===te):Ub(J.ref)?J.ref.value="":(J.ref.value=te,J.ref.type||h.state.next({name:M,values:Kt(a)})))}(W.shouldDirty||W.shouldTouch)&&k(M,te,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&z(M)},B=(M,$,W)=>{for(const ie in $){if(!$.hasOwnProperty(ie))return;const te=$[ie],J=M+"."+ie,se=fe(r,J);(o.array.has(M)||Et(te)||se&&!se._f)&&!Gs(te)?B(J,te,W):H(J,te,W)}},Z=(M,$,W={})=>{const ie=fe(r,M),te=o.array.has(M),J=Kt($);tt(a,M,J),te?(h.array.next({name:M,values:Kt(a)}),(c.isDirty||c.dirtyFields||d.isDirty||d.dirtyFields)&&W.shouldDirty&&h.state.next({name:M,dirtyFields:Ju(i,a),isDirty:N(M,J)})):ie&&!ie._f&&!Dn(J)?B(M,J,W):H(M,J,W),QA(M,o)&&h.state.next({...n,name:M}),h.state.next({name:s.mount?M:void 0,values:Kt(a)})},ne=async M=>{s.mount=!0;const $=M.target;let W=$.name,ie=!0;const te=fe(r,W),J=Ve=>{ie=Number.isNaN(Ve)||Gs(Ve)&&isNaN(Ve.getTime())||ja(Ve,fe(a,W,Ve))},se=GA(e.mode),xe=GA(e.reValidateMode);if(te){let Ve,kn;const Is=$.type?KA(te._f):NY(M),ni=M.type===BA.BLUR||M.type===BA.FOCUS_OUT,ks=!HY(te._f)&&!e.resolver&&!fe(n.errors,W)&&!te._f.deps||YY(ni,fe(n.touchedFields,W),n.isSubmitted,xe,se),Vo=QA(W,o,ni);tt(a,W,Is),ni?(!$||!$.readOnly)&&(te._f.onBlur&&te._f.onBlur(M),l&&l(0)):te._f.onChange&&te._f.onChange(M);const $o=k(W,Is,ni),Au=!Un($o)||Vo;if(!ni&&h.state.next({name:W,type:M.type,values:Kt(a)}),ks)return(c.isValid||d.isValid)&&(e.mode==="onBlur"?ni&&y():ni||y()),Au&&h.state.next({name:W,...Vo?{}:$o});if(!ni&&Vo&&h.state.next({...n}),e.resolver){const{errors:vf}=await T([W]);if(J(Is),ie){const Ay=XA(n.errors,r,W),Fo=XA(vf,r,Ay.name||W);Ve=Fo.error,W=Fo.name,kn=Un(vf)}}else w([W],!0),Ve=(await ZA(te,o.disabled,a,p,e.shouldUseNativeValidation))[W],w([W]),J(Is),ie&&(Ve?kn=!1:(c.isValid||d.isValid)&&(kn=await C(r,!0)));ie&&(te._f.deps&&z(te._f.deps),D(W,kn,Ve,$o))}},L=(M,$)=>{if(fe(n.errors,$)&&M.focus)return M.focus(),1},z=async(M,$={})=>{let W,ie;const te=Dc(M);if(e.resolver){const J=await P(Ot(M)?M:te);W=Un(J),ie=M?!te.some(se=>fe(J,se)):W}else M?(ie=(await Promise.all(te.map(async J=>{const se=fe(r,J);return await C(se&&se._f?{[J]:se}:se)}))).every(Boolean),!(!ie&&!n.isValid)&&y()):ie=W=await C(r);return h.state.next({...!di(M)||(c.isValid||d.isValid)&&W!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:W}:{},errors:n.errors}),$.shouldFocus&&!ie&&jc(r,L,M?te:o.mount),ie},re=M=>{const $={...s.mount?a:i};return Ot(M)?$:di(M)?fe($,M):M.map(W=>fe($,W))},de=(M,$)=>({invalid:!!fe(($||n).errors,M),isDirty:!!fe(($||n).dirtyFields,M),error:fe(($||n).errors,M),isValidating:!!fe(n.validatingFields,M),isTouched:!!fe(($||n).touchedFields,M)}),X=M=>{M&&Dc(M).forEach($=>It(n.errors,$)),h.state.next({errors:M?n.errors:{}})},Ee=(M,$,W)=>{const ie=(fe(r,M,{_f:{}})._f||{}).ref,te=fe(n.errors,M)||{},{ref:J,message:se,type:xe,...Ve}=te;tt(n.errors,M,{...Ve,...$,ref:ie}),h.state.next({name:M,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&ie&&ie.focus&&ie.focus()},Tt=(M,$)=>qr(M)?h.state.subscribe({next:W=>"values"in W&&M(j(void 0,$),W)}):j(M,$,!0),G=M=>h.state.subscribe({next:$=>{GY(M.name,$.name,M.exact)&&KY($,M.formState||c,Vr,M.reRenderRoot)&&M.callback({values:{...a},...n,...$,defaultValues:i})}}).unsubscribe,Oe=M=>(s.mount=!0,d={...d,...M.formState},G({...M,formState:d})),Te=(M,$={})=>{for(const W of M?Dc(M):o.mount)o.mount.delete(W),o.array.delete(W),$.keepValue||(It(r,W),It(a,W)),!$.keepError&&It(n.errors,W),!$.keepDirty&&It(n.dirtyFields,W),!$.keepTouched&&It(n.touchedFields,W),!$.keepIsValidating&&It(n.validatingFields,W),!e.shouldUnregister&&!$.keepDefaultValue&&It(i,W);h.state.next({values:Kt(a)}),h.state.next({...n,...$.keepDirty?{isDirty:N()}:{}}),!$.keepIsValid&&y()},er=({disabled:M,name:$})=>{(si(M)&&s.mount||M||o.disabled.has($))&&(M?o.disabled.add($):o.disabled.delete($))},oe=(M,$={})=>{let W=fe(r,M);const ie=si($.disabled)||si(e.disabled);return tt(r,M,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:M}},name:M,mount:!0,...$}}),o.mount.add(M),W?er({disabled:si($.disabled)?$.disabled:e.disabled,name:M}):A(M,!0,$.value),{...ie?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:Zu($.min),max:Zu($.max),minLength:Zu($.minLength),maxLength:Zu($.maxLength),pattern:Zu($.pattern)}:{},name:M,onChange:ne,onBlur:ne,ref:te=>{if(te){oe(M,$),W=fe(r,M);const J=Ot(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,se=UY(J),xe=W._f.refs||[];if(se?xe.find(Ve=>Ve===J):J===W._f.ref)return;tt(r,M,{_f:{...W._f,...se?{refs:[...xe.filter(Dv),J,...Array.isArray(fe(i,M))?[{}]:[]],ref:{type:J.type,name:M}}:{ref:J}}}),A(M,!1,void 0,J)}else W=fe(r,M,{}),W._f&&(W._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(DY(o.array,M)&&s.action)&&o.unMount.add(M)}}},we=()=>e.shouldFocusError&&jc(r,L,o.mount),Se=M=>{si(M)&&(h.state.next({disabled:M}),jc(r,($,W)=>{const ie=fe(r,W);ie&&($.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(te=>{te.disabled=ie._f.disabled||M}))},0,!1))},Y=(M,$)=>async W=>{let ie;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let te=Kt(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:se}=await T();n.errors=J,te=Kt(se)}else await C(r);if(o.disabled.size)for(const J of o.disabled)It(te,J);if(It(n.errors,"root"),Un(n.errors)){h.state.next({errors:{}});try{await M(te,W)}catch(J){ie=J}}else $&&await $({...n.errors},W),we(),setTimeout(we);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},At=(M,$={})=>{fe(r,M)&&(Ot($.defaultValue)?Z(M,Kt(fe(i,M))):(Z(M,$.defaultValue),tt(i,M,Kt($.defaultValue))),$.keepTouched||It(n.touchedFields,M),$.keepDirty||(It(n.dirtyFields,M),n.isDirty=$.defaultValue?N(M,Kt(fe(i,M))):N()),$.keepError||(It(n.errors,M),c.isValid&&y()),h.state.next({...n}))},De=(M,$={})=>{const W=M?Kt(M):i,ie=Kt(W),te=Un(M),J=te?i:ie;if($.keepDefaultValues||(i=W),!$.keepValues){if($.keepDirtyValues){const se=new Set([...o.mount,...Object.keys(Ju(i,a))]);for(const xe of Array.from(se))fe(n.dirtyFields,xe)?tt(J,xe,fe(a,xe)):Z(xe,fe(J,xe))}else{if(Vb&&Ot(M))for(const se of o.mount){const xe=fe(r,se);if(xe&&xe._f){const Ve=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(Hp(Ve)){const kn=Ve.closest("form");if(kn){kn.reset();break}}}}if($.keepFieldsRef)for(const se of o.mount)Z(se,fe(J,se));else r={}}a=e.shouldUnregister?$.keepDefaultValues?Kt(i):{}:Kt(J),h.array.next({values:{...J}}),h.state.next({values:{...J}})}o={mount:$.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!$.keepIsValid||!!$.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:te?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!ja(M,i)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:$.keepDirtyValues?$.keepDefaultValues&&a?Ju(i,a):n.dirtyFields:$.keepDefaultValues&&M?Ju(i,M):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ct=(M,$)=>De(qr(M)?M(a):M,$),Ht=(M,$={})=>{const W=fe(r,M),ie=W&&W._f;if(ie){const te=ie.refs?ie.refs[0]:ie.ref;te.focus&&(te.focus(),$.shouldSelect&&qr(te.select)&&te.select())}},Vr=M=>{n={...n,...M}},Tu={control:{register:oe,unregister:Te,getFieldState:de,handleSubmit:Y,setError:Ee,_subscribe:G,_runSchema:T,_focusError:we,_getWatch:j,_getDirty:N,_setValid:y,_setFieldArray:b,_setDisabledField:er,_setErrors:E,_getFieldArray:O,_reset:De,_resetDefaultValues:()=>qr(e.defaultValues)&&e.defaultValues().then(M=>{Ct(M,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Se,_subjects:h,_proxyFormState:c,get _fields(){return r},get _formValues(){return a},get _state(){return s},set _state(M){s=M},get _defaultValues(){return i},get _names(){return o},set _names(M){o=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:Oe,trigger:z,register:oe,handleSubmit:Y,watch:Tt,setValue:Z,getValues:re,reset:Ct,resetField:At,clearErrors:X,unregister:Te,setError:Ee,setFocus:Ht,getFieldState:de};return{...Tu,formControl:Tu}}function zb(t={}){const e=wn.useRef(void 0),n=wn.useRef(void 0),[r,i]=wn.useState({isDirty:!1,isValidating:!1,isLoading:qr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:qr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!qr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...o}=ZY(t);e.current={...o,formState:r}}const a=e.current.control;return a._options=t,VY(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),wn.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),wn.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),wn.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),wn.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),wn.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==r.isDirty&&a._subjects.state.next({isDirty:s})}},[a,r.isDirty]),wn.useEffect(()=>{t.values&&!ja(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[a,t.values]),wn.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=LY(r,a),e.current}const eQ=()=>{const{user:t}=Ii(),{t:e}=Es(),[n,r]=_.useState([]),[i,a]=_.useState(!0),[s,o]=_.useState(!1),[l,u]=_.useState(null),[c,d]=_.useState(""),{register:h,handleSubmit:p,reset:m,setValue:y,formState:{errors:w}}=zb();_.useEffect(()=>{b()},[t]);const b=async()=>{if(t)try{const T=await Ig(t.uid);r(T)}catch(T){console.error("Error fetching clients:",T)}finally{a(!1)}},v=async T=>{if(t)try{l?await bK(l.id,T):await _K({...T,userId:t.uid}),await b(),k()}catch(P){console.error("Error saving client:",P)}},E=T=>{u(T),y("name",T.name),y("phone",T.phone),y("email",T.email),y("notes",T.notes||""),o(!0)},A=async T=>{if(window.confirm(e("clients.deleteConfirm")))try{await EK(T),await b()}catch(P){console.error("Error deleting client:",P)}},k=()=>{o(!1),u(null),m()},D=n.filter(T=>T.name.toLowerCase().includes(c.toLowerCase())||T.email.toLowerCase().includes(c.toLowerCase())||T.phone.includes(c));return i?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("clients.title")}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("clients.subtitle")})]}),g.jsxs(Xt,{onClick:()=>o(!0),children:[g.jsx(Kl,{size:20,className:"mr-2"}),e("clients.addClient")]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(kb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),g.jsx("input",{type:"text",placeholder:e("clients.searchClients"),value:c,onChange:T=>d(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(T=>g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.name}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>E(T),className:"text-gray-400 hover:text-purple-600 transition-colors",children:g.jsx(Ib,{size:16})}),g.jsx("button",{onClick:()=>A(T.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:g.jsx(Ag,{size:16})})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(rH,{size:16,className:"mr-2"}),g.jsx("span",{className:"text-sm",children:T.phone})]}),g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(tH,{size:16,className:"mr-2"}),g.jsx("span",{className:"text-sm",children:T.email})]})]}),T.notes&&g.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:g.jsx("p",{className:"text-sm text-gray-600",children:T.notes})})]},T.id))}),D.length===0&&g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-gray-500",children:e("clients.noClientsFound")})}),g.jsx(Qd,{isOpen:s,onClose:k,title:e(l?"clients.editClient":"clients.addNewClient"),children:g.jsxs("form",{onSubmit:p(v),className:"space-y-4",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("clients.fields.name")," *"]}),g.jsx("input",{type:"text",id:"name",...h("name",{required:e("clients.validation.nameRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),w.name&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.name.message})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("clients.fields.phone")," *"]}),g.jsx("input",{type:"tel",id:"phone",...h("phone",{required:e("clients.validation.phoneRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),w.phone&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.phone.message})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("clients.fields.email")," *"]}),g.jsx("input",{type:"email",id:"email",...h("email",{required:e("clients.validation.emailRequired"),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:e("clients.validation.emailInvalid")}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),w.email&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.email.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:e("clients.fields.notes")}),g.jsx("textarea",{id:"notes",rows:3,...h("notes"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),g.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[g.jsx(Xt,{type:"button",variant:"secondary",onClick:k,children:e("common.cancel")}),g.jsxs(Xt,{type:"submit",children:[e(l?"common.update":"common.create")," ",e("navigation.clients")]})]})]})})]})},tQ=({isOpen:t,onClose:e,onSave:n,eventName:r,contractTotal:i})=>{const[a,s]=_.useState([{amount:0,paymentDate:new Date,method:"pix",notes:"Entrada",received:!1}]),o=()=>{var y;const m=((y=a[a.length-1])==null?void 0:y.paymentDate)||new Date;s([...a,{amount:0,paymentDate:pd(m,1),method:"pix",notes:"",received:!1}])},l=m=>{a.length>1&&s(a.filter((y,w)=>w!==m))},u=(m,y,w)=>{const b=[...a];b[m]={...b[m],[y]:w},s(b)},c=m=>{const y=Math.round(i/m*100)/100,w=i-y*m,b=[];for(let v=0;v<m;v++)b.push({amount:v===0?y+w:y,paymentDate:v===0?new Date:pd(new Date,v),method:"pix",notes:v===0?"Entrada":`Parcela ${v+1}`,received:!1});s(b)},d=a.reduce((m,y)=>m+Number(y.amount||0),0),h=i-d,p=()=>{if(Math.abs(h)>.01){alert("O valor total das parcelas deve ser igual ao valor do contrato!");return}n(a),e()};return g.jsx(Qd,{isOpen:t,onClose:e,title:`Parcelamento - ${r}`,size:"xl",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Configuração Rápida"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:[2,3,4,6,12].map(m=>g.jsxs(Xt,{variant:"secondary",size:"sm",onClick:()=>c(m),children:[m,"x"]},m))})]}),g.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-blue-700",children:"Valor do Contrato:"}),g.jsxs("span",{className:"font-bold text-blue-900",children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsxs("div",{className:"flex justify-between items-center mt-2",children:[g.jsx("span",{className:"text-sm text-blue-700",children:"Total das Parcelas:"}),g.jsxs("span",{className:`font-bold ${h===0?"text-green-600":"text-red-600"}`,children:["R$ ",d.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),h!==0&&g.jsxs("div",{className:"flex justify-between items-center mt-1",children:[g.jsx("span",{className:"text-sm text-red-700",children:"Diferença:"}),g.jsxs("span",{className:"font-bold text-red-600",children:["R$ ",Math.abs(h).toLocaleString("pt-BR",{minimumFractionDigits:2}),h>0?" (faltando)":" (excesso)"]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Parcelas (",a.length,")"]}),g.jsxs(Xt,{onClick:o,size:"sm",children:[g.jsx(Kl,{size:16,className:"mr-1"}),"Adicionar"]})]}),g.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.map((m,y)=>g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Parcela ",y+1]}),a.length>1&&g.jsx("button",{onClick:()=>l(y),className:"text-red-500 hover:text-red-700",children:g.jsx(Ag,{size:16})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor (R$)"}),g.jsx("input",{type:"number",step:"0.01",min:"0",value:m.amount||"",onChange:w=>u(y,"amount",Number(w.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Data de Vencimento"}),g.jsx("input",{type:"date",value:Pn(m.paymentDate,"yyyy-MM-dd"),onChange:w=>u(y,"paymentDate",new Date(w.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Método"}),g.jsxs("select",{value:m.method,onChange:w=>u(y,"method",w.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[g.jsx("option",{value:"pix",children:"PIX"}),g.jsx("option",{value:"card",children:"Cartão"}),g.jsx("option",{value:"boleto",children:"Boleto"}),g.jsx("option",{value:"cash",children:"Dinheiro"})]})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:`received-${y}`,checked:m.received,onChange:w=>u(y,"received",w.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),g.jsx("label",{htmlFor:`received-${y}`,className:"ml-2 text-xs text-gray-700",children:"Recebido"})]})]}),g.jsxs("div",{className:"mt-3",children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Observações"}),g.jsx("input",{type:"text",value:m.notes||"",onChange:w=>u(y,"notes",w.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Entrada, Parcela 1, etc."})]})]},y))})]}),g.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[g.jsx(Xt,{variant:"secondary",onClick:e,children:"Cancelar"}),g.jsx(Xt,{onClick:p,disabled:Math.abs(h)>.01,children:"Salvar Parcelamento"})]})]})})},nQ=()=>{const{user:t}=Ii(),{t:e}=Es(),[n,r]=_.useState([]),[i,a]=_.useState([]),[s,o]=_.useState(!0),[l,u]=_.useState(!1),[c,d]=_.useState(null),[h,p]=_.useState(""),[m,y]=_.useState("all"),[w,b]=_.useState(!1),[v,E]=_.useState(null),[A,k]=_.useState(null),{register:D,handleSubmit:T,reset:P,setValue:C,watch:I,formState:{errors:N}}=zb(),j=I("clientId"),O=I("type");_.useEffect(()=>{H()},[t]),_.useEffect(()=>{if(j&&O){const G=i.find(Oe=>Oe.id===j);if(G){const Te=`${{wedding:e("events.types.wedding"),debutante:e("events.types.debutante"),birthday:e("events.types.birthday"),graduation:e("events.types.graduation"),other:e("events.types.other")}[O]} ${G.name}`;C("name",Te)}}},[j,O,i,C,e]);const H=async()=>{if(t)try{const[G,Oe]=await Promise.all([Yd(t.uid),Ig(t.uid)]);r(G),a(Oe)}catch(G){console.error("Error fetching data:",G)}finally{o(!1)}},B=async G=>{if(t)try{const Oe=i.find(er=>er.id===G.clientId);if(!Oe)return;const Te={...G,date:new Date(G.date),contractTotal:Number(G.contractTotal),clientName:Oe.name,userId:t.uid};c?await DA(c.id,Te):await SK(Te),await H(),X()}catch(Oe){console.error("Error saving event:",Oe)}},Z=G=>{d(G),C("name",G.name),C("type",G.type),C("date",Pn(G.date,"yyyy-MM-dd")),C("location",G.location),C("clientId",G.clientId),C("status",G.status),C("contractTotal",G.contractTotal),C("details",G.details||""),u(!0)},ne=async G=>{if(window.confirm(e("events.deleteConfirm")))try{await PK(G),await H()}catch(Oe){console.error("Error deleting event:",Oe)}},L=G=>{E(G),b(!0)},z=async G=>{if(!(!t||!v))try{await CK(v.id,v.name,t.uid,G),b(!1),E(null)}catch(Oe){console.error("Error saving installments:",Oe)}},re=async(G,Oe)=>{k(G);try{const{url:Te,fileName:er}=await kK(G,Oe);await DA(G,{contractUrl:Te,contractFileName:er}),await H()}catch(Te){console.error("Error uploading contract:",Te)}finally{k(null)}},de=(G,Oe)=>{const Te=document.createElement("a");Te.href=G,Te.download=Oe,Te.target="_blank",document.body.appendChild(Te),Te.click(),document.body.removeChild(Te)},X=()=>{u(!1),d(null),P()},Ee=n.filter(G=>{const Oe=G.name.toLowerCase().includes(h.toLowerCase())||G.clientName.toLowerCase().includes(h.toLowerCase())||G.location.toLowerCase().includes(h.toLowerCase()),Te=m==="all"||G.status===m;return Oe&&Te}),Tt=G=>{switch(G){case"planning":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("events.title")}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("events.subtitle")})]}),g.jsxs(Xt,{onClick:()=>u(!0),children:[g.jsx(Kl,{size:20,className:"mr-2"}),e("events.addEvent")]})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(kb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),g.jsx("input",{type:"text",placeholder:e("events.searchEvents"),value:h,onChange:G=>p(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),g.jsxs("select",{value:m,onChange:G=>y(G.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[g.jsx("option",{value:"all",children:e("events.allStatus")}),g.jsx("option",{value:"planning",children:e("events.status.planning")}),g.jsx("option",{value:"confirmed",children:e("events.status.confirmed")}),g.jsx("option",{value:"completed",children:e("events.status.completed")}),g.jsx("option",{value:"canceled",children:e("events.status.canceled")})]})]}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Ee.map(G=>g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:G.name}),g.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${Tt(G.status)}`,children:e(`events.status.${G.status}`)})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>Z(G),className:"text-gray-400 hover:text-purple-600 transition-colors",title:e("common.edit"),children:g.jsx(Ib,{size:16})}),g.jsx("button",{onClick:()=>L(G),className:"text-gray-400 hover:text-green-600 transition-colors",title:"Criar parcelamento",children:g.jsx(xo,{size:16})}),g.jsx("button",{onClick:()=>ne(G.id),className:"text-gray-400 hover:text-red-600 transition-colors",title:e("common.delete"),children:g.jsx(Ag,{size:16})})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(ia,{size:16,className:"mr-2 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:Pn(G.date,"dd/MM/yyyy")})]}),g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(lj,{size:16,className:"mr-2 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:G.location})]}),g.jsxs("div",{className:"flex items-center text-gray-600",children:[g.jsx(uj,{size:16,className:"mr-2 flex-shrink-0"}),g.jsx("span",{className:"text-sm",children:G.clientName})]})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-gray-500 capitalize",children:e(`events.types.${G.type}`)}),g.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[e("currency")," ",G.contractTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),G.details&&g.jsx("div",{className:"mt-3",children:g.jsx("p",{className:"text-sm text-gray-600",children:G.details})}),g.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:G.contractUrl?g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"Contrato anexado"}),g.jsx("button",{onClick:()=>de(G.contractUrl,G.contractFileName),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"Baixar Contrato"})]}):g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm text-gray-500",children:"Nenhum contrato anexado"}),g.jsxs("label",{className:"cursor-pointer",children:[g.jsx("input",{type:"file",accept:".pdf,.doc,.docx",className:"hidden",onChange:Oe=>{var er;const Te=(er=Oe.target.files)==null?void 0:er[0];Te&&re(G.id,Te)},disabled:A===G.id}),g.jsx("span",{className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:A===G.id?"Enviando...":"Anexar Contrato"})]})]})})]},G.id))}),Ee.length===0&&g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-gray-500",children:e("events.noEventsFound")})}),g.jsx(Qd,{isOpen:l,onClose:X,title:e(c?"events.editEvent":"events.addNewEvent"),size:"lg",children:g.jsxs("form",{onSubmit:T(B),className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"clientId",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("events.fields.client")," *"]}),g.jsxs("select",{id:"clientId",...D("clientId",{required:e("events.validation.clientRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[g.jsx("option",{value:"",children:e("events.fields.selectClient")}),i.map(G=>g.jsx("option",{value:G.id,children:G.name},G.id))]}),N.clientId&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.clientId.message})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("events.fields.eventType")," *"]}),g.jsxs("select",{id:"type",...D("type",{required:e("events.validation.typeRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[g.jsx("option",{value:"",children:e("events.fields.selectEventType")}),g.jsx("option",{value:"wedding",children:e("events.types.wedding")}),g.jsx("option",{value:"debutante",children:e("events.types.debutante")}),g.jsx("option",{value:"birthday",children:e("events.types.birthday")}),g.jsx("option",{value:"graduation",children:e("events.types.graduation")}),g.jsx("option",{value:"other",children:e("events.types.other")})]}),N.type&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.type.message})]})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("events.fields.eventName")," *"]}),g.jsx("input",{type:"text",id:"name",...D("name",{required:e("events.validation.nameRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),N.name&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.name.message})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("events.fields.eventDate")," *"]}),g.jsx("input",{type:"date",id:"date",...D("date",{required:e("events.validation.dateRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),N.date&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.date.message})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("common.status")," *"]}),g.jsxs("select",{id:"status",...D("status",{required:e("events.validation.statusRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[g.jsx("option",{value:"planning",children:e("events.status.planning")}),g.jsx("option",{value:"confirmed",children:e("events.status.confirmed")}),g.jsx("option",{value:"completed",children:e("events.status.completed")}),g.jsx("option",{value:"canceled",children:e("events.status.canceled")})]}),N.status&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.status.message})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("events.fields.location")," *"]}),g.jsx("input",{type:"text",id:"location",...D("location",{required:e("events.validation.locationRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),N.location&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.location.message})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"contractTotal",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("events.fields.contractTotal")," (",e("currency"),") *"]}),g.jsx("input",{type:"number",id:"contractTotal",step:"0.01",min:"0",...D("contractTotal",{required:e("events.validation.contractRequired"),min:{value:0,message:e("events.validation.amountPositive")}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),N.contractTotal&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.contractTotal.message})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"details",className:"block text-sm font-medium text-gray-700 mb-1",children:e("events.fields.additionalDetails")}),g.jsx("textarea",{id:"details",rows:3,...D("details"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),g.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[g.jsx(Xt,{type:"button",variant:"secondary",onClick:X,children:e("common.cancel")}),g.jsxs(Xt,{type:"submit",children:[e(c?"common.update":"common.create")," ",e("navigation.events")]})]})]})}),g.jsx(tQ,{isOpen:w,onClose:()=>{b(!1),E(null)},onSave:z,eventName:(v==null?void 0:v.name)||"",contractTotal:(v==null?void 0:v.contractTotal)||0})]})},rQ=()=>{const{user:t}=Ii(),{t:e}=Es(),[n,r]=_.useState([]),[i,a]=_.useState([]),[s,o]=_.useState(!0),[l,u]=_.useState(!1),[c,d]=_.useState(null),[h,p]=_.useState(""),[m,y]=_.useState("all"),{register:w,handleSubmit:b,reset:v,setValue:E,formState:{errors:A}}=zb();_.useEffect(()=>{k()},[t]);const k=async()=>{if(t)try{const[B,Z]=await Promise.all([Mb(t.uid),Yd(t.uid)]);r(B),a(Z)}catch(B){console.error("Error fetching data:",B)}finally{o(!1)}},D=async B=>{if(t)try{const Z=i.find(L=>L.id===B.eventId);if(!Z)return;const ne={...B,paymentDate:new Date(B.paymentDate),amount:Number(B.amount),eventName:Z.name,userId:t.uid};c?await jA(c.id,ne):await TK(ne),await k(),I()}catch(Z){console.error("Error saving payment:",Z)}},T=B=>{d(B),E("eventId",B.eventId),E("amount",B.amount),E("paymentDate",Pn(B.paymentDate,"yyyy-MM-dd")),E("method",B.method),E("received",B.received),E("notes",B.notes||""),u(!0)},P=async B=>{if(window.confirm(e("payments.deleteConfirm")))try{await AK(B),await k()}catch(Z){console.error("Error deleting payment:",Z)}},C=async B=>{try{await jA(B.id,{received:!B.received}),await k()}catch(Z){console.error("Error updating payment status:",Z)}},I=()=>{u(!1),d(null),v()},N=n.filter(B=>{const Z=B.eventName.toLowerCase().includes(h.toLowerCase())||B.method.toLowerCase().includes(h.toLowerCase())||B.notes&&B.notes.toLowerCase().includes(h.toLowerCase()),ne=m==="all"||m==="received"&&B.received||m==="pending"&&!B.received;return Z&&ne}),j=B=>{switch(B){case"pix":return"bg-green-100 text-green-800";case"card":return"bg-blue-100 text-blue-800";case"boleto":return"bg-orange-100 text-orange-800";case"cash":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},O=n.filter(B=>B.received).reduce((B,Z)=>B+Z.amount,0),H=n.filter(B=>!B.received).reduce((B,Z)=>B+Z.amount,0);return s?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("payments.title")}),g.jsx("p",{className:"text-gray-600 mt-1",children:e("payments.subtitle")})]}),g.jsxs(Xt,{onClick:()=>u(!0),children:[g.jsx(Kl,{size:20,className:"mr-2"}),e("payments.addPayment")]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:e("payments.totalReceived")}),g.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e("currency")," ",O.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsx(fd,{className:"h-12 w-12 text-green-600 opacity-80"})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:e("payments.pendingPayments")}),g.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[e("currency")," ",H.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsx(hd,{className:"h-12 w-12 text-orange-600 opacity-80"})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:e("payments.totalPayments")}),g.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.length})]}),g.jsx(xo,{className:"h-12 w-12 text-purple-600 opacity-80"})]})})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(kb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),g.jsx("input",{type:"text",placeholder:e("payments.searchPayments"),value:h,onChange:B=>p(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),g.jsxs("select",{value:m,onChange:B=>y(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[g.jsx("option",{value:"all",children:e("payments.allPayments")}),g.jsx("option",{value:"received",children:e("payments.received")}),g.jsx("option",{value:"pending",children:e("payments.pending")})]})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e("payments.paymentList")})}),g.jsx("div",{className:"divide-y divide-gray-200",children:N.map(B=>g.jsx("div",{className:"p-6 hover:bg-gray-50",children:g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[g.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[g.jsxs("div",{className:"flex items-center mb-2",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mr-3",children:B.eventName}),g.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${j(B.method)}`,children:e(`payments.methods.${B.method}`)})]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center text-sm text-gray-600 space-y-1 md:space-y-0 md:space-x-4",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(ia,{size:16,className:"mr-1"}),Pn(B.paymentDate,"dd/MM/yyyy")]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(xo,{size:16,className:"mr-1"}),e("currency")," ",B.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),B.notes&&g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:B.notes})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("button",{onClick:()=>C(B),className:`flex items-center px-3 py-1 rounded-full text-sm font-medium transition-colors ${B.received?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:B.received?g.jsxs(g.Fragment,{children:[g.jsx(fd,{size:16,className:"mr-1"}),e("payments.received")]}):g.jsxs(g.Fragment,{children:[g.jsx(hd,{size:16,className:"mr-1"}),e("payments.pending")]})}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>T(B),className:"text-gray-400 hover:text-purple-600 transition-colors",children:g.jsx(Ib,{size:16})}),g.jsx("button",{onClick:()=>P(B.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:g.jsx(Ag,{size:16})})]})]})]})},B.id))})]}),N.length===0&&g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-gray-500",children:e("payments.noPaymentsFound")})}),g.jsx(Qd,{isOpen:l,onClose:I,title:e(c?"payments.editPayment":"payments.addNewPayment"),children:g.jsxs("form",{onSubmit:b(D),className:"space-y-4",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"eventId",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("payments.fields.event")," *"]}),g.jsxs("select",{id:"eventId",...w("eventId",{required:e("payments.validation.eventRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[g.jsx("option",{value:"",children:e("payments.fields.selectEvent")}),i.map(B=>g.jsx("option",{value:B.id,children:B.name},B.id))]}),A.eventId&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:A.eventId.message})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("common.amount")," (",e("currency"),") *"]}),g.jsx("input",{type:"number",id:"amount",step:"0.01",min:"0",...w("amount",{required:e("payments.validation.amountRequired"),min:{value:0,message:e("payments.validation.amountPositive")}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),A.amount&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:A.amount.message})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"paymentDate",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("payments.fields.paymentDate")," *"]}),g.jsx("input",{type:"date",id:"paymentDate",...w("paymentDate",{required:e("payments.validation.dateRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),A.paymentDate&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:A.paymentDate.message})]})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"method",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("payments.fields.paymentMethod")," *"]}),g.jsxs("select",{id:"method",...w("method",{required:e("payments.validation.methodRequired")}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[g.jsx("option",{value:"",children:e("payments.fields.selectPaymentMethod")}),g.jsx("option",{value:"pix",children:e("payments.methods.pix")}),g.jsx("option",{value:"card",children:e("payments.methods.card")}),g.jsx("option",{value:"boleto",children:e("payments.methods.boleto")}),g.jsx("option",{value:"cash",children:e("payments.methods.cash")})]}),A.method&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:A.method.message})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"received",...w("received"),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),g.jsx("label",{htmlFor:"received",className:"ml-2 block text-sm text-gray-900",children:e("payments.paymentReceived")})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:e("common.notes")}),g.jsx("textarea",{id:"notes",rows:3,...w("notes"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),g.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[g.jsx(Xt,{type:"button",variant:"secondary",onClick:I,children:e("common.cancel")}),g.jsxs(Xt,{type:"submit",children:[e(c?"common.update":"common.create")," ",e("navigation.payments")]})]})]})})]})},iQ=()=>{const{user:t}=Ii(),[e,n]=_.useState([]),[r,i]=_.useState(!0),[a,s]=_.useState(new Date),[o,l]=_.useState(null);_.useEffect(()=>{u()},[t]);const u=async()=>{if(t)try{const v=await Yd(t.uid);n(v)}catch(v){console.error("Error fetching events:",v)}finally{i(!1)}},c=Dj(a),d=Rj(a),h=$K({start:c,end:d}),p=v=>e.filter(E=>Nw(E.date,v)),m=v=>{switch(v){case"planning":return"bg-yellow-500";case"confirmed":return"bg-green-500";case"completed":return"bg-blue-500";case"canceled":return"bg-red-500";default:return"bg-gray-500"}},y=()=>{s($j(a)),l(null)},w=()=>{s(pd(a,1)),l(null)},b=o?p(o):[];return r?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendário"}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Visualize seus eventos por data"})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsx("div",{className:"lg:col-span-2",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white",children:[g.jsx("button",{onClick:y,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:g.jsx(sj,{size:20})}),g.jsx("h2",{className:"text-xl font-bold capitalize",children:Pn(a,"MMMM yyyy",{locale:Lb})}),g.jsx("button",{onClick:w,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:g.jsx(oj,{size:20})})]}),g.jsx("div",{className:"grid grid-cols-7 bg-gray-50",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(v=>g.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-700 border-b",children:v},v))}),g.jsx("div",{className:"grid grid-cols-7",children:h.map((v,E)=>{const A=p(v),k=o&&Nw(v,o),D=VG(v,a),T=$G(v);return g.jsxs("div",{className:`min-h-[100px] p-2 border-b border-r border-gray-200 cursor-pointer transition-colors ${D?k?"bg-purple-50":"hover:bg-gray-50":"bg-gray-50 text-gray-400"}`,onClick:()=>l(v),children:[g.jsx("div",{className:`text-sm font-medium mb-1 ${T?"bg-purple-600 text-white w-6 h-6 rounded-full flex items-center justify-center":""}`,children:Pn(v,"d")}),g.jsxs("div",{className:"space-y-1",children:[A.slice(0,2).map(P=>g.jsx("div",{className:`text-xs p-1 rounded text-white truncate ${m(P.status)}`,title:P.name,children:P.name},P.id)),A.length>2&&g.jsxs("div",{className:"text-xs text-gray-500",children:["+",A.length-2," mais"]})]})]},E)})})]})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?`Eventos - ${Pn(o,"dd/MM/yyyy")}`:"Selecione uma data"}),o?b.length>0?g.jsx("div",{className:"space-y-4",children:b.map(v=>g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-start justify-between mb-3",children:[g.jsx("h4",{className:"font-medium text-gray-900",children:v.name}),g.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full text-white ${m(v.status)}`,children:v.status})]}),g.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(uj,{size:14,className:"mr-2 flex-shrink-0"}),g.jsx("span",{children:v.clientName})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(lj,{size:14,className:"mr-2 flex-shrink-0"}),g.jsx("span",{children:v.location})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(Qq,{size:14,className:"mr-2 flex-shrink-0"}),g.jsx("span",{className:"capitalize",children:v.type})]})]}),g.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:g.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["R$ ",v.contractTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),v.details&&g.jsx("div",{className:"mt-3",children:g.jsx("p",{className:"text-sm text-gray-600",children:v.details})})]},v.id))}):g.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhum evento nesta data"}):g.jsx("p",{className:"text-gray-500 text-center py-8",children:"Clique em uma data para ver os eventos"})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Legenda"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded mr-3"}),g.jsx("span",{className:"text-sm text-gray-700",children:"Planejamento"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-3"}),g.jsx("span",{className:"text-sm text-gray-700",children:"Confirmado"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded mr-3"}),g.jsx("span",{className:"text-sm text-gray-700",children:"Concluído"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-4 h-4 bg-red-500 rounded mr-3"}),g.jsx("span",{className:"text-sm text-gray-700",children:"Cancelado"})]})]})]})]})]})]})};function Kj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Kj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Kj(t))&&(r&&(r+=" "),r+=e);return r}var Rg={},Gj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Gj);var Wb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Wb);var qb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(qb);var Dg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,s="",o="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const u=n[a];o?u==="\\"&&a+1<i?(a++,s+=n[a]):u===o?o="":s+=u:l?u==='"'||u==="'"?o=u:u==="]"?(l=!1,r.push(s),s=""):s+=u:u==="["?(l=!0,s&&(r.push(s),s="")):u==="."?s&&(r.push(s),s=""):s+=u,a++}return s&&r.push(s),r}t.toPath=e})(Dg);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gj,n=Wb,r=qb,i=Dg;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let d=0;d<l.length;d++){if(c==null||e.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}t.get=a})(Rg);var aQ=Rg.get;const bo=ua(aQ);var Yj={exports:{}},He={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb=Symbol.for("react.transitional.element"),Kb=Symbol.for("react.portal"),jg=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),Lg=Symbol.for("react.profiler"),Vg=Symbol.for("react.consumer"),$g=Symbol.for("react.context"),Fg=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),Bg=Symbol.for("react.suspense_list"),zg=Symbol.for("react.memo"),Wg=Symbol.for("react.lazy"),sQ=Symbol.for("react.view_transition"),oQ=Symbol.for("react.client.reference");function Mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hb:switch(t=t.type,t){case jg:case Lg:case Mg:case Ug:case Bg:case sQ:return t;default:switch(t=t&&t.$$typeof,t){case $g:case Fg:case Wg:case zg:return t;case Vg:return t;default:return e}}case Kb:return e}}}He.ContextConsumer=Vg;He.ContextProvider=$g;He.Element=Hb;He.ForwardRef=Fg;He.Fragment=jg;He.Lazy=Wg;He.Memo=zg;He.Portal=Kb;He.Profiler=Lg;He.StrictMode=Mg;He.Suspense=Ug;He.SuspenseList=Bg;He.isContextConsumer=function(t){return Mr(t)===Vg};He.isContextProvider=function(t){return Mr(t)===$g};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hb};He.isForwardRef=function(t){return Mr(t)===Fg};He.isFragment=function(t){return Mr(t)===jg};He.isLazy=function(t){return Mr(t)===Wg};He.isMemo=function(t){return Mr(t)===zg};He.isPortal=function(t){return Mr(t)===Kb};He.isProfiler=function(t){return Mr(t)===Lg};He.isStrictMode=function(t){return Mr(t)===Mg};He.isSuspense=function(t){return Mr(t)===Ug};He.isSuspenseList=function(t){return Mr(t)===Bg};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jg||t===Lg||t===Mg||t===Ug||t===Bg||typeof t=="object"&&t!==null&&(t.$$typeof===Wg||t.$$typeof===zg||t.$$typeof===$g||t.$$typeof===Vg||t.$$typeof===Fg||t.$$typeof===oQ||t.getModuleId!==void 0)};He.typeOf=Mr;Yj.exports=He;var lQ=Yj.exports,Jt=t=>t===0?0:t>0?1:-1,pr=t=>typeof t=="number"&&t!=+t,Ys=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,pe=t=>(typeof t=="number"||t instanceof Number)&&!pr(t),Pi=t=>pe(t)||typeof t=="string",uQ=0,gd=t=>{var e=++uQ;return"".concat(t||"").concat(e)},Tn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&typeof e!="string")return r;var a;if(Ys(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return pr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Qj=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function yt(t,e,n){return pe(t)&&pe(e)?t+n*(e-t):e}function Xj(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):bo(r,e))===n)}var st=t=>t===null||typeof t>"u",Jd=t=>st(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),cQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Gb(t){if(typeof t!="string")return!1;var e=cQ;return e.includes(t)}var dQ=["viewBox","children"],eC=["points","pathLength"],jv={svg:dQ,polygon:eC,polyline:eC},Yb=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Gb(i)&&(r[i]=a=>n[i](n,a))}),r},fQ=(t,e,n)=>r=>(t(e,n,r),null),qg=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];Gb(i)&&typeof a=="function"&&(r||(r={}),r[i]=fQ(a,e,n))}),r},hQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Jj(t){if(typeof t!="string")return!1;var e=hQ;return e.includes(t)}function ki(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Jj(r)});return Object.fromEntries(e)}var tC=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",nC=null,Mv=null,Zj=t=>{if(t===nC&&Array.isArray(Mv))return Mv;var e=[];return _.Children.forEach(t,n=>{st(n)||(lQ.isFragment(n)?e=e.concat(Zj(n.props.children)):e.push(n))}),Mv=e,nC=t,e};function Qb(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>tC(i)):r=[tC(e)],Zj(t).forEach(i=>{var a=bo(i,"type.displayName")||bo(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var eM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,pQ=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&(jv==null?void 0:jv[r]))!==null&&i!==void 0?i:[],s=e.startsWith("data-"),o=typeof t!="function"&&(!!r&&a.includes(e)||Jj(e)),l=!!n&&Gb(e);return s||o||l},pt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var s;pQ((s=r)===null||s===void 0?void 0:s[a],a,e,n)&&(i[a]=r[a])}),i},mQ=["children","width","height","viewBox","className","style","title","desc"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(null,arguments)}function gQ(t,e){if(t==null)return{};var n,r,i=yQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tM=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=t,c=gQ(t,mQ),d=a||{width:r,height:i,x:0,y:0},h=$e("recharts-surface",s);return _.createElement("svg",jw({},pt(c,!0,"svg"),{className:h,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),_.createElement("title",null,l),_.createElement("desc",null,u),n)}),vQ=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(null,arguments)}function wQ(t,e){if(t==null)return{};var n,r,i=xQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fn=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=wQ(t,vQ),a=$e("recharts-layer",r);return _.createElement("g",Mw({className:a},pt(i,!0),{ref:e}),n)}),_Q=_.createContext(null);function Ke(t){return function(){return t}}const nM=Math.cos,Yp=Math.sin,ti=Math.sqrt,Qp=Math.PI,Hg=2*Qp,Lw=Math.PI,Vw=2*Lw,Fs=1e-6,bQ=Vw-Fs;function rM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function EQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class SQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rM:EQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,c=s-e,d=o-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Fs)if(!(Math.abs(d*l-u*c)>Fs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-o,y=l*l+u*u,w=p*p+m*m,b=Math.sqrt(y),v=Math.sqrt(h),E=a*Math.tan((Lw-Math.acos((y+h-w)/(2*b*v)))/2),A=E/v,k=E/b;Math.abs(A-1)>Fs&&this._append`L${e+A*c},${n+A*d}`,this._append`A${a},${a},0,0,${+(d*p>c*m)},${this._x1=e+k*l},${this._y1=n+k*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Fs||Math.abs(this._y1-c)>Fs)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Vw+Vw),h>bQ?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Fs&&this._append`A${r},${r},0,${+(h>=Lw)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Xb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new SQ(e)}function Jb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iM(t){this._context=t}iM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kg(t){return new iM(t)}function aM(t){return t[0]}function sM(t){return t[1]}function oM(t,e){var n=Ke(!0),r=null,i=Kg,a=null,s=Xb(o);t=typeof t=="function"?t:t===void 0?aM:Ke(t),e=typeof e=="function"?e:e===void 0?sM:Ke(e);function o(l){var u,c=(l=Jb(l)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,u,l),+e(d,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ke(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ke(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ke(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function lh(t,e,n){var r=null,i=Ke(!0),a=null,s=Kg,o=null,l=Xb(u);t=typeof t=="function"?t:t===void 0?aM:Ke(+t),e=typeof e=="function"?e:Ke(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?sM:Ke(+n);function u(d){var h,p,m,y=(d=Jb(d)).length,w,b=!1,v,E=new Array(y),A=new Array(y);for(a==null&&(o=s(v=l())),h=0;h<=y;++h){if(!(h<y&&i(w=d[h],h,d))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(E[m],A[m]);o.lineEnd(),o.areaEnd()}b&&(E[h]=+t(w,h,d),A[h]=+e(w,h,d),o.point(r?+r(w,h,d):E[h],n?+n(w,h,d):A[h]))}if(v)return o=null,v+""||null}function c(){return oM().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ke(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ke(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ke(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ke(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ke(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ke(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ke(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class lM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function PQ(t){return new lM(t,!0)}function TQ(t){return new lM(t,!1)}const Zb={draw(t,e){const n=ti(e/Qp);t.moveTo(n,0),t.arc(0,0,n,0,Hg)}},AQ={draw(t,e){const n=ti(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uM=ti(1/3),CQ=uM*2,IQ={draw(t,e){const n=ti(e/CQ),r=n*uM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},kQ={draw(t,e){const n=ti(e),r=-n/2;t.rect(r,r,n,n)}},OQ=.8908130915292852,cM=Yp(Qp/10)/Yp(7*Qp/10),NQ=Yp(Hg/10)*cM,RQ=-nM(Hg/10)*cM,DQ={draw(t,e){const n=ti(e*OQ),r=NQ*n,i=RQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Hg*a/5,o=nM(s),l=Yp(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Lv=ti(3),jQ={draw(t,e){const n=-ti(e/(Lv*3));t.moveTo(0,n*2),t.lineTo(-Lv*n,-n),t.lineTo(Lv*n,-n),t.closePath()}},xr=-.5,_r=ti(3)/2,$w=1/ti(12),MQ=($w/2+1)*3,LQ={draw(t,e){const n=ti(e/MQ),r=n/2,i=n*$w,a=r,s=n*$w+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(xr*r-_r*i,_r*r+xr*i),t.lineTo(xr*a-_r*s,_r*a+xr*s),t.lineTo(xr*o-_r*l,_r*o+xr*l),t.lineTo(xr*r+_r*i,xr*i-_r*r),t.lineTo(xr*a+_r*s,xr*s-_r*a),t.lineTo(xr*o+_r*l,xr*l-_r*o),t.closePath()}};function VQ(t,e){let n=null,r=Xb(i);t=typeof t=="function"?t:Ke(t||Zb),e=typeof e=="function"?e:Ke(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ke(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ke(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Xp(){}function Jp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dM(t){this._context=t}dM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Q(t){return new dM(t)}function fM(t){this._context=t}fM.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FQ(t){return new fM(t)}function hM(t){this._context=t}hM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UQ(t){return new hM(t)}function pM(t){this._context=t}pM.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function BQ(t){return new pM(t)}function rC(t){return t<0?-1:1}function iC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(rC(a)+rC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function aC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Zp(t){this._context=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vv(this,this._t0,aC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vv(this,aC(this,n=iC(this,t,e)),n);break;default:Vv(this,this._t0,n=iC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mM(t){this._context=new gM(t)}(mM.prototype=Object.create(Zp.prototype)).point=function(t,e){Zp.prototype.point.call(this,e,t)};function gM(t){this._context=t}gM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function zQ(t){return new Zp(t)}function WQ(t){return new mM(t)}function yM(t){this._context=t}yM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=sC(t),i=sC(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sC(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function qQ(t){return new yM(t)}function Gg(t,e){this._context=t,this._t=e}Gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function HQ(t){return new Gg(t,.5)}function KQ(t){return new Gg(t,0)}function GQ(t){return new Gg(t,1)}function Gl(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Fw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function YQ(t,e){return t[e]}function QQ(t){const e=[];return e.key=t,e}function XQ(){var t=Ke([]),e=Fw,n=Gl,r=YQ;function i(a){var s=Array.from(t.apply(this,arguments),QQ),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(d,s[o].key,u,a)]).data=d;for(o=0,c=Jb(e(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ke(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ke(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Fw:typeof a=="function"?a:Ke(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Gl,i):n},i}function JQ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Gl(t,e)}}function ZQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Gl(t,e)}}function eX(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=t[e[o]],d=c[r][1]||0,h=c[r-1][1]||0,p=(d-h)/2,m=0;m<o;++m){var y=t[e[m]],w=y[r][1]||0,b=y[r-1][1]||0;p+=w-b}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Gl(t,e)}}var tX=["type","size","sizeType"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(null,arguments)}function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t,e){if(t==null)return{};var n,r,i=sX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vM={symbolCircle:Zb,symbolCross:AQ,symbolDiamond:IQ,symbolSquare:kQ,symbolStar:DQ,symbolTriangle:jQ,symbolWye:LQ},oX=Math.PI/180,lX=t=>{var e="symbol".concat(Jd(t));return vM[e]||Zb},uX=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*oX;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},cX=(t,e)=>{vM["symbol".concat(Jd(t))]=e},wM=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=aX(t,tX),a=lC(lC({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var h=lX(s),p=VQ().type(h).size(uX(n,r,s));return p()},{className:l,cx:u,cy:c}=a,d=pt(a,!0);return u===+u&&c===+c&&n===+n?_.createElement("path",Uw({},d,{className:$e("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};wM.registerSymbol=cX;var xM={},_M={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(_M);var e1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(e1);var bM={},Yg={},EM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(EM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EM;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Yg);var SM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(SM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yg,n=SM;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(bM);var PM={},TM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rg;function n(r){return function(i){return e.get(i,r)}}t.property=n})(TM);var AM={},$v={},Fv={},t1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(t1);var n1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(n1);var r1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(r1);var uC;function dX(){return uC||(uC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i1(),n=t1,r=n1,i=r1;function a(d,h,p){return typeof p!="function"?e.isMatch(d,h):s(d,h,function m(y,w,b,v,E,A){const k=p(y,w,b,v,E,A);return k!==void 0?!!k:s(y,w,m,A)},new Map)}function s(d,h,p,m){if(h===d)return!0;switch(typeof h){case"object":return o(d,h,p,m);case"function":return Object.keys(h).length>0?s(d,{...h},p,m):i.eq(d,h);default:return n.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function o(d,h,p,m){if(h==null)return!0;if(Array.isArray(h))return u(d,h,p,m);if(h instanceof Map)return l(d,h,p,m);if(h instanceof Set)return c(d,h,p,m);const y=Object.keys(h);if(d==null)return y.length===0;if(y.length===0)return!0;if(m&&m.has(h))return m.get(h)===d;m&&m.set(h,d);try{for(let w=0;w<y.length;w++){const b=y[w];if(!r.isPrimitive(d)&&!(b in d)||h[b]===void 0&&d[b]!==void 0||h[b]===null&&d[b]!==null||!p(d[b],h[b],b,d,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(d,h,p,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,w]of h.entries()){const b=d.get(y);if(p(b,w,y,d,h,m)===!1)return!1}return!0}function u(d,h,p,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let w=0;w<h.length;w++){const b=h[w];let v=!1;for(let E=0;E<d.length;E++){if(y.has(E))continue;const A=d[E];let k=!1;if(p(A,b,w,d,h,m)&&(k=!0),k){y.add(E),v=!0;break}}if(!v)return!1}return!0}function c(d,h,p,m){return h.size===0?!0:d instanceof Set?u([...d],[...h],p,m):!1}t.isMatchWith=a,t.isSetMatch=c}(Fv)),Fv}var cC;function i1(){return cC||(cC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dX();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}($v)),$v}var CM={},a1={},IM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(IM);var s1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(s1);var o1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",y="[object DataView]",w="[object Uint8Array]",b="[object Uint8ClampedArray]",v="[object Uint16Array]",E="[object Uint32Array]",A="[object BigUint64Array]",k="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",P="[object BigInt64Array]",C="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=h,t.arrayTag=c,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=A,t.booleanTag=i,t.dataViewTag=y,t.dateTag=o,t.errorTag=m,t.float32ArrayTag=C,t.float64ArrayTag=I,t.functionTag=d,t.int16ArrayTag=D,t.int32ArrayTag=T,t.int8ArrayTag=k,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=v,t.uint32ArrayTag=E,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=b})(o1);var kM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(kM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IM,n=s1,r=o1,i=n1,a=kM;function s(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,h,p=new Map,m=void 0){const y=m==null?void 0:m(c,d,h,p);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const w=new Array(c.length);p.set(c,w);for(let b=0;b<c.length;b++)w[b]=o(c[b],b,h,p,m);return Object.hasOwn(c,"index")&&(w.index=c.index),Object.hasOwn(c,"input")&&(w.input=c.input),w}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const w=new RegExp(c.source,c.flags);return w.lastIndex=c.lastIndex,w}if(c instanceof Map){const w=new Map;p.set(c,w);for(const[b,v]of c)w.set(b,o(v,b,h,p,m));return w}if(c instanceof Set){const w=new Set;p.set(c,w);for(const b of c)w.add(o(b,void 0,h,p,m));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const w=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,w);for(let b=0;b<c.length;b++)w[b]=o(c[b],b,h,p,m);return w}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const w=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,w),l(w,c,h,p,m),w}if(typeof File<"u"&&c instanceof File){const w=new File([c],c.name,{type:c.type});return p.set(c,w),l(w,c,h,p,m),w}if(c instanceof Blob){const w=new Blob([c],{type:c.type});return p.set(c,w),l(w,c,h,p,m),w}if(c instanceof Error){const w=new c.constructor;return p.set(c,w),w.message=c.message,w.name=c.name,w.stack=c.stack,w.cause=c.cause,l(w,c,h,p,m),w}if(typeof c=="object"&&u(c)){const w=Object.create(Object.getPrototypeOf(c));return p.set(c,w),l(w,c,h,p,m),w}return c}function l(c,d,h=c,p,m){const y=[...Object.keys(d),...e.getSymbols(d)];for(let w=0;w<y.length;w++){const b=y[w],v=Object.getOwnPropertyDescriptor(c,b);(v==null||v.writable)&&(c[b]=o(d[b],b,h,p,m))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(a1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a1;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(CM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i1(),n=CM;function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(AM);var OM={},NM={},RM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a1,n=o1;function r(i,a){return e.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case n.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=r})(RM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RM;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(NM);var DM={},l1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(l1);var jM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s1;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(jM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wb,n=l1,r=jM,i=Dg;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}t.has=a})(DM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i1(),n=qb,r=NM,i=Rg,a=DM;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=s})(OM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e1,n=TM,r=AM,i=OM;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(PM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_M,n=e1,r=bM,i=PM;function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(xM);var fX=xM.uniqBy;const dC=ua(fX);function hX(t,e,n){return e===!0?dC(t,n):typeof e=="function"?dC(t,e):t}var MM={exports:{}},LM={},VM={exports:{}},$M={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=_;function pX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mX=typeof Object.is=="function"?Object.is:pX,gX=Yl.useState,yX=Yl.useEffect,vX=Yl.useLayoutEffect,wX=Yl.useDebugValue;function xX(t,e){var n=e(),r=gX({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return vX(function(){i.value=n,i.getSnapshot=e,Uv(i)&&a({inst:i})},[t,n,e]),yX(function(){return Uv(i)&&a({inst:i}),t(function(){Uv(i)&&a({inst:i})})},[t]),wX(n),n}function Uv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mX(t,n)}catch{return!0}}function _X(t,e){return e()}var bX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_X:xX;$M.useSyncExternalStore=Yl.useSyncExternalStore!==void 0?Yl.useSyncExternalStore:bX;VM.exports=$M;var EX=VM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=_,SX=EX;function PX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var TX=typeof Object.is=="function"?Object.is:PX,AX=SX.useSyncExternalStore,CX=Qg.useRef,IX=Qg.useEffect,kX=Qg.useMemo,OX=Qg.useDebugValue;LM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=CX(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=kX(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return d=m}return d=p}if(m=d,TX(c,p))return m;var y=r(p);return i!==void 0&&i(m,y)?(c=p,m):(c=p,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var o=AX(t,a[0],a[1]);return IX(function(){s.hasValue=!0,s.value=o},[o]),OX(o),o};MM.exports=LM;var NX=MM.exports,u1=_.createContext(null),RX=t=>t,St=()=>{var t=_.useContext(u1);return t?t.store.dispatch:RX},Jh=()=>{},DX=()=>Jh,jX=(t,e)=>t===e;function he(t){var e=_.useContext(u1);return NX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:DX,e?e.store.getState:Jh,e?e.store.getState:Jh,e?t:Jh,jX)}function MX(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function LX(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function VX(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var fC=t=>Array.isArray(t)?t:[t];function $X(t){const e=Array.isArray(t[0])?t[0]:t;return VX(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function FX(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var UX=class{constructor(t){this.value=t}deref(){return this.value}},BX=typeof WeakRef<"u"?WeakRef:UX,zX=0,hC=1;function uh(){return{s:zX,v:void 0,o:null,p:null}}function FM(t,e={}){let n=uh();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var d;let o=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const w=y.get(m);w===void 0?(o=uh(),y.set(m,o)):o=w}else{let y=o.p;y===null&&(o.p=y=new Map);const w=y.get(m);w===void 0?(o=uh(),y.set(m,o)):o=w}}const u=o;let c;if(o.s===hC)c=o.v;else if(c=t.apply(null,arguments),a++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new BX(c):c}return u.s=hC,u.v=c,c}return s.clearCache=()=>{n=uh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function WX(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),MX(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=FM,argsMemoizeOptions:m=[]}=c,y=fC(h),w=fC(m),b=$X(i),v=d(function(){return a++,u.apply(null,arguments)},...y),E=p(function(){s++;const k=FX(b,arguments);return o=v.apply(null,k),o},...w);return Object.assign(E,{resultFunc:u,memoizedResultFunc:v,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var F=WX(FM),qX=Object.assign((t,e=F)=>{LX(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>qX}),UM={},BM={},zM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(zM);var WM={},c1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(c1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(WM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zM,n=WM,r=Dg;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,m)=>{let y=p;for(let w=0;w<m.length&&y!=null;++w)y=y[m[w]];return y},c=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,d=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:d.map(m=>c(m,p))})).slice().sort((p,m)=>{for(let y=0;y<d.length;y++){const w=e.compareValues(p.criteria[y],m.criteria[y],o[y]);if(w!==0)return w}return 0}).map(p=>p.original)}t.orderBy=i})(BM);var qM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(n,0),i}t.flatten=e})(qM);var d1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l1,n=Yg,r=t1,i=r1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}t.isIterateeCall=a})(d1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BM,n=qM,r=d1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(UM);var HX=UM.sortBy;const Xg=ua(HX);var HM=t=>t.legend.settings,KX=t=>t.legend.size,GX=t=>t.legend.payload;F([GX,HM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Xg(r,n):r});var ch=1;function YX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>ch||Math.abs(s.left-e.left)>ch||Math.abs(s.top-e.top)>ch||Math.abs(s.width-e.width)>ch)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function rn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QX=typeof Symbol=="function"&&Symbol.observable||"@@observable",pC=QX,Bv=()=>Math.random().toString(36).substring(7).split("").join("."),XX={INIT:`@@redux/INIT${Bv()}`,REPLACE:`@@redux/REPLACE${Bv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bv()}`},em=XX;function f1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function KM(t,e,n){if(typeof t!="function")throw new Error(rn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rn(1));return n(KM)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((w,b)=>{s.set(b,w)}))}function c(){if(l)throw new Error(rn(3));return i}function d(w){if(typeof w!="function")throw new Error(rn(4));if(l)throw new Error(rn(5));let b=!0;u();const v=o++;return s.set(v,w),function(){if(b){if(l)throw new Error(rn(6));b=!1,u(),s.delete(v),a=null}}}function h(w){if(!f1(w))throw new Error(rn(7));if(typeof w.type>"u")throw new Error(rn(8));if(typeof w.type!="string")throw new Error(rn(17));if(l)throw new Error(rn(9));try{l=!0,i=r(i,w)}finally{l=!1}return(a=s).forEach(v=>{v()}),w}function p(w){if(typeof w!="function")throw new Error(rn(10));r=w,h({type:em.REPLACE})}function m(){const w=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(rn(11));function v(){const A=b;A.next&&A.next(c())}return v(),{unsubscribe:w(v)}},[pC](){return this}}}return h({type:em.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[pC]:m}}function JX(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:em.INIT})>"u")throw new Error(rn(12));if(typeof n(void 0,{type:em.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rn(13))})}function GM(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{JX(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=s[d],m=h(p,o);if(typeof m>"u")throw o&&o.type,new Error(rn(14));u[d]=m,l=l||m!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function tm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function ZX(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(rn(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=t.map(l=>l(s));return a=tm(...o)(i.dispatch),{...i,dispatch:a}}}function YM(t){return f1(t)&&"type"in t&&typeof t.type=="string"}var QM=Symbol.for("immer-nothing"),mC=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Hr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ql=Object.getPrototypeOf;function Eo(t){return!!t&&!!t[mr]}function aa(t){var e;return t?XM(t)||Array.isArray(t)||!!t[mC]||!!((e=t.constructor)!=null&&e[mC])||Zd(t)||Zg(t):!1}var eJ=Object.prototype.constructor.toString();function XM(t){if(!t||typeof t!="object")return!1;const e=Ql(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===eJ}function nm(t,e){Jg(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Jg(t){const e=t[mr];return e?e.type_:Array.isArray(t)?1:Zd(t)?2:Zg(t)?3:0}function Bw(t,e){return Jg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JM(t,e,n){const r=Jg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function tJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Zd(t){return t instanceof Map}function Zg(t){return t instanceof Set}function Us(t){return t.copy_||t.base_}function zw(t,e){if(Zd(t))return new Map(t);if(Zg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=XM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Ql(t),r)}else{const r=Ql(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function h1(t,e=!1){return ey(t)||Eo(t)||!aa(t)||(Jg(t)>1&&Object.defineProperties(t,{set:{value:dh},add:{value:dh},clear:{value:dh},delete:{value:dh}}),Object.freeze(t),e&&Object.values(t).forEach(n=>h1(n,!0))),t}function dh(){Hr(2)}function ey(t){return Object.isFrozen(t)}var nJ={};function So(t){const e=nJ[t];return e||Hr(0,t),e}var yd;function ZM(){return yd}function rJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gC(t,e){e&&(So("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ww(t){qw(t),t.drafts_.forEach(iJ),t.drafts_=null}function qw(t){t===yd&&(yd=t.parent_)}function yC(t){return yd=rJ(yd,t)}function iJ(t){const e=t[mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mr].modified_&&(Ww(e),Hr(4)),aa(t)&&(t=rm(e,t),e.parent_||im(e,t)),e.patches_&&So("Patches").generateReplacementPatches_(n[mr].base_,t,e.patches_,e.inversePatches_)):t=rm(e,n,[]),Ww(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==QM?t:void 0}function rm(t,e,n){if(ey(e))return e;const r=e[mr];if(!r)return nm(e,(i,a)=>wC(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return im(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),nm(a,(o,l)=>wC(t,r,i,o,l,n,s)),im(t,i,!1),n&&t.patches_&&So("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function wC(t,e,n,r,i,a,s){if(Eo(i)){const o=a&&e&&e.type_!==3&&!Bw(e.assigned_,r)?a.concat(r):void 0,l=rm(t,i,o);if(JM(n,r,l),Eo(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(aa(i)&&!ey(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;rm(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Zd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&im(t,i)}}function im(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&h1(e,n)}function aJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:ZM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=p1;n&&(i=[r],a=vd);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var p1={get(t,e){if(e===mr)return t;const n=Us(t);if(!Bw(n,e))return sJ(t,n,e);const r=n[e];return t.finalized_||!aa(r)?r:r===zv(t.base_,e)?(Wv(t),t.copy_[e]=Kw(r,t)):r},has(t,e){return e in Us(t)},ownKeys(t){return Reflect.ownKeys(Us(t))},set(t,e,n){const r=eL(Us(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=zv(Us(t),e),a=i==null?void 0:i[mr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(tJ(n,i)&&(n!==void 0||Bw(t.base_,e)))return!0;Wv(t),Hw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return zv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Wv(t),Hw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Us(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Hr(11)},getPrototypeOf(t){return Ql(t.base_)},setPrototypeOf(){Hr(12)}},vd={};nm(p1,(t,e)=>{vd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vd.deleteProperty=function(t,e){return vd.set.call(this,t,e,void 0)};vd.set=function(t,e,n){return p1.set.call(this,t[0],e,n,t[0])};function zv(t,e){const n=t[mr];return(n?Us(n):t)[e]}function sJ(t,e,n){var i;const r=eL(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function eL(t,e){if(!(e in t))return;let n=Ql(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ql(n)}}function Hw(t){t.modified_||(t.modified_=!0,t.parent_&&Hw(t.parent_))}function Wv(t){t.copy_||(t.copy_=zw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var oJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Hr(6),r!==void 0&&typeof r!="function"&&Hr(7);let i;if(aa(e)){const a=yC(this),s=Kw(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Ww(a):qw(a)}return gC(a,r),vC(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===QM&&(i=void 0),this.autoFreeze_&&h1(i,!0),r){const a=[],s=[];So("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Hr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){aa(t)||Hr(8),Eo(t)&&(t=Ki(t));const e=yC(this),n=Kw(t,void 0);return n[mr].isManual_=!0,qw(e),n}finishDraft(t,e){const n=t&&t[mr];(!n||!n.isManual_)&&Hr(9);const{scope_:r}=n;return gC(r,e),vC(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=So("Patches").applyPatches_;return Eo(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Kw(t,e){const n=Zd(t)?So("MapSet").proxyMap_(t,e):Zg(t)?So("MapSet").proxySet_(t,e):aJ(t,e);return(e?e.scope_:ZM()).drafts_.push(n),n}function Ki(t){return Eo(t)||Hr(10,t),tL(t)}function tL(t){if(!aa(t)||ey(t))return t;const e=t[mr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=zw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=zw(t,!0);return nm(n,(r,i)=>{JM(n,r,tL(i))}),e&&(e.finalized_=!1),n}var lJ=new oJ,nL=lJ.produce;function rL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var uJ=rL(),cJ=rL,dJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tm:tm.apply(null,arguments)};function Dr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(fr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>YM(r)&&r.type===t,n}var iL=class gc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gc.prototype)}static get[Symbol.species](){return gc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gc(...e[0].concat(this)):new gc(...e.concat(this))}};function xC(t){return aa(t)?nL(t,()=>{}):t}function fh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function fJ(t){return typeof t=="boolean"}var hJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new iL;return n&&(fJ(n)?s.push(uJ):s.push(cJ(n.extraArgument))),s},pJ="RTK_autoBatch",_C=t=>e=>{setTimeout(e,t)},mJ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_C(10):t.type==="callback"?t.queueNotification:_C(t.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[pJ]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},gJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new iL(t);return r&&i.push(mJ(typeof r=="object"?r:void 0)),i};function yJ(t){const e=hJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(f1(n))o=GM(n);else throw new Error(fr(1));let l;typeof r=="function"?l=r(e):l=e();let u=tm;i&&(u=dJ({trace:!1,...typeof i=="object"&&i}));const c=ZX(...l),d=gJ(c);let h=typeof s=="function"?s(d):d();const p=u(...h);return KM(o,a,p)}function aL(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(fr(28));if(o in e)throw new Error(fr(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function vJ(t){return typeof t=="function"}function wJ(t,e){let[n,r,i]=aL(e),a;if(vJ(t))a=()=>xC(t());else{const o=xC(t);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Eo(c)){const p=d(c,l);return p===void 0?c:p}else{if(aa(c))return nL(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return s.getInitialState=a,s}var xJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_J=(t=21)=>{let e="",n=t;for(;n--;)e+=xJ[Math.random()*64|0];return e},bJ=Symbol.for("rtk-slice-createasyncthunk");function EJ(t,e){return`${t}/${e}`}function SJ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[bJ];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(fr(11));const o=(typeof i.reducers=="function"?i.reducers(TJ()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(A,k){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(fr(12));if(D in u.sliceCaseReducersByType)throw new Error(fr(13));return u.sliceCaseReducersByType[D]=k,c},addMatcher(A,k){return u.sliceMatchers.push({matcher:A,reducer:k}),c},exposeAction(A,k){return u.actionCreators[A]=k,c},exposeCaseReducer(A,k){return u.sliceCaseReducersByName[A]=k,c}};l.forEach(A=>{const k=o[A],D={reducerName:A,type:EJ(a,A),createNotation:typeof i.reducers=="function"};CJ(k)?kJ(D,k,c,e):AJ(D,k,c)});function d(){const[A={},k=[],D=void 0]=typeof i.extraReducers=="function"?aL(i.extraReducers):[i.extraReducers],T={...A,...u.sliceCaseReducersByType};return wJ(i.initialState,P=>{for(let C in T)P.addCase(C,T[C]);for(let C of u.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of k)P.addMatcher(C.matcher,C.reducer);D&&P.addDefaultCase(D)})}const h=A=>A,p=new Map,m=new WeakMap;let y;function w(A,k){return y||(y=d()),y(A,k)}function b(){return y||(y=d()),y.getInitialState()}function v(A,k=!1){function D(P){let C=P[A];return typeof C>"u"&&k&&(C=fh(m,D,b)),C}function T(P=h){const C=fh(p,k,()=>new WeakMap);return fh(C,P,()=>{const I={};for(const[N,j]of Object.entries(i.selectors??{}))I[N]=PJ(j,P,()=>fh(m,P,b),k);return I})}return{reducerPath:A,getSelectors:T,get selectors(){return T(D)},selectSlice:D}}const E={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...v(s),injectInto(A,{reducerPath:k,...D}={}){const T=k??s;return A.inject({reducerPath:T,reducer:w},D),{...E,...v(T,!0)}}};return E}}function PJ(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var wr=SJ();function TJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function AJ({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!IJ(r))throw new Error(fr(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Dr(t,s):Dr(t))}function CJ(t){return t._reducerDefinitionType==="asyncThunk"}function IJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function kJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(fr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=n,d=i(t,a,c);r.exposeAction(e,d),s&&r.addCase(d.fulfilled,s),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:s||hh,pending:o||hh,rejected:l||hh,settled:u||hh})}function hh(){}var OJ="task",sL="listener",oL="completed",m1="cancelled",NJ=`task-${m1}`,RJ=`task-${oL}`,Gw=`${sL}-${m1}`,DJ=`${sL}-${oL}`,ty=class{constructor(t){By(this,"name","TaskAbortError");By(this,"message");this.code=t,this.message=`${OJ} ${m1} (reason: ${t})`}},g1=(t,e)=>{if(typeof t!="function")throw new TypeError(fr(32))},am=()=>{},lL=(t,e=am)=>(t.catch(e),t),uL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),io=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ao=t=>{if(t.aborted){const{reason:e}=t;throw new ty(e)}};function cL(t,e){let n=am;return new Promise((r,i)=>{const a=()=>i(new ty(t.reason));if(t.aborted){a();return}n=uL(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=am})}var jJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof ty?"cancelled":"rejected",error:n}}finally{e==null||e()}},sm=t=>e=>lL(cL(t,e).then(n=>(ao(t),n))),dL=t=>{const e=sm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ol}=Object,bC={},ny="listenerMiddleware",MJ=(t,e)=>{const n=r=>uL(t,()=>io(r,t.reason));return(r,i)=>{g1(r);const a=new AbortController;n(a);const s=jJ(async()=>{ao(t),ao(a.signal);const o=await r({pause:sm(a.signal),delay:dL(a.signal),signal:a.signal});return ao(a.signal),o},()=>io(a,RJ));return i!=null&&i.autoJoin&&e.push(s.catch(am)),{result:sm(t)(s),cancel(){io(a,NJ)}}}},LJ=(t,e)=>{const n=async(r,i)=>{ao(e);let a=()=>{};const o=[new Promise((l,u)=>{let c=t({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await cL(e,Promise.race(o));return ao(e),l}finally{a()}};return(r,i)=>lL(n(r,i))},fL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Dr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fr(21));return g1(a),{predicate:i,type:e,effect:a}},hL=Ol(t=>{const{type:e,predicate:n,effect:r}=fL(t);return{id:_J(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>hL}),EC=(t,e)=>{const{type:n,effect:r,predicate:i}=fL(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Yw=t=>{t.pending.forEach(e=>{io(e,Gw)})},VJ=t=>()=>{t.forEach(Yw),t.clear()},SC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},pL=Ol(Dr(`${ny}/add`),{withTypes:()=>pL}),$J=Dr(`${ny}/removeAll`),mL=Ol(Dr(`${ny}/remove`),{withTypes:()=>mL}),FJ=(...t)=>{console.error(`${ny}/error`,...t)},ef=(t={})=>{const e=new Map,{extra:n,onError:r=FJ}=t;g1(r);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),d=>{c.unsubscribe(),d!=null&&d.cancelActive&&Yw(c)}),a=c=>{const d=EC(e,c)??hL(c);return i(d)};Ol(a,{withTypes:()=>a});const s=c=>{const d=EC(e,c);return d&&(d.unsubscribe(),c.cancelActive&&Yw(d)),!!d};Ol(s,{withTypes:()=>s});const o=async(c,d,h,p)=>{const m=new AbortController,y=LJ(a,m.signal),w=[];try{c.pending.add(m),await Promise.resolve(c.effect(d,Ol({},h,{getOriginalState:p,condition:(b,v)=>y(b,v).then(Boolean),take:y,delay:dL(m.signal),pause:sm(m.signal),extra:n,signal:m.signal,fork:MJ(m.signal,w),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((b,v,E)=>{b!==m&&(io(b,Gw),E.delete(b))})},cancel:()=>{io(m,Gw),c.pending.delete(m)},throwIfCancelled:()=>{ao(m.signal)}})))}catch(b){b instanceof ty||SC(r,b,{raisedBy:"effect"})}finally{await Promise.all(w),io(m,DJ),c.pending.delete(m)}},l=VJ(e);return{middleware:c=>d=>h=>{if(!YM(h))return d(h);if(pL.match(h))return a(h.payload);if($J.match(h)){l();return}if(mL.match(h))return s(h.payload);let p=c.getState();const m=()=>{if(p===bC)throw new Error(fr(23));return p};let y;try{if(y=d(h),e.size>0){const w=c.getState(),b=Array.from(e.values());for(const v of b){let E=!1;try{E=v.predicate(h,w,p)}catch(A){E=!1,SC(r,A,{raisedBy:"predicate"})}E&&o(v,h,c,m)}}}finally{p=bC}return y},startListening:a,stopListening:s,clearListeners:l}};function fr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var UJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gL=wr({name:"chartLayout",initialState:UJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:BJ,setLayout:zJ,setChartSize:WJ,setScale:qJ}=gL.actions,HJ=gL.reducer;function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){KJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KJ(t,e,n){return(e=GJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t){var e=YJ(t,"string");return typeof e=="symbol"?e:e+""}function YJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var om=Math.PI/180,QJ=t=>t*180/Math.PI,jt=(t,e,n,r)=>({x:t+Math.cos(-om*r)*n,y:e+Math.sin(-om*r)*n}),yL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},XJ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},JJ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=XJ({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:QJ(l),angleInRadian:l}},ZJ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},eZ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},tZ=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=JJ({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=ZJ(e),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?TC(TC({},e),{},{radius:i,angle:eZ(c,e)}):null};function vL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){nZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e,n){return(e=rZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function iZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qe(t,e,n){return st(t)||st(e)?n:Pi(e)?bo(t,e,n):typeof e=="function"?e(t):n}var aZ=(t,e,n,r,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?n[l-1].coordinate:n[o-1].coordinate,c=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Jt(c-u)!==Jt(d-c)){var p=[];if(Jt(d-c)===Jt(i[1]-i[0])){h=d;var m=c+i[1]-i[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{h=u;var y=d+i[1]-i[0];p[0]=Math.min(c,(y+c)/2),p[1]=Math.max(c,(y+c)/2)}var w=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(t>w[0]&&t<=w[1]||t>=p[0]&&t<=p[1]){({index:s}=n[l]);break}}else{var b=Math.min(u,d),v=Math.max(u,d);if(t>(b+c)/2&&t<=(v+c)/2){({index:s}=n[l]);break}}}else if(e){for(var E=0;E<o;E++)if(E===0&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E>0&&E<o-1&&t>(e[E].coordinate+e[E-1].coordinate)/2&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E===o-1&&t>(e[E].coordinate+e[E-1].coordinate)/2){({index:s}=e[E]);break}}return s},sZ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&pe(t[a]))return Pr(Pr({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&pe(t[s]))return Pr(Pr({},t),{},{[s]:t[s]+(i||0)})}return t},Ss=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",wL=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},xL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:p}=t;if(!s)return null;var m=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=i==="category"&&s.bandwidth?s.bandwidth()/m:0;if(y=p==="angleAxis"&&a&&a.length>=2?Jt(a[0]-a[1])*2*y:y,d||h){var w=(d||h||[]).map((b,v)=>{var E=r?r.indexOf(b):b;return{coordinate:s(E)+y,value:b,offset:y,index:v}});return w.filter(b=>!pr(b.coordinate))}return l&&u?u.map((b,v)=>({coordinate:s(b)+y,value:b,index:v,offset:y})):s.ticks&&c!=null?s.ticks(c).map((b,v)=>({coordinate:s(b)+y,value:b,offset:y,index:v})):s.domain().map((b,v)=>({coordinate:s(b)+y,value:r?r[b]:b,index:v,offset:y}))},CC=1e-4,oZ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-CC,a=Math.max(r[0],r[1])+CC,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},lZ=(t,e)=>{if(!e||e.length!==2||!pe(e[0])||!pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(i[0]=n),(!pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},uZ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=pr(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},cZ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=pr(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},dZ={sign:uZ,expand:JQ,none:Gl,silhouette:ZQ,wiggle:eX,positive:cZ},fZ=(t,e,n)=>{var r=dZ[n],i=XQ().keys(e).value((a,s)=>+Qe(a,s,0)).order(Fw).offset(r);return i(t)};function hZ(t){return t==null?void 0:String(t)}function IC(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!st(i[e.dataKey])){var o=Xj(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Qe(i,st(s)?e.dataKey:s);return st(l)?null:e.scale(l)}var kC=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var o=Qe(a,e.dataKey,e.scale.domain()[s]);return st(o)?null:e.scale(o)-i/2+r},pZ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},mZ=t=>{var e=t.flat(2).filter(pe);return[Math.min(...e),Math.max(...e)]},gZ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],yZ=(t,e,n)=>{if(t!=null)return gZ(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var c=vL(u,e,n),d=mZ(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},OC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Xg(e,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function RC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Pr(Pr({},e),{},{dataKey:n,payload:r,value:i,name:a})}function mu(t,e){if(t)return String(t);if(typeof e=="string")return e}function vZ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?tZ({x:t,y:e},r):null}var wZ=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Pr(Pr(Pr({},r),jt(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Pr(Pr(Pr({},r),jt(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},xZ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,fa=t=>t.layout.width,ha=t=>t.layout.height,_Z=t=>t.layout.scale,_L=t=>t.layout.margin,ry=F(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),iy=F(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),bL="data-recharts-item-index",EL="data-recharts-item-data-key",tf=60;function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){bZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bZ(t,e,n){return(e=EZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EZ(t){var e=SZ(t,"string");return typeof e=="symbol"?e:e+""}function SZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PZ=t=>t.brush.height;function TZ(t){var e=iy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:tf;return n+i}return n},0)}function AZ(t){var e=iy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:tf;return n+i}return n},0)}function CZ(t){var e=ry(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function IZ(t){var e=ry(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var zt=F([fa,ha,_L,PZ,TZ,AZ,CZ,IZ,HM,KX],(t,e,n,r,i,a,s,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},d={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=ph(ph({},d),c),p=h.bottom;h.bottom+=r,h=sZ(h,l,u);var m=t-h.left-h.right,y=e-h.top-h.bottom;return ph(ph({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(y,0)})}),kZ=F(zt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),y1=F(fa,ha,(t,e)=>({x:0,y:0,width:t,height:e})),OZ=_.createContext(null),Zn=()=>_.useContext(OZ)!=null,ay=t=>t.brush,sy=F([ay,zt,_L],(t,e,n)=>({height:t.height,x:pe(t.x)?t.x:e.left,y:pe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:pe(t.width)?t.width:e.width})),v1=()=>{var t,e=Zn(),n=he(kZ),r=he(sy),i=(t=he(ay))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},NZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},SL=()=>{var t;return(t=he(zt))!==null&&t!==void 0?t:NZ},PL=()=>he(fa),TL=()=>he(ha),Re=t=>t.layout.layoutType,oy=()=>he(Re),RZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},AL=wr({name:"legend",initialState:RZ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ki(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Spe,setLegendSettings:Ppe,addLegendPayload:CL,removeLegendPayload:IL}=AL.actions,DZ=AL.reducer;function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){jZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e,n){return(e=MZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MZ(t){var e=LZ(t,"string");return typeof e=="symbol"?e:e+""}function LZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VZ(t){return Array.isArray(t)&&Pi(t[0])&&Pi(t[1])?t.join(" ~ "):t}var $Z=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=t,p=()=>{if(a&&a.length){var k={padding:0,margin:0},D=(o?Xg(a,o):a).map((T,P)=>{if(T.type==="none")return null;var C=T.formatter||s||VZ,{value:I,name:N}=T,j=I,O=N;if(C){var H=C(I,N,T,P,a);if(Array.isArray(H))[j,O]=H;else if(H!=null)j=H;else return null}var B=qv({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:B},Pi(O)?_.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Pi(O)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},j),_.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},m=qv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=qv({margin:0},i),w=!st(c),b=w?c:"",v=$e("recharts-default-tooltip",l),E=$e("recharts-tooltip-label",u);w&&d&&a!==void 0&&a!==null&&(b=d(c,a));var A=h?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Qw({className:v,style:m},A),_.createElement("p",{className:E,style:y},_.isValidElement(b)?b:"".concat(b)),p())},ec="recharts-tooltip-wrapper",FZ={visibility:"hidden"};function UZ(t){var{coordinate:e,translateX:n,translateY:r}=t;return $e(ec,{["".concat(ec,"-right")]:pe(n)&&e&&pe(e.x)&&n>=e.x,["".concat(ec,"-left")]:pe(n)&&e&&pe(e.x)&&n<e.x,["".concat(ec,"-bottom")]:pe(r)&&e&&pe(e.y)&&r>=e.y,["".concat(ec,"-top")]:pe(r)&&e&&pe(e.y)&&r<e.y})}function MC(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(a&&pe(a[r]))return a[r];var c=n[r]-o-(i>0?i:0),d=n[r]+i;if(e[r])return s[r]?c:d;var h=l[r];if(h==null)return 0;if(s[r]){var p=c,m=h;return p<m?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var y=d+o,w=h+u;return y>w?Math.max(c,h):Math.max(d,h)}function BZ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function zZ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,u,c,d;return s.height>0&&s.width>0&&n?(c=MC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=MC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=BZ({translateX:c,translateY:d,useTranslate3d:o})):u=FZ,{cssProperties:u,cssClasses:UZ({translateX:c,translateY:d,coordinate:n})}}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){Xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xw(t,e,n){return(e=WZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WZ(t){var e=qZ(t,"string");return typeof e=="symbol"?e:e+""}function qZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HZ extends _.PureComponent{constructor(){super(...arguments),Xw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Xw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:y,innerRef:w,hasPortalFromProps:b}=this.props,{cssClasses:v,cssProperties:E}=zZ({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:p}),A=b?{}:mh(mh({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=mh(mh({},A),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:k,ref:w},a)}}var KZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ps={devToolsEnabled:!1,isSsr:KZ()},kL=()=>he(t=>t.rootProps.accessibilityLayer);function gr(t){return Number.isFinite(t)}function Xl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){GZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GZ(t,e,n){return(e=YZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YZ(t){var e=QZ(t,"string");return typeof e=="symbol"?e:e+""}function QZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FC={curveBasisClosed:FQ,curveBasisOpen:UQ,curveBasis:$Q,curveBumpX:PQ,curveBumpY:TQ,curveLinearClosed:BQ,curveLinear:Kg,curveMonotoneX:zQ,curveMonotoneY:WQ,curveNatural:qQ,curveStep:HQ,curveStepAfter:GQ,curveStepBefore:KQ},gh=t=>gr(t.x)&&gr(t.y),tc=t=>t.x,nc=t=>t.y,XZ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Jd(t));return(n==="curveMonotone"||n==="curveBump")&&e?FC["".concat(n).concat(e==="vertical"?"Y":"X")]:FC[n]||Kg},JZ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=XZ(e,i),o=a?n.filter(gh):n,l;if(Array.isArray(r)){var u=a?r.filter(d=>gh(d)):r,c=o.map((d,h)=>$C($C({},d),{},{base:u[h]}));return i==="vertical"?l=lh().y(nc).x1(tc).x0(d=>d.base.x):l=lh().x(tc).y1(nc).y0(d=>d.base.y),l.defined(gh).curve(s),l(c)}return i==="vertical"&&pe(r)?l=lh().y(nc).x1(tc).x0(r):pe(r)?l=lh().x(tc).y1(nc).y0(r):l=oM().x(tc).y(nc),l.defined(gh).curve(s),l(o)},w1=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?JZ(t):r;return _.createElement("path",Jw({},ki(t),Yb(t),{className:$e("recharts-curve",e),d:a===null?void 0:a,ref:i}))},ZZ=["x","y","top","left","width","height","className"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tee(t,e,n){return(e=nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nee(t){var e=ree(t,"string");return typeof e=="symbol"?e:e+""}function ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iee(t,e){if(t==null)return{};var n,r,i=aee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var see=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),oee=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=iee(t,ZZ),u=eee({x:e,y:n,top:r,left:i,width:a,height:s},l);return!pe(e)||!pe(n)||!pe(a)||!pe(s)||!pe(r)||!pe(i)?null:_.createElement("path",Zw({},pt(u,!0),{className:$e("recharts-cross",o),d:see(e,n,a,s,r,i)}))};function lee(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cee(t,e,n){return(e=dee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dee(t){var e=fee(t,"string");return typeof e=="symbol"?e:e+""}function fee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hn(t,e){var n=uee({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function hee(){}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return(e=mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mee(t){var e=gee(t,"string");return typeof e=="symbol"?e:e+""}function gee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yee=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),OL=(t,e,n)=>t.map(r=>"".concat(yee(r)," ").concat(e,"ms ").concat(n)).join(","),vee=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),xd=(t,e)=>Object.keys(e).reduce((n,r)=>WC(WC({},n),{},{[r]:t(r,e[r])}),{});function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return(e=xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lm=(t,e,n)=>t+(e-t)*n,ex=t=>{var{from:e,to:n}=t;return e!==n},NL=(t,e,n)=>{var r=xd((i,a)=>{if(ex(a)){var[s,o]=t(a.from,a.to,a.velocity);return on(on({},a),{},{from:s,velocity:o})}return a},e);return n<1?xd((i,a)=>ex(a)?on(on({},a),{},{velocity:lm(a.velocity,r[i].velocity,n),from:lm(a.from,r[i].from,n)}):a,e):NL(t,r,n-1)};function bee(t,e,n,r,i,a){var s,o=r.reduce((h,p)=>on(on({},h),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>xd((h,p)=>p.from,o),u=()=>!Object.values(o).filter(ex).length,c=null,d=h=>{s||(s=h);var p=h-s,m=p/n.dt;o=NL(n,o,m),i(on(on(on({},t),e),l())),s=h,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{c()})}function Eee(t,e,n,r,i,a,s){var o=null,l=i.reduce((d,h)=>on(on({},d),{},{[h]:[t[h],e[h]]}),{}),u,c=d=>{u||(u=d);var h=(d-u)/r,p=xd((y,w)=>lm(...w,n(h)),l);if(a(on(on(on({},t),e),p)),h<1)o=s.setTimeout(c);else{var m=xd((y,w)=>lm(...w,n(1)),l);a(on(on(on({},t),e),m))}};return()=>(o=s.setTimeout(c),()=>{o()})}const See=(t,e,n,r,i,a)=>{var s=vee(t,e);return n.isStepper===!0?bee(t,e,n,s,i,a):Eee(t,e,n,r,s,i,a)};var um=1e-4,RL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],DL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),HC=(t,e)=>n=>{var r=RL(t,e);return DL(r,n)},Pee=(t,e)=>n=>{var r=RL(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return DL(i,n)},KC=function(){for(var e,n,r,i,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else s.length===4&&([e,r,n,i]=s);var u=HC(e,n),c=HC(r,i),d=Pee(e,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var y=m>1?1:m,w=y,b=0;b<8;++b){var v=u(w)-y,E=d(w);if(Math.abs(v-y)<um||E<um)return c(w);w=h(w-v/E)}return c(w)};return p.isStepper=!1,p},Tee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,l)=>{var u=-(s-o)*n,c=l*r,d=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<um&&Math.abs(d)<um?[o,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},Aee=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KC(t);case"spring":return Tee();default:if(t.split("(")[0]==="cubic-bezier")return KC(t)}return typeof t=="function"?t:null};function Cee(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,u),l);return}a(l),i=t.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Iee{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function kee(){return Cee(new Iee)}var Oee=_.createContext(kee);function Nee(t,e){var n=_.useContext(Oee);return _.useMemo(()=>e??n(t),[t,e,n])}var Ree={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},GC={t:0},Hv={t:1};function nf(t){var e=hn(t,Ree),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=e,c=Nee(e.animationId,e.animationManager),[d,h]=_.useState(n?GC:Hv),p=_.useRef(null);return _.useEffect(()=>{n||h(Hv)},[n]),_.useEffect(()=>{if(!n||!r)return hee;var m=See(GC,Hv,Aee(a),i,h,c.getTimeoutController()),y=()=>{p.current=m()};return c.start([l,s,y,i,o]),()=>{c.stop(),p.current&&p.current(),o()}},[n,r,i,a,s,l,o,c]),u(d.t)}function rf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(gd(e)),r=_.useRef(t);return r.current!==t&&(n.current=gd(e),r.current=t),n.current}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){Dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dee(t,e,n){return(e=jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=Mee(t,"string");return typeof e=="symbol"?e:e+""}function Mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(null,arguments)}var XC=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,h=4;d<h;d++)c[d]=i[d]>a?a:i[d];u="M".concat(t,",").concat(e+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(t+o*c[0],",").concat(e)),u+="L ".concat(t+n-o*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*c[1])),u+="L ".concat(t+n,",").concat(e+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(t+n-o*c[2],",").concat(e+r)),u+="L ".concat(t+o*c[3],",").concat(e+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);u="M ".concat(t,",").concat(e+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+o*p,",").concat(e,`
            L `).concat(t+n-o*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*p,`
            L `).concat(t+n,",").concat(e+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-o*p,",").concat(e+r,`
            L `).concat(t+o*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*p," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},Lee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jL=t=>{var e=hn(t,Lee),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:y}=e,w=_.useRef(o),b=_.useRef(l),v=_.useRef(a),E=_.useRef(s),A=_.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),k=rf(A,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var D=$e("recharts-rectangle",c);if(!y)return _.createElement("path",cm({},pt(e,!0),{className:D,d:XC(a,s,o,l,u)}));var T=w.current,P=b.current,C=v.current,I=E.current,N="0px ".concat(r===-1?1:r,"px"),j="".concat(r,"px 0px"),O=OL(["strokeDasharray"],h,typeof d=="string"?d:void 0);return _.createElement(nf,{animationId:k,key:k,canBegin:r>0,duration:h,easing:d,isActive:y,begin:p},H=>{var B=yt(T,o,H),Z=yt(P,l,H),ne=yt(C,a,H),L=yt(I,s,H);n.current&&(w.current=B,b.current=Z,v.current=ne,E.current=L);var z;return m?H>0?z={transition:O,strokeDasharray:j}:z={strokeDasharray:N}:z={strokeDasharray:j},_.createElement("path",cm({},pt(e,!0),{className:D,d:XC(ne,L,B,Z,u),ref:n,style:QC(QC({},z),e.style)}))})};function ML(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=jt(e,n,r,i),o=jt(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(null,arguments)}var Vee=(t,e)=>{var n=Jt(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},yh=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,u=o*(s?1:-1)+r,c=Math.asin(o/u)/om,d=l?i:i+a*c,h=jt(e,n,u,d),p=jt(e,n,r,d),m=l?i-a*c:i,y=jt(e,n,u*Math.cos(c*om),m);return{center:h,circleTangency:p,lineTangency:y,theta:c}},LL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=Vee(a,s),l=a+o,u=jt(e,n,i,a),c=jt(e,n,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var h=jt(e,n,r,a),p=jt(e,n,r,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(e,",").concat(n," Z");return d},$ee=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=t,c=Jt(u-l),{circleTangency:d,lineTangency:h,theta:p}=yh({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:y,theta:w}=yh({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),b=o?Math.abs(l-u):Math.abs(l-u)-p-w;if(b<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):LL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:E,lineTangency:A,theta:k}=yh({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:D,lineTangency:T,theta:P}=yh({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(l-u):Math.abs(l-u)-k-P;if(C<0&&a===0)return"".concat(v,"L").concat(e,",").concat(n,"Z");v+="L".concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(A.x,",").concat(A.y,"Z")}else v+="L".concat(e,",").concat(n,"Z");return v},Fee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VL=t=>{var e=hn(t,Fee),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=e;if(a<i||u===c)return null;var h=$e("recharts-sector",d),p=a-i,m=Tn(s,p,0,!0),y;return m>0&&Math.abs(u-c)<360?y=$ee({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):y=LL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),_.createElement("path",tx({},pt(e,!0),{className:h,d:y}))};function Uee(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:u,outerRadius:c,angle:d}=e,h=jt(o,l,u,d),p=jt(o,l,c,d);r=h.x,i=h.y,a=p.x,s=p.y}else return ML(e);return[{x:r,y:i},{x:a,y:s}]}var $L={},FL={},UL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c1;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(UL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UL;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(FL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d1,n=FL;function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}t.range=r})($L);var Bee=$L.range;const BL=ua(Bee);function Za(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x1(t){let e,n,r;t.length!==2?(e=Za,n=(o,l)=>Za(t(o),l),r=(o,l)=>t(o)-l):(e=t===Za||t===zee?t:Wee,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Wee(){return 0}function zL(t){return t===null?NaN:+t}function*qee(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Hee=x1(Za),af=Hee.right;x1(zL).center;class JC extends Map{constructor(e,n=Yee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ZC(this,e))}has(e){return super.has(ZC(this,e))}set(e,n){return super.set(Kee(this,e),n)}delete(e){return super.delete(Gee(this,e))}}function ZC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Kee({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Gee({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Yee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Qee(t=Za){if(t===Za)return WL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function WL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Xee=Math.sqrt(50),Jee=Math.sqrt(10),Zee=Math.sqrt(2);function dm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Xee?10:a>=Jee?5:a>=Zee?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?dm(t,e,n*2):[o,l,u]}function nx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?dm(e,t,n):dm(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function rx(t,e,n){return e=+e,t=+t,n=+n,dm(t,e,n)[2]}function ix(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?rx(e,t,n):rx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function eI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function tI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?WL:Qee(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*d/l+h)),m=Math.min(r,Math.floor(e+(l-u)*d/l+h));qL(t,e,p,m,i)}const a=t[e];let s=n,o=r;for(rc(t,n,e),i(t[r],a)>0&&rc(t,n,r);s<o;){for(rc(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?rc(t,n,o):(++o,rc(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function rc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ete(t,e,n){if(t=Float64Array.from(qee(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return tI(t);if(e>=1)return eI(t);var r,i=(r-1)*e,a=Math.floor(i),s=eI(qL(t,a).subarray(0,a+1)),o=tI(t.subarray(a+1));return s+(o-s)*(i-a)}}function tte(t,e,n=zL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function nte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Lr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ax=Symbol("implicit");function _1(){var t=new JC,e=[],n=[],r=ax;function i(a){let s=t.get(a);if(s===void 0){if(r!==ax)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new JC;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return _1(e,n).unknown(r)},Lr.apply(i,arguments),i}function b1(){var t=_1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,p=i<r,m=p?i:r,y=p?r:i;a=(y-m)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),m+=(y-m-a*(h-l))*c,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var w=nte(h).map(function(b){return m+a*b});return n(p?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return b1(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Lr.apply(d(),arguments)}function HL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return HL(e())},t}function rte(){return HL(b1.apply(null,arguments).paddingInner(1))}function E1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function KL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sf(){}var _d=.7,fm=1/_d,Nl="\\s*([+-]?\\d+)\\s*",bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ite=/^#([0-9a-f]{3,8})$/,ate=new RegExp(`^rgb\\(${Nl},${Nl},${Nl}\\)$`),ste=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),ote=new RegExp(`^rgba\\(${Nl},${Nl},${Nl},${bd}\\)$`),lte=new RegExp(`^rgba\\(${bi},${bi},${bi},${bd}\\)$`),ute=new RegExp(`^hsl\\(${bd},${bi},${bi}\\)$`),cte=new RegExp(`^hsla\\(${bd},${bi},${bi},${bd}\\)$`),nI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E1(sf,Ed,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rI,formatHex:rI,formatHex8:dte,formatHsl:fte,formatRgb:iI,toString:iI});function rI(){return this.rgb().formatHex()}function dte(){return this.rgb().formatHex8()}function fte(){return GL(this).formatHsl()}function iI(){return this.rgb().formatRgb()}function Ed(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ite.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?aI(e):n===3?new Kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ate.exec(t))?new Kn(e[1],e[2],e[3],1):(e=ste.exec(t))?new Kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ote.exec(t))?vh(e[1],e[2],e[3],e[4]):(e=lte.exec(t))?vh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ute.exec(t))?lI(e[1],e[2]/100,e[3]/100,1):(e=cte.exec(t))?lI(e[1],e[2]/100,e[3]/100,e[4]):nI.hasOwnProperty(t)?aI(nI[t]):t==="transparent"?new Kn(NaN,NaN,NaN,0):null}function aI(t){return new Kn(t>>16&255,t>>8&255,t&255,1)}function vh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kn(t,e,n,r)}function hte(t){return t instanceof sf||(t=Ed(t)),t?(t=t.rgb(),new Kn(t.r,t.g,t.b,t.opacity)):new Kn}function sx(t,e,n,r){return arguments.length===1?hte(t):new Kn(t,e,n,r??1)}function Kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}E1(Kn,sx,KL(sf,{brighter(t){return t=t==null?fm:Math.pow(fm,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_d:Math.pow(_d,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(so(this.r),so(this.g),so(this.b),hm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sI,formatHex:sI,formatHex8:pte,formatRgb:oI,toString:oI}));function sI(){return`#${Qs(this.r)}${Qs(this.g)}${Qs(this.b)}`}function pte(){return`#${Qs(this.r)}${Qs(this.g)}${Qs(this.b)}${Qs((isNaN(this.opacity)?1:this.opacity)*255)}`}function oI(){const t=hm(this.opacity);return`${t===1?"rgb(":"rgba("}${so(this.r)}, ${so(this.g)}, ${so(this.b)}${t===1?")":`, ${t})`}`}function hm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function so(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qs(t){return t=so(t),(t<16?"0":"")+t.toString(16)}function lI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Kr(t,e,n,r)}function GL(t){if(t instanceof Kr)return new Kr(t.h,t.s,t.l,t.opacity);if(t instanceof sf||(t=Ed(t)),!t)return new Kr;if(t instanceof Kr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Kr(s,o,l,t.opacity)}function mte(t,e,n,r){return arguments.length===1?GL(t):new Kr(t,e,n,r??1)}function Kr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}E1(Kr,mte,KL(sf,{brighter(t){return t=t==null?fm:Math.pow(fm,t),new Kr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_d:Math.pow(_d,t),new Kr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kn(Kv(t>=240?t-240:t+120,i,r),Kv(t,i,r),Kv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Kr(uI(this.h),wh(this.s),wh(this.l),hm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hm(this.opacity);return`${t===1?"hsl(":"hsla("}${uI(this.h)}, ${wh(this.s)*100}%, ${wh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function uI(t){return t=(t||0)%360,t<0?t+360:t}function wh(t){return Math.max(0,Math.min(1,t||0))}function Kv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const S1=t=>()=>t;function gte(t,e){return function(n){return t+n*e}}function yte(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vte(t){return(t=+t)==1?YL:function(e,n){return n-e?yte(e,n,t):S1(isNaN(e)?n:e)}}function YL(t,e){var n=e-t;return n?gte(t,n):S1(isNaN(t)?e:t)}const cI=function t(e){var n=vte(e);function r(i,a){var s=n((i=sx(i)).r,(a=sx(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=YL(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function wte(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function xte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _te(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=gu(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function bte(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ete(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gu(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ox=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gv=new RegExp(ox.source,"g");function Ste(t){return function(){return t}}function Pte(t){return function(e){return t(e)+""}}function Tte(t,e){var n=ox.lastIndex=Gv.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=ox.exec(t))&&(i=Gv.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:pm(r,i)})),n=Gv.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Pte(l[0].x):Ste(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function gu(t,e){var n=typeof e,r;return e==null||n==="boolean"?S1(e):(n==="number"?pm:n==="string"?(r=Ed(e))?(e=r,cI):Tte:e instanceof Ed?cI:e instanceof Date?bte:xte(e)?wte:Array.isArray(e)?_te:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ete:pm)(t,e)}function P1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ate(t,e){e===void 0&&(e=t,t=gu);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Cte(t){return function(){return t}}function mm(t){return+t}var dI=[0,1];function Mn(t){return t}function lx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Cte(isNaN(e)?NaN:.5)}function Ite(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kte(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=lx(i,r),a=n(s,a)):(r=lx(r,i),a=n(a,s)),function(o){return a(r(o))}}function Ote(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=lx(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=af(t,o,1,r)-1;return a[l](i[l](o))}}function of(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ly(){var t=dI,e=dI,n=gu,r,i,a,s=Mn,o,l,u;function c(){var h=Math.min(t.length,e.length);return s!==Mn&&(s=Ite(t[0],t[h-1])),o=h>2?Ote:kte,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=o(e,t.map(r),pm)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,mm),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=P1,c()},d.clamp=function(h){return arguments.length?(s=h?!0:Mn,c()):s!==Mn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,c()}}function T1(){return ly()(Mn,Mn)}function Nte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Jl(t){return t=gm(Math.abs(t)),t?t[1]:NaN}function Rte(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Dte(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sd(t){if(!(e=jte.exec(t)))throw new Error("invalid format: "+t);var e;return new A1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sd.prototype=A1.prototype;function A1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}A1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mte(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var QL;function Lte(t,e){var n=gm(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(QL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+gm(t,Math.max(0,e+a-1))[0]}function fI(t,e){var n=gm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fI(t*100,e),r:fI,s:Lte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pI(t){return t}var mI=Array.prototype.map,gI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Vte(t){var e=t.grouping===void 0||t.thousands===void 0?pI:Rte(mI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?pI:Dte(mI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Sd(d);var h=d.fill,p=d.align,m=d.sign,y=d.symbol,w=d.zero,b=d.width,v=d.comma,E=d.precision,A=d.trim,k=d.type;k==="n"?(v=!0,k="g"):hI[k]||(E===void 0&&(E=12),A=!0,k="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var D=y==="$"?n:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",T=y==="$"?r:/[%p]/.test(k)?s:"",P=hI[k],C=/[defgprs%]/.test(k);E=E===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(N){var j=D,O=T,H,B,Z;if(k==="c")O=P(N)+O,N="";else{N=+N;var ne=N<0||1/N<0;if(N=isNaN(N)?l:P(Math.abs(N),E),A&&(N=Mte(N)),ne&&+N==0&&m!=="+"&&(ne=!1),j=(ne?m==="("?m:o:m==="-"||m==="("?"":m)+j,O=(k==="s"?gI[8+QL/3]:"")+O+(ne&&m==="("?")":""),C){for(H=-1,B=N.length;++H<B;)if(Z=N.charCodeAt(H),48>Z||Z>57){O=(Z===46?i+N.slice(H+1):N.slice(H))+O,N=N.slice(0,H);break}}}v&&!w&&(N=e(N,1/0));var L=j.length+N.length+O.length,z=L<b?new Array(b-L+1).join(h):"";switch(v&&w&&(N=e(z+N,z.length?b-O.length:1/0),z=""),p){case"<":N=j+N+O+z;break;case"=":N=j+z+N+O;break;case"^":N=z.slice(0,L=z.length>>1)+j+N+O+z.slice(L);break;default:N=z+j+N+O;break}return a(N)}return I.toString=function(){return d+""},I}function c(d,h){var p=u((d=Sd(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Jl(h)/3)))*3,y=Math.pow(10,-m),w=gI[8+m/3];return function(b){return p(y*b)+w}}return{format:u,formatPrefix:c}}var xh,C1,XL;$te({thousands:",",grouping:[3],currency:["$",""]});function $te(t){return xh=Vte(t),C1=xh.format,XL=xh.formatPrefix,xh}function Fte(t){return Math.max(0,-Jl(Math.abs(t)))}function Ute(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jl(e)/3)))*3-Jl(Math.abs(t)))}function Bte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jl(e)-Jl(t))+1}function JL(t,e,n,r){var i=ix(t,e,n),a;switch(r=Sd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Ute(i,s))&&(r.precision=a),XL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Bte(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Fte(i))&&(r.precision=a-(r.type==="%")*2);break}}return C1(r)}function Ts(t){var e=t.domain;return t.ticks=function(n){var r=e();return nx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return JL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=rx(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function ZL(){var t=T1();return t.copy=function(){return of(t,ZL())},Lr.apply(t,arguments),Ts(t)}function eV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,mm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return eV(t).unknown(e)},t=arguments.length?Array.from(t,mm):[0,1],Ts(n)}function tV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function yI(t){return Math.log(t)}function vI(t){return Math.exp(t)}function zte(t){return-Math.log(-t)}function Wte(t){return-Math.exp(-t)}function qte(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Hte(t){return t===10?qte:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Kte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function wI(t){return(e,n)=>-t(-e,n)}function I1(t){const e=t(yI,vI),n=e.domain;let r=10,i,a;function s(){return i=Kte(r),a=Hte(r),n()[0]<0?(i=wI(i),a=wI(a),t(zte,Wte)):t(yI,vI),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),m,y;const w=o==null?10:+o;let b=[];if(!(r%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(y=h<0?m/a(-h):m*a(h),!(y<u)){if(y>c)break;b.push(y)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(y=h>0?m/a(-h):m*a(h),!(y<u)){if(y>c)break;b.push(y)}b.length*2<w&&(b=nx(u,c,w))}else b=nx(h,p,Math.min(p-h,w)).map(a);return d?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Sd(l)).precision==null&&(l.trim=!0),l=C1(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(tV(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function nV(){const t=I1(ly()).domain([1,10]);return t.copy=()=>of(t,nV()).base(t.base()),Lr.apply(t,arguments),t}function xI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _I(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function k1(t){var e=1,n=t(xI(e),_I(e));return n.constant=function(r){return arguments.length?t(xI(e=+r),_I(e)):e},Ts(n)}function rV(){var t=k1(ly());return t.copy=function(){return of(t,rV()).constant(t.constant())},Lr.apply(t,arguments)}function bI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Gte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yte(t){return t<0?-t*t:t*t}function O1(t){var e=t(Mn,Mn),n=1;function r(){return n===1?t(Mn,Mn):n===.5?t(Gte,Yte):t(bI(n),bI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ts(e)}function N1(){var t=O1(ly());return t.copy=function(){return of(t,N1()).exponent(t.exponent())},Lr.apply(t,arguments),t}function Qte(){return N1.apply(null,arguments).exponent(.5)}function EI(t){return Math.sign(t)*t*t}function Xte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iV(){var t=T1(),e=[0,1],n=!1,r;function i(a){var s=Xte(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(EI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,mm)).map(EI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return iV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Lr.apply(i,arguments),Ts(i)}function aV(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=tte(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[af(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Za),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return aV().domain(t).range(e).unknown(r)},Lr.apply(a,arguments)}function sV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[af(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return sV().domain([t,e]).range(i).unknown(a)},Lr.apply(Ts(s),arguments)}function oV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[af(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return oV().domain(t).range(e).unknown(n)},Lr.apply(i,arguments)}const Yv=new Date,Qv=new Date;function Wt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Wt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Yv.setTime(+a),Qv.setTime(+s),t(Yv),t(Qv),Math.floor(n(Yv,Qv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ym=Wt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ym.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ym);ym.range;const zi=1e3,Ir=zi*60,Wi=Ir*60,sa=Wi*24,R1=sa*7,SI=sa*30,Xv=sa*365,Xs=Wt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getUTCSeconds());Xs.range;const D1=Wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zi)},(t,e)=>{t.setTime(+t+e*Ir)},(t,e)=>(e-t)/Ir,t=>t.getMinutes());D1.range;const j1=Wt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ir)},(t,e)=>(e-t)/Ir,t=>t.getUTCMinutes());j1.range;const M1=Wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zi-t.getMinutes()*Ir)},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getHours());M1.range;const L1=Wt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getUTCHours());L1.range;const lf=Wt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ir)/sa,t=>t.getDate()-1);lf.range;const uy=Wt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sa,t=>t.getUTCDate()-1);uy.range;const lV=Wt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sa,t=>Math.floor(t/sa));lV.range;function jo(t){return Wt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ir)/R1)}const cy=jo(0),vm=jo(1),Jte=jo(2),Zte=jo(3),Zl=jo(4),ene=jo(5),tne=jo(6);cy.range;vm.range;Jte.range;Zte.range;Zl.range;ene.range;tne.range;function Mo(t){return Wt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/R1)}const dy=Mo(0),wm=Mo(1),nne=Mo(2),rne=Mo(3),eu=Mo(4),ine=Mo(5),ane=Mo(6);dy.range;wm.range;nne.range;rne.range;eu.range;ine.range;ane.range;const V1=Wt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());V1.range;const $1=Wt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$1.range;const oa=Wt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});oa.range;const la=Wt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());la.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});la.range;function uV(t,e,n,r,i,a){const s=[[Xs,1,zi],[Xs,5,5*zi],[Xs,15,15*zi],[Xs,30,30*zi],[a,1,Ir],[a,5,5*Ir],[a,15,15*Ir],[a,30,30*Ir],[i,1,Wi],[i,3,3*Wi],[i,6,6*Wi],[i,12,12*Wi],[r,1,sa],[r,2,2*sa],[n,1,R1],[e,1,SI],[e,3,3*SI],[t,1,Xv]];function o(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),m=p?p.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,d){const h=Math.abs(c-u)/d,p=x1(([,,w])=>w).right(s,h);if(p===s.length)return t.every(ix(u/Xv,c/Xv,d));if(p===0)return ym.every(Math.max(ix(u,c,d),1));const[m,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(y)}return[o,l]}const[sne,one]=uV(la,$1,dy,lV,L1,j1),[lne,une]=uV(oa,V1,cy,lf,M1,D1);function Jv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ic(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cne(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=ac(i),c=sc(i),d=ac(a),h=sc(a),p=ac(s),m=sc(s),y=ac(o),w=sc(o),b=ac(l),v=sc(l),E={a:ne,A:L,b:z,B:re,c:null,d:kI,e:kI,f:Rne,g:zne,G:qne,H:kne,I:One,j:Nne,L:cV,m:Dne,M:jne,p:de,q:X,Q:RI,s:DI,S:Mne,u:Lne,U:Vne,V:$ne,w:Fne,W:Une,x:null,X:null,y:Bne,Y:Wne,Z:Hne,"%":NI},A={a:Ee,A:Tt,b:G,B:Oe,c:null,d:OI,e:OI,f:Qne,g:sre,G:lre,H:Kne,I:Gne,j:Yne,L:fV,m:Xne,M:Jne,p:Te,q:er,Q:RI,s:DI,S:Zne,u:ere,U:tre,V:nre,w:rre,W:ire,x:null,X:null,y:are,Y:ore,Z:ure,"%":NI},k={a:I,A:N,b:j,B:O,c:H,d:CI,e:CI,f:Tne,g:AI,G:TI,H:II,I:II,j:bne,L:Pne,m:_ne,M:Ene,p:C,q:xne,Q:Cne,s:Ine,S:Sne,u:mne,U:gne,V:yne,w:pne,W:vne,x:B,X:Z,y:AI,Y:TI,Z:wne,"%":Ane};E.x=D(n,E),E.X=D(r,E),E.c=D(e,E),A.x=D(n,A),A.X=D(r,A),A.c=D(e,A);function D(oe,we){return function(Se){var Y=[],At=-1,De=0,Ct=oe.length,Ht,Vr,Pu;for(Se instanceof Date||(Se=new Date(+Se));++At<Ct;)oe.charCodeAt(At)===37&&(Y.push(oe.slice(De,At)),(Vr=PI[Ht=oe.charAt(++At)])!=null?Ht=oe.charAt(++At):Vr=Ht==="e"?" ":"0",(Pu=we[Ht])&&(Ht=Pu(Se,Vr)),Y.push(Ht),De=At+1);return Y.push(oe.slice(De,At)),Y.join("")}}function T(oe,we){return function(Se){var Y=ic(1900,void 0,1),At=P(Y,oe,Se+="",0),De,Ct;if(At!=Se.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(we&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(De=Zv(ic(Y.y,0,1)),Ct=De.getUTCDay(),De=Ct>4||Ct===0?wm.ceil(De):wm(De),De=uy.offset(De,(Y.V-1)*7),Y.y=De.getUTCFullYear(),Y.m=De.getUTCMonth(),Y.d=De.getUTCDate()+(Y.w+6)%7):(De=Jv(ic(Y.y,0,1)),Ct=De.getDay(),De=Ct>4||Ct===0?vm.ceil(De):vm(De),De=lf.offset(De,(Y.V-1)*7),Y.y=De.getFullYear(),Y.m=De.getMonth(),Y.d=De.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ct="Z"in Y?Zv(ic(Y.y,0,1)).getUTCDay():Jv(ic(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ct+5)%7:Y.w+Y.U*7-(Ct+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Zv(Y)):Jv(Y)}}function P(oe,we,Se,Y){for(var At=0,De=we.length,Ct=Se.length,Ht,Vr;At<De;){if(Y>=Ct)return-1;if(Ht=we.charCodeAt(At++),Ht===37){if(Ht=we.charAt(At++),Vr=k[Ht in PI?we.charAt(At++):Ht],!Vr||(Y=Vr(oe,Se,Y))<0)return-1}else if(Ht!=Se.charCodeAt(Y++))return-1}return Y}function C(oe,we,Se){var Y=u.exec(we.slice(Se));return Y?(oe.p=c.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function I(oe,we,Se){var Y=p.exec(we.slice(Se));return Y?(oe.w=m.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function N(oe,we,Se){var Y=d.exec(we.slice(Se));return Y?(oe.w=h.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function j(oe,we,Se){var Y=b.exec(we.slice(Se));return Y?(oe.m=v.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function O(oe,we,Se){var Y=y.exec(we.slice(Se));return Y?(oe.m=w.get(Y[0].toLowerCase()),Se+Y[0].length):-1}function H(oe,we,Se){return P(oe,e,we,Se)}function B(oe,we,Se){return P(oe,n,we,Se)}function Z(oe,we,Se){return P(oe,r,we,Se)}function ne(oe){return s[oe.getDay()]}function L(oe){return a[oe.getDay()]}function z(oe){return l[oe.getMonth()]}function re(oe){return o[oe.getMonth()]}function de(oe){return i[+(oe.getHours()>=12)]}function X(oe){return 1+~~(oe.getMonth()/3)}function Ee(oe){return s[oe.getUTCDay()]}function Tt(oe){return a[oe.getUTCDay()]}function G(oe){return l[oe.getUTCMonth()]}function Oe(oe){return o[oe.getUTCMonth()]}function Te(oe){return i[+(oe.getUTCHours()>=12)]}function er(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var we=D(oe+="",E);return we.toString=function(){return oe},we},parse:function(oe){var we=T(oe+="",!1);return we.toString=function(){return oe},we},utcFormat:function(oe){var we=D(oe+="",A);return we.toString=function(){return oe},we},utcParse:function(oe){var we=T(oe+="",!0);return we.toString=function(){return oe},we}}}var PI={"-":"",_:" ",0:"0"},en=/^\s*\d+/,dne=/^%/,fne=/[\\^$*+?|[\]().{}]/g;function Le(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function hne(t){return t.replace(fne,"\\$&")}function ac(t){return new RegExp("^(?:"+t.map(hne).join("|")+")","i")}function sc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function pne(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mne(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gne(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yne(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vne(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function TI(t,e,n){var r=en.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function AI(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wne(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xne(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _ne(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function CI(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bne(t,e,n){var r=en.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function II(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ene(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Sne(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Pne(t,e,n){var r=en.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Tne(t,e,n){var r=en.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ane(t,e,n){var r=dne.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Cne(t,e,n){var r=en.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ine(t,e,n){var r=en.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kI(t,e){return Le(t.getDate(),e,2)}function kne(t,e){return Le(t.getHours(),e,2)}function One(t,e){return Le(t.getHours()%12||12,e,2)}function Nne(t,e){return Le(1+lf.count(oa(t),t),e,3)}function cV(t,e){return Le(t.getMilliseconds(),e,3)}function Rne(t,e){return cV(t,e)+"000"}function Dne(t,e){return Le(t.getMonth()+1,e,2)}function jne(t,e){return Le(t.getMinutes(),e,2)}function Mne(t,e){return Le(t.getSeconds(),e,2)}function Lne(t){var e=t.getDay();return e===0?7:e}function Vne(t,e){return Le(cy.count(oa(t)-1,t),e,2)}function dV(t){var e=t.getDay();return e>=4||e===0?Zl(t):Zl.ceil(t)}function $ne(t,e){return t=dV(t),Le(Zl.count(oa(t),t)+(oa(t).getDay()===4),e,2)}function Fne(t){return t.getDay()}function Une(t,e){return Le(vm.count(oa(t)-1,t),e,2)}function Bne(t,e){return Le(t.getFullYear()%100,e,2)}function zne(t,e){return t=dV(t),Le(t.getFullYear()%100,e,2)}function Wne(t,e){return Le(t.getFullYear()%1e4,e,4)}function qne(t,e){var n=t.getDay();return t=n>=4||n===0?Zl(t):Zl.ceil(t),Le(t.getFullYear()%1e4,e,4)}function Hne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function OI(t,e){return Le(t.getUTCDate(),e,2)}function Kne(t,e){return Le(t.getUTCHours(),e,2)}function Gne(t,e){return Le(t.getUTCHours()%12||12,e,2)}function Yne(t,e){return Le(1+uy.count(la(t),t),e,3)}function fV(t,e){return Le(t.getUTCMilliseconds(),e,3)}function Qne(t,e){return fV(t,e)+"000"}function Xne(t,e){return Le(t.getUTCMonth()+1,e,2)}function Jne(t,e){return Le(t.getUTCMinutes(),e,2)}function Zne(t,e){return Le(t.getUTCSeconds(),e,2)}function ere(t){var e=t.getUTCDay();return e===0?7:e}function tre(t,e){return Le(dy.count(la(t)-1,t),e,2)}function hV(t){var e=t.getUTCDay();return e>=4||e===0?eu(t):eu.ceil(t)}function nre(t,e){return t=hV(t),Le(eu.count(la(t),t)+(la(t).getUTCDay()===4),e,2)}function rre(t){return t.getUTCDay()}function ire(t,e){return Le(wm.count(la(t)-1,t),e,2)}function are(t,e){return Le(t.getUTCFullYear()%100,e,2)}function sre(t,e){return t=hV(t),Le(t.getUTCFullYear()%100,e,2)}function ore(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function lre(t,e){var n=t.getUTCDay();return t=n>=4||n===0?eu(t):eu.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function ure(){return"+0000"}function NI(){return"%"}function RI(t){return+t}function DI(t){return Math.floor(+t/1e3)}var Qo,pV,mV;cre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cre(t){return Qo=cne(t),pV=Qo.format,Qo.parse,mV=Qo.utcFormat,Qo.utcParse,Qo}function dre(t){return new Date(t)}function fre(t){return t instanceof Date?+t:+new Date(+t)}function F1(t,e,n,r,i,a,s,o,l,u){var c=T1(),d=c.invert,h=c.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),w=u("%I %p"),b=u("%a %d"),v=u("%b %d"),E=u("%B"),A=u("%Y");function k(D){return(l(D)<D?p:o(D)<D?m:s(D)<D?y:a(D)<D?w:r(D)<D?i(D)<D?b:v:n(D)<D?E:A)(D)}return c.invert=function(D){return new Date(d(D))},c.domain=function(D){return arguments.length?h(Array.from(D,fre)):h().map(dre)},c.ticks=function(D){var T=h();return t(T[0],T[T.length-1],D??10)},c.tickFormat=function(D,T){return T==null?k:u(T)},c.nice=function(D){var T=h();return(!D||typeof D.range!="function")&&(D=e(T[0],T[T.length-1],D??10)),D?h(tV(T,D)):c},c.copy=function(){return of(c,F1(t,e,n,r,i,a,s,o,l,u))},c}function hre(){return Lr.apply(F1(lne,une,oa,V1,cy,lf,M1,D1,Xs,pV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pre(){return Lr.apply(F1(sne,one,la,$1,dy,uy,L1,j1,Xs,mV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fy(){var t=0,e=1,n,r,i,a,s=Mn,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var p,m;return arguments.length?([p,m]=h,s=d(p,m),u):[s(0),s(1)]}}return u.range=c(gu),u.rangeRound=c(P1),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function As(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gV(){var t=Ts(fy()(Mn));return t.copy=function(){return As(t,gV())},pa.apply(t,arguments)}function yV(){var t=I1(fy()).domain([1,10]);return t.copy=function(){return As(t,yV()).base(t.base())},pa.apply(t,arguments)}function vV(){var t=k1(fy());return t.copy=function(){return As(t,vV()).constant(t.constant())},pa.apply(t,arguments)}function U1(){var t=O1(fy());return t.copy=function(){return As(t,U1()).exponent(t.exponent())},pa.apply(t,arguments)}function mre(){return U1.apply(null,arguments).exponent(.5)}function wV(){var t=[],e=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((af(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Za),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ete(t,a/r))},n.copy=function(){return wV(e).domain(t)},pa.apply(n,arguments)}function hy(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=Mn,c,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-a)*(r*y<r*a?o:l),u(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),a=c(e=+e),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(w){var b,v,E;return arguments.length?([b,v,E]=w,u=Ate(y,[b,v,E]),p):[u(0),u(.5),u(1)]}}return p.range=m(gu),p.rangeRound=m(P1),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),a=y(e),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function xV(){var t=Ts(hy()(Mn));return t.copy=function(){return As(t,xV())},pa.apply(t,arguments)}function _V(){var t=I1(hy()).domain([.1,1,10]);return t.copy=function(){return As(t,_V()).base(t.base())},pa.apply(t,arguments)}function bV(){var t=k1(hy());return t.copy=function(){return As(t,bV()).constant(t.constant())},pa.apply(t,arguments)}function B1(){var t=O1(hy());return t.copy=function(){return As(t,B1()).exponent(t.exponent())},pa.apply(t,arguments)}function gre(){return B1.apply(null,arguments).exponent(.5)}const yc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:b1,scaleDiverging:xV,scaleDivergingLog:_V,scaleDivergingPow:B1,scaleDivergingSqrt:gre,scaleDivergingSymlog:bV,scaleIdentity:eV,scaleImplicit:ax,scaleLinear:ZL,scaleLog:nV,scaleOrdinal:_1,scalePoint:rte,scalePow:N1,scaleQuantile:aV,scaleQuantize:sV,scaleRadial:iV,scaleSequential:gV,scaleSequentialLog:yV,scaleSequentialPow:U1,scaleSequentialQuantile:wV,scaleSequentialSqrt:mre,scaleSequentialSymlog:vV,scaleSqrt:Qte,scaleSymlog:rV,scaleThreshold:oV,scaleTime:hre,scaleUtc:pre,tickFormat:JL},Symbol.toStringTag,{value:"Module"}));var Cs=t=>t.chartData,z1=F([Cs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),py=(t,e,n,r)=>r?z1(t):Cs(t);function tu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(gr(e)&&gr(n))return!0}return!1}function jI(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function yre(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(gr(n))i=n;else if(typeof n=="function")return;if(gr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(tu(s))return s}}function vre(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(tu(r))return jI(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(pe(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&OC.test(i)){var l=OC.exec(i);if(l==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(pe(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&NC.test(a)){var c=NC.exec(a);if(c==null||e==null)o=void 0;else{var d=+c[1];o=e[1]+d}}else o=e==null?void 0:e[1];var h=[s,o];if(tu(h))return e==null?h:jI(h,e,n)}}}var yu=1e9,wre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},q1,it=!0,jr="[DecimalError] ",oo=jr+"Invalid argument: ",W1=jr+"Exponent out of range: ",vu=Math.floor,Bs=Math.pow,xre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or,Yt=1e7,Ze=7,EV=9007199254740991,xm=vu(EV/Ze),ce={};ce.absoluteValue=ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ce.comparedTo=ce.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ze;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ce.dividedBy=ce.div=function(t){return Gi(this,new this.constructor(t))};ce.dividedToIntegerBy=ce.idiv=function(t){var e=this,n=e.constructor;return qe(Gi(e,new n(t),0,1),n.precision)};ce.equals=ce.eq=function(t){return!this.cmp(t)};ce.exponent=function(){return Mt(this)};ce.greaterThan=ce.gt=function(t){return this.cmp(t)>0};ce.greaterThanOrEqualTo=ce.gte=function(t){return this.cmp(t)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(t){return this.cmp(t)<0};ce.lessThanOrEqualTo=ce.lte=function(t){return this.cmp(t)<1};ce.logarithm=ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(or))throw Error(jr+"NaN");if(n.s<1)throw Error(jr+(n.s?"NaN":"-Infinity"));return n.eq(or)?new r(0):(it=!1,e=Gi(Pd(n,a),Pd(t,a),a),it=!0,qe(e,i))};ce.minus=ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TV(e,t):SV(e,(t.s=-t.s,t))};ce.modulo=ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(jr+"NaN");return n.s?(it=!1,e=Gi(n,t,0,1).times(t),it=!0,n.minus(e)):qe(new r(n),i)};ce.naturalExponential=ce.exp=function(){return PV(this)};ce.naturalLogarithm=ce.ln=function(){return Pd(this)};ce.negated=ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ce.plus=ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SV(e,t):TV(e,(t.s=-t.s,t))};ce.precision=ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(oo+t);if(e=Mt(i)+1,r=i.d.length-1,n=r*Ze+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ce.squareRoot=ce.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(jr+"NaN")}for(t=Mt(o),it=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=fi(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Gi(o,a,s+2)).times(.5),fi(a.d).slice(0,s)===(e=fi(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(qe(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return it=!0,qe(r,n)};ce.times=ce.mul=function(t){var e,n,r,i,a,s,o,l,u,c=this,d=c.constructor,h=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Yt|0,e=o/Yt|0;a[i]=(a[i]+e)%Yt|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,it?qe(t,d.precision):t};ce.toDecimalPlaces=ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ti(t,0,yu),e===void 0?e=r.rounding:Ti(e,0,8),qe(n,t+Mt(n)+1,e))};ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Po(r,!0):(Ti(t,0,yu),e===void 0?e=i.rounding:Ti(e,0,8),r=qe(new i(r),t+1,e),n=Po(r,!0,t+1)),n};ce.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Po(i):(Ti(t,0,yu),e===void 0?e=a.rounding:Ti(e,0,8),r=qe(new a(i),t+Mt(i)+1,e),n=Po(r.abs(),!1,t+Mt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ce.toInteger=ce.toint=function(){var t=this,e=t.constructor;return qe(new e(t),Mt(t)+1,e.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(or);if(o=new l(o),!o.s){if(t.s<1)throw Error(jr+"Infinity");return o}if(o.eq(or))return o;if(r=l.precision,t.eq(or))return qe(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=c<0?-c:c)<=EV){for(i=new l(or),e=Math.ceil(r/Ze+4),it=!1;n%2&&(i=i.times(o),LI(i.d,e)),n=vu(n/2),n!==0;)o=o.times(o),LI(o.d,e);return it=!0,t.s<0?new l(or).div(i):qe(i,r)}}else if(a<0)throw Error(jr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,it=!1,i=t.times(Pd(o,r+u)),it=!0,i=PV(i),i.s=a,i};ce.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Mt(i),r=Po(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ti(t,1,yu),e===void 0?e=a.rounding:Ti(e,0,8),i=qe(new a(i),t,e),n=Mt(i),r=Po(i,t<=n||n<=a.toExpNeg,t)),r};ce.toSignificantDigits=ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ti(t,1,yu),e===void 0?e=r.rounding:Ti(e,0,8)),qe(new r(n),t,e)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mt(t),n=t.constructor;return Po(t,e<=n.toExpNeg||e>=n.toExpPos)};function SV(t,e){var n,r,i,a,s,o,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),it?qe(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(d/Ze),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Yt|0,l[a]%=Yt;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,it?qe(e,d):e}function Ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(oo+t)}function fi(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ze-r.length,n&&(a+=Aa(n)),a+=r;s=t[e],r=s+"",n=Ze-r.length,n&&(a+=Aa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Gi=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Yt|0,s=a/Yt|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Yt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,d,h,p,m,y,w,b,v,E,A,k,D,T,P,C=r.constructor,I=r.s==i.s?1:-1,N=r.d,j=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(jr+"Division by zero");for(l=r.e-i.e,T=j.length,k=N.length,p=new C(I),m=p.d=[],u=0;j[u]==(N[u]||0);)++u;if(j[u]>(N[u]||0)&&--l,a==null?v=a=C.precision:s?v=a+(Mt(r)-Mt(i))+1:v=a,v<0)return new C(0);if(v=v/Ze+2|0,u=0,T==1)for(c=0,j=j[0],v++;(u<k||c)&&v--;u++)E=c*Yt+(N[u]||0),m[u]=E/j|0,c=E%j|0;else{for(c=Yt/(j[0]+1)|0,c>1&&(j=t(j,c),N=t(N,c),T=j.length,k=N.length),A=T,y=N.slice(0,T),w=y.length;w<T;)y[w++]=0;P=j.slice(),P.unshift(0),D=j[0],j[1]>=Yt/2&&++D;do c=0,o=e(j,y,T,w),o<0?(b=y[0],T!=w&&(b=b*Yt+(y[1]||0)),c=b/D|0,c>1?(c>=Yt&&(c=Yt-1),d=t(j,c),h=d.length,w=y.length,o=e(d,y,h,w),o==1&&(c--,n(d,T<h?P:j,h))):(c==0&&(o=c=1),d=j.slice()),h=d.length,h<w&&d.unshift(0),n(y,d,w),o==-1&&(w=y.length,o=e(j,y,T,w),o<1&&(c++,n(y,T<w?P:j,w))),w=y.length):o===0&&(c++,y=[0]),m[u++]=c,o&&y[0]?y[w++]=N[A]||0:(y=[N[A]],w=1);while((A++<k||y[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=l,qe(p,s?a+Mt(p)+1:a)}}();function PV(t,e){var n,r,i,a,s,o,l=0,u=0,c=t.constructor,d=c.precision;if(Mt(t)>16)throw Error(W1+Mt(t));if(!t.s)return new c(or);for(it=!1,o=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Bs(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(or),c.precision=o;;){if(i=qe(i.times(t),o),n=n.times(++l),s=a.plus(Gi(i,n,o)),fi(s.d).slice(0,o)===fi(a.d).slice(0,o)){for(;u--;)a=qe(a.times(a),o);return c.precision=d,e==null?(it=!0,qe(a,d)):a}a=s}}function Mt(t){for(var e=t.e*Ze,n=t.d[0];n>=10;n/=10)e++;return e}function e0(t,e,n){if(e>t.LN10.sd())throw it=!0,n&&(t.precision=n),Error(jr+"LN10 precision limit exceeded");return qe(new t(t.LN10),e)}function Aa(t){for(var e="";t--;)e+="0";return e}function Pd(t,e){var n,r,i,a,s,o,l,u,c,d=1,h=10,p=t,m=p.d,y=p.constructor,w=y.precision;if(p.s<1)throw Error(jr+(p.s?"NaN":"-Infinity"));if(p.eq(or))return new y(0);if(e==null?(it=!1,u=w):u=e,p.eq(10))return e==null&&(it=!0),e0(y,u);if(u+=h,y.precision=u,n=fi(m),r=n.charAt(0),a=Mt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=fi(p.d),r=n.charAt(0),d++;a=Mt(p),r>1?(p=new y("0."+n),a++):p=new y(r+"."+n.slice(1))}else return l=e0(y,u+2,w).times(a+""),p=Pd(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=w,e==null?(it=!0,qe(p,w)):p;for(o=s=p=Gi(p.minus(or),p.plus(or),u),c=qe(p.times(p),u),i=3;;){if(s=qe(s.times(c),u),l=o.plus(Gi(s,new y(i),u)),fi(l.d).slice(0,u)===fi(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(e0(y,u+2,w).times(a+""))),o=Gi(o,new y(d),u),y.precision=w,e==null?(it=!0,qe(o,w)):o;o=l,i+=2}}function MI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vu(n/Ze),t.d=[],r=(n+1)%Ze,n<0&&(r+=Ze),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ze;r<i;)t.d.push(+e.slice(r,r+=Ze));e=e.slice(r),r=Ze-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),it&&(t.e>xm||t.e<-xm))throw Error(W1+n)}else t.s=0,t.e=0,t.d=[0];return t}function qe(t,e,n){var r,i,a,s,o,l,u,c,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ze,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Ze),a=d.length,c>=a)return t;for(u=a=d[c],s=1;a>=10;a/=10)s++;r%=Ze,i=r-Ze+s}if(n!==void 0&&(a=Bs(10,s-i-1),o=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Bs(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Mt(t),d.length=1,e=e-a-1,d[0]=Bs(10,(Ze-e%Ze)%Ze),t.e=vu(-e/Ze)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=Bs(10,Ze-r),d[c]=i>0?(u/Bs(10,s-i)%Bs(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Yt&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=Yt)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(it&&(t.e>xm||t.e<-xm))throw Error(W1+Mt(t));return t}function TV(t,e){var n,r,i,a,s,o,l,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),it?qe(e,p):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(p/Ze),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Yt-1;--l[a],l[i]+=Yt}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,it?qe(e,p):e):new h(0)}function Po(t,e,n){var r,i=Mt(t),a=fi(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Aa(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Aa(-i-1)+a,n&&(r=n-s)>0&&(a+=Aa(r))):i>=s?(a+=Aa(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Aa(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Aa(r))),t.s<0?"-"+a:a}function LI(t,e){if(t.length>e)return t.length=e,!0}function AV(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(oo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return MI(s,a.toString())}else if(typeof a!="string")throw Error(oo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,xre.test(a))MI(s,a);else throw Error(oo+a)}if(i.prototype=ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AV,i.config=i.set=_re,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _re(t){if(!t||typeof t!="object")throw Error(jr+"Object expected");var e,n,r,i=["precision",1,yu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(oo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oo+n+": "+r);return this}var q1=AV(wre);or=new q1(1);const Be=q1;var bre=t=>t,CV={},IV=t=>t===CV,VI=t=>function e(){return arguments.length===0||arguments.length===1&&IV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},kV=(t,e)=>t===1?e:VI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==CV).length;return a>=t?e(...r):kV(t-a,VI(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=r.map(c=>IV(c)?o.shift():c);return e(...u,...o)}))}),my=t=>kV(t.length,t),ux=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Ere=my((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Sre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return bre;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},cx=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),OV=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function NV(t){var e;return t===0?e=1:e=Math.floor(new Be(t).abs().log(10).toNumber())+1,e}function RV(t,e,n){for(var r=new Be(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}my((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});my((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});my((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var DV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},jV=(t,e,n)=>{if(t.lte(0))return new Be(0);var r=NV(t.toNumber()),i=new Be(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Be(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?new Be(l.toNumber()):new Be(Math.ceil(l.toNumber()))},Pre=(t,e,n)=>{var r=new Be(1),i=new Be(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Be(10).pow(NV(t)-1),i=new Be(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Be(Math.floor(t)))}else t===0?i=new Be(Math.floor((e-1)/2)):n||(i=new Be(Math.floor(t)));var s=Math.floor((e-1)/2),o=Sre(Ere(l=>i.add(new Be(l-s).mul(r)).toNumber()),ux);return o(0,e)},MV=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var s=jV(new Be(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Be(0):(o=new Be(e).add(n).div(2),o=o.sub(new Be(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new Be(n).sub(o).div(s).toNumber()),c=l+u+1;return c>r?MV(e,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:o.sub(new Be(l).mul(s)),tickMax:o.add(new Be(u).mul(s))})};function Tre(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,o]=DV([e,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...ux(0,r-1).map(()=>1/0)]:[...ux(0,r-1).map(()=>-1/0),o];return e>n?cx(l):l}if(s===o)return Pre(s,r,i);var{step:u,tickMin:c,tickMax:d}=MV(s,o,a,i,0),h=RV(c,d.add(new Be(.1).mul(u)),u);return e>n?cx(h):h}function Are(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=DV([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(e,2),l=jV(new Be(s).sub(a).div(o-1),i,0),u=[...RV(new Be(a),new Be(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?cx(u):u}var Cre=OV(Tre),Ire=OV(Are),LV=t=>t.rootProps.maxBarSize,kre=t=>t.rootProps.barGap,VV=t=>t.rootProps.barCategoryGap,Ore=t=>t.rootProps.barSize,uf=t=>t.rootProps.stackOffset,H1=t=>t.options.chartName,K1=t=>t.rootProps.syncId,$V=t=>t.rootProps.syncMethod,G1=t=>t.options.eventEmitter,Li={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ar={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},gy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Nre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Li.angleAxisId,includeHidden:!1,name:void 0,reversed:Li.reversed,scale:Li.scale,tick:Li.tick,tickCount:void 0,ticks:void 0,type:Li.type,unit:void 0},Rre={allowDataOverflow:ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,ticks:void 0,type:ar.type,unit:void 0},Dre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Li.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Li.scale,tick:Li.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jre={allowDataOverflow:ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,ticks:void 0,type:"category",unit:void 0},Y1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Dre:Nre,Q1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?jre:Rre,yy=t=>t.polarOptions,X1=F([fa,ha,zt],yL),FV=F([yy,X1],(t,e)=>{if(t!=null)return Tn(t.innerRadius,e,0)}),UV=F([yy,X1],(t,e)=>{if(t!=null)return Tn(t.outerRadius,e,e*.8)}),Mre=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},BV=F([yy],Mre);F([Y1,BV],gy);var zV=F([X1,FV,UV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});F([Q1,zV],gy);var WV=F([Re,yy,FV,UV,fa,ha],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=e;return{cx:Tn(s,i,i/2),cy:Tn(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),lt=(t,e)=>e,cf=(t,e,n)=>n;function J1(t){return t==null?void 0:t.id}var qt=t=>{var e=Re(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},wu=t=>t.tooltip.settings.axisId,tn=t=>{var e=qt(t),n=wu(t);return df(t,e,n)},qV=F([tn],t=>t==null?void 0:t.dataKey);function HV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=J1(o);u.forEach((d,h)=>{var p=a==null||i?h:String(Qe(d,a,null)),m=Qe(d,o.dataKey,0),y;s.has(p)?y=s.get(p):y={},Object.assign(y,{[c]:m}),s.set(p,y)})}}),Array.from(s.values())}function vy(t){return t.stackId!=null&&t.dataKey!=null}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){Lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e,n){return(e=Vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=$re(t,"string");return typeof e=="symbol"?e:e+""}function $re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dx=[0,"auto"],nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KV=(t,e)=>t.cartesianAxis.xAxis[e],ma=(t,e)=>{var n=KV(t,e);return n??nr},rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:tf},GV=(t,e)=>t.cartesianAxis.yAxis[e],ga=(t,e)=>{var n=GV(t,e);return n??rr},Fre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Z1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Fre},Pt=(t,e,n)=>{switch(e){case"xAxis":return ma(t,n);case"yAxis":return ga(t,n);case"zAxis":return Z1(t,n);case"angleAxis":return Y1(t,n);case"radiusAxis":return Q1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ure=(t,e,n)=>{switch(e){case"xAxis":return ma(t,n);case"yAxis":return ga(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},df=(t,e,n)=>{switch(e){case"xAxis":return ma(t,n);case"yAxis":return ga(t,n);case"angleAxis":return Y1(t,n);case"radiusAxis":return Q1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},YV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function eE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var wy=t=>t.graphicalItems.cartesianItems,Bre=F([lt,cf],eE),tE=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ff=F([wy,Pt,Bre],tE),QV=F([ff],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(vy)),XV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),JV=F([ff],XV),nE=t=>t.map(e=>e.data).filter(Boolean).flat(1),zre=F([ff],nE),rE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},iE=F([zre,py],rE),aE=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Qe(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Qe(i,r)}))):t.map(r=>({value:r})),xy=F([iE,Pt,ff],aE);function ZV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Lo(t){return t.filter(e=>Pi(e)||e instanceof Date).map(Number).filter(e=>pr(e)===!1)}function Wre(t,e,n){return!n||typeof e!="number"||pr(e)?[]:n.length?Lo(n.flatMap(r=>{var i=Qe(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!gr(a)||!gr(s)))return[e-a,e+s]})):[]}var qre=F([QV,py,tn],HV),e$=(t,e,n)=>{var r={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(J1);return[s,{stackedData:fZ(t,l,n),graphicalItems:o}]}))},fx=F([qre,QV,uf],e$),t$=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=yZ(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Hre=F([fx,Cs,lt],t$),n$=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(s=>{var o,l,u=(o=r[s.id])===null||o===void 0?void 0:o.filter(d=>ZV(i,d)),c=Qe(a,(l=e.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:Wre(a,c,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(a=>({value:Qe(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),_y=t=>t.errorBars,r$=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>ZV(n,r));F([JV,_y,lt],r$);var Kre=F([iE,Pt,JV,_y,lt],n$);function Gre(t){var{value:e}=t;if(Pi(e)||e instanceof Date)return e}var FI=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Lo(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yre=(t,e,n)=>{var r=t.map(Gre).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Qj(r))?BL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},sE=t=>{var e;if(t==null||!("domain"in t))return dx;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Lo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:dx},bm=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},i$=t=>t.referenceElements.dots,xu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Qre=F([i$,lt,cf],xu),a$=t=>t.referenceElements.areas,Xre=F([a$,lt,cf],xu),s$=t=>t.referenceElements.lines,Jre=F([s$,lt,cf],xu),o$=(t,e)=>{var n=Lo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zre=F(Qre,lt,o$),l$=(t,e)=>{var n=Lo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},eie=F([Xre,lt],l$),u$=(t,e)=>{var n=Lo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tie=F(Jre,lt,u$),nie=F(Zre,tie,eie,(t,e,n)=>bm(t,n,e)),c$=F([Pt],sE),oE=(t,e,n,r,i,a,s)=>{var o=yre(e,t.allowDataOverflow);if(o!=null)return o;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=l?bm(n,i,FI(r)):bm(i,FI(r));return vre(e,u,t.allowDataOverflow)},rie=F([Pt,c$,Hre,Kre,nie,Re,lt],oE),iie=[0,1],lE=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,u=Ss(e,a);return u&&o==null?BL(0,n.length):l==="category"?Yre(r,t,u):i==="expand"?iie:s}},uE=F([Pt,Re,iE,xy,uf,lt,rie],lE),d$=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Jd(a));return o in yc?o:"point"}}},_u=F([Pt,Re,YV,H1,lt],d$);function aie(t){if(t!=null){if(t in yc)return yc[t]();var e="scale".concat(Jd(t));if(e in yc)return yc[e]()}}function cE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=aie(e);if(i!=null){var a=i.domain(n).range(r);return oZ(a),a}}}var dE=(t,e,n)=>{var r=sE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&tu(t))return Cre(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&tu(t))return Ire(t,e.tickCount,e.allowDecimals)}},fE=F([uE,df,_u],dE),hE=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&tu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},sie=F([Pt,uE,fE,lt],hE),oie=F(xy,Pt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Lo(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),f$=F(oie,Re,VV,zt,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!gr(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Tn(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),lie=(t,e)=>{var n=ma(t,e);return n==null||typeof n.padding!="string"?0:f$(t,"xAxis",e,n.padding)},uie=(t,e)=>{var n=ga(t,e);return n==null||typeof n.padding!="string"?0:f$(t,"yAxis",e,n.padding)},cie=F(ma,lie,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),die=F(ga,uie,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),fie=F([zt,cie,sy,ay,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),hie=F([zt,Re,die,sy,ay,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),hf=(t,e,n,r)=>{var i;switch(e){case"xAxis":return fie(t,n,r);case"yAxis":return hie(t,n,r);case"zAxis":return(i=Z1(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return BV(t);case"radiusAxis":return zV(t,n);default:return}},h$=F([Pt,hf],gy),bu=F([Pt,_u,sie,h$],cE);F([ff,_y,lt],r$);function p$(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var by=(t,e)=>e,Ey=(t,e,n)=>n,pie=F(ry,by,Ey,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(p$)),mie=F(iy,by,Ey,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(p$)),m$=(t,e)=>({width:t.width,height:e.height}),gie=(t,e)=>{var n=typeof e.width=="number"?e.width:tf;return{width:n,height:t.height}},g$=F(zt,ma,m$),yie=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},vie=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},wie=F(ha,zt,pie,by,Ey,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=m$(e,o);s==null&&(s=yie(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),xie=F(fa,zt,mie,by,Ey,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=gie(e,o);s==null&&(s=vie(e,r,t));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),_ie=(t,e)=>{var n=ma(t,e);if(n!=null)return wie(t,n.orientation,n.mirror)},bie=F([zt,ma,_ie,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Eie=(t,e)=>{var n=ga(t,e);if(n!=null)return xie(t,n.orientation,n.mirror)},Sie=F([zt,ga,Eie,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),y$=F(zt,ga,(t,e)=>{var n=typeof e.width=="number"?e.width:tf;return{width:n,height:t.height}}),UI=(t,e,n)=>{switch(e){case"xAxis":return g$(t,n).width;case"yAxis":return y$(t,n).height;default:return}},v$=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Ss(t,r),l=e.map(u=>u.value);if(s&&o&&a==="category"&&i&&Qj(l))return l}},pE=F([Re,xy,Pt,lt],v$),w$=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ss(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},mE=F([Re,xy,df,lt],w$),BI=F([Re,Ure,_u,bu,pE,mE,hf,fE,lt],(t,e,n,r,i,a,s,o,l)=>{if(e==null)return null;var u=Ss(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}),Pie=(t,e,n,r,i,a,s,o,l)=>{if(!(e==null||r==null)){var u=Ss(t,l),{type:c,ticks:d,tickCount:h}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?Jt(a[0]-a[1])*2*m:m;var y=d||i;if(y){var w=y.map((b,v)=>{var E=s?s.indexOf(b):b;return{index:v,coordinate:r(E)+m,value:b,offset:m}});return w.filter(b=>!pr(b.coordinate))}return u&&o?o.map((b,v)=>({coordinate:r(b)+m,value:b,index:v,offset:m})):r.ticks?r.ticks(h).map(b=>({coordinate:r(b)+m,value:b,offset:m})):r.domain().map((b,v)=>({coordinate:r(b)+m,value:s?s[b]:b,index:v,offset:m}))}},x$=F([Re,df,_u,bu,fE,hf,pE,mE,lt],Pie),Tie=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Ss(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Jt(r[0]-r[1])*2*u:u,o&&a?a.map((c,d)=>({coordinate:n(c)+u,value:c,index:d,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,d)=>({coordinate:n(c)+u,value:i?i[c]:c,index:d,offset:u}))}},cs=F([Re,df,bu,hf,pE,mE,lt],Tie),ds=F(Pt,bu,(t,e)=>{if(!(t==null||e==null))return _m(_m({},t),{},{scale:e})}),Aie=F([Pt,_u,uE,h$],cE);F((t,e,n)=>Z1(t,n),Aie,(t,e)=>{if(!(t==null||e==null))return _m(_m({},t),{},{scale:e})});var Cie=F([Re,ry,iy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_$=t=>t.options.defaultTooltipEventType,b$=t=>t.options.validateTooltipEventTypes;function E$(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function gE(t,e){var n=_$(t),r=b$(t);return E$(e,n,r)}function Iie(t){return he(e=>gE(e,t))}var S$=(t,e)=>{var n,r=Number(e);if(!(pr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},kie=t=>t.tooltip.settings,Ma={active:!1,index:null,dataKey:void 0,coordinate:void 0},Oie={itemInteraction:{click:Ma,hover:Ma},axisInteraction:{click:Ma,hover:Ma},keyboardInteraction:Ma,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P$=wr({name:"tooltip",initialState:Oie,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ki(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Nie,removeTooltipEntrySettings:Rie,setTooltipSettingsState:Die,setActiveMouseOverItemIndex:T$,mouseLeaveItem:jie,mouseLeaveChart:A$,setActiveClickItemIndex:Mie,setMouseOverAxisIndex:C$,setMouseClickAxisIndex:Lie,setSyncInteraction:hx,setKeyboardInteraction:px}=P$.actions,Vie=P$.reducer;function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){$ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=Uie(t,"string");return typeof e=="symbol"?e:e+""}function Uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bie(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function zie(t){return t.index!=null}var I$=(t,e,n,r)=>{if(e==null)return Ma;var i=Bie(t,e,n);if(i==null)return Ma;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(zie(i)){if(a)return _h(_h({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return _h(_h({},Ma),{},{coordinate:i.coordinate})},yE=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!gr(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},k$=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},O$=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},pf=t=>t.options.tooltipPayloadSearcher,Eu=t=>t.tooltip;function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return(e=qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=Hie(t,"string");return typeof e=="symbol"?e:e+""}function Hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kie(t,e){return t??e}var N$=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return t.reduce((h,p)=>{var m,{dataDefinedOnItem:y,settings:w}=p,b=Kie(y,o),v=Array.isArray(b)?vL(b,u,c):b,E=(m=w==null?void 0:w.dataKey)!==null&&m!==void 0?m:r,A=w==null?void 0:w.nameKey,k;if(r&&Array.isArray(v)&&!Array.isArray(v[0])&&s==="axis"?k=Xj(v,r,i):k=a(v,e,l,A),Array.isArray(k))k.forEach(T=>{var P=qI(qI({},w),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});h.push(RC({tooltipEntrySettings:P,dataKey:T.dataKey,payload:T.payload,value:Qe(T.payload,T.dataKey),name:T.name}))});else{var D;h.push(RC({tooltipEntrySettings:w,dataKey:E,payload:k,value:Qe(k,E),name:(D=Qe(k,A))!==null&&D!==void 0?D:w==null?void 0:w.name}))}return h},d)}},vE=F([tn,Re,YV,H1,qt],d$),Gie=F([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Yie=F([qt,wu],eE),mf=F([Gie,tn,Yie],tE),Qie=F([mf],t=>t.filter(vy)),Xie=F([mf],nE),Su=F([Xie,Cs],rE),Jie=F([Qie,Cs,tn],HV),wE=F([Su,tn,mf],aE),Zie=F([tn],sE),eae=F([mf],t=>t.filter(vy)),tae=F([Jie,eae,uf],e$),nae=F([tae,Cs,qt],t$),rae=F([mf],XV),iae=F([Su,tn,rae,_y,qt],n$),aae=F([i$,qt,wu],xu),sae=F([aae,qt],o$),oae=F([a$,qt,wu],xu),lae=F([oae,qt],l$),uae=F([s$,qt,wu],xu),cae=F([uae,qt],u$),dae=F([sae,cae,lae],bm),fae=F([tn,Zie,nae,iae,dae,Re,qt],oE),R$=F([tn,Re,Su,wE,uf,qt,fae],lE),hae=F([R$,tn,vE],dE),pae=F([tn,R$,hae,qt],hE),D$=t=>{var e=qt(t),n=wu(t),r=!1;return hf(t,e,n,r)},j$=F([tn,D$],gy),M$=F([tn,vE,pae,j$],cE),mae=F([Re,wE,tn,qt],v$),gae=F([Re,wE,tn,qt],w$),yae=(t,e,n,r,i,a,s,o)=>{if(e){var{type:l}=e,u=Ss(t,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Jt(i[0]-i[1])*2*d:d,u&&s?s.map((h,p)=>({coordinate:r(h)+d,value:h,index:p,offset:d})):r.domain().map((h,p)=>({coordinate:r(h)+d,value:a?a[h]:h,index:p,offset:d}))}}},ya=F([Re,tn,vE,M$,D$,mae,gae,qt],yae),xE=F([_$,b$,kie],(t,e,n)=>E$(n.shared,t,e)),L$=t=>t.tooltip.settings.trigger,_E=t=>t.tooltip.settings.defaultIndex,Sy=F([Eu,xE,L$,_E],I$),fs=F([Sy,Su],yE),V$=F([ya,fs],S$),$$=F([Sy],t=>{if(t)return t.dataKey}),F$=F([Eu,xE,L$,_E],O$),vae=F([fa,ha,Re,zt,ya,_E,F$,pf],k$),wae=F([Sy,vae],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),xae=F([Sy],t=>t.active),_ae=F([F$,fs,Cs,qV,V$,pf,xE],N$),bae=F([_ae],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){Eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eae(t,e,n){return(e=Sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tae=()=>he(tn),Aae=()=>{var t=Tae(),e=he(ya),n=he(M$);return wd(KI(KI({},t),{},{scale:n}),e)},Cae=()=>he(H1),bE=(t,e)=>e,U$=(t,e,n)=>n,EE=(t,e,n,r)=>r,Iae=F(ya,t=>Xg(t,e=>e.coordinate)),SE=F([Eu,bE,U$,EE],I$),B$=F([SE,Su],yE),kae=(t,e,n)=>{if(e!=null){var r=Eu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},z$=F([Eu,bE,U$,EE],O$),Em=F([fa,ha,Re,zt,ya,EE,z$,pf],k$),Oae=F([SE,Em],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),W$=F(ya,B$,S$),Nae=F([z$,B$,Cs,qV,W$,pf,bE],N$),Rae=F([SE],t=>({isActive:t.active,activeIndex:t.index})),Dae=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a)){var l=vZ(t.chartX,t.chartY,e,n,o);if(l){var u=xZ(l,e),c=aZ(u,s,a,r,i),d=wZ(e,a,c,l);return{activeIndex:String(c),activeCoordinate:d}}}};function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(null,arguments)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jae(t,e,n){return(e=Mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t){var e=Lae(t,"string");return typeof e=="symbol"?e:e+""}function Lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vae(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:s,cursor:o,tooltipEventType:l,chartName:u}=t,c=e,d=n,h=r;if(!o||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,m;if(u==="ScatterChart")p=c,m=oee;else if(u==="BarChart")p=lee(s,c,i,a),m=jL;else if(s==="radial"){var{cx:y,cy:w,radius:b,startAngle:v,endAngle:E}=ML(c);p={cx:y,cy:w,startAngle:v,endAngle:E,innerRadius:b,outerRadius:b},m=VL}else p={points:Uee(s,c,i)},m=w1;var A=typeof o=="object"&&"className"in o?o.className:void 0,k=bh(bh(bh(bh({stroke:"#ccc",pointerEvents:"none"},i),p),pt(o,!1)),{},{payload:d,payloadIndex:h,className:$e("recharts-tooltip-cursor",A)});return _.isValidElement(o)?_.cloneElement(o,k):_.createElement(m,k)}function $ae(t){var e=Aae(),n=SL(),r=oy(),i=Cae();return _.createElement(Vae,mx({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var q$=_.createContext(null),Fae=()=>_.useContext(q$),H$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,p,m){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],b=arguments.length,v,E;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,d),!0;case 4:return w.fn.call(w.context,c,d,h),!0;case 5:return w.fn.call(w.context,c,d,h,p),!0;case 6:return w.fn.call(w.context,c,d,h,p,m),!0}for(E=1,v=new Array(b-1);E<b;E++)v[E-1]=arguments[E];w.fn.apply(w.context,v)}else{var A=w.length,k;for(E=0;E<A;E++)switch(w[E].once&&this.removeListener(u,w[E].fn,void 0,!0),b){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,c);break;case 3:w[E].fn.call(w[E].context,c,d);break;case 4:w[E].fn.call(w[E].context,c,d,h);break;default:if(!v)for(k=1,v=new Array(b-1);k<b;k++)v[k-1]=arguments[k];w[E].fn.apply(w[E].context,v)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&s(this,p);else{for(var y=0,w=[],b=m.length;y<b;y++)(m[y].fn!==c||h&&!m[y].once||d&&m[y].context!==d)&&w.push(m[y]);w.length?this._events[p]=w.length===1?w[0]:w:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(H$);var Uae=H$.exports;const Bae=ua(Uae);var Td=new Bae,gx="recharts.syncEvent.tooltip",YI="recharts.syncEvent.brush";function PE(t,e){if(e){var n=Number.parseInt(e,10);if(!pr(n))return t==null?void 0:t[n]}}var zae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},K$=wr({name:"options",initialState:zae,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Wae=K$.reducer,{createEventEmitter:qae}=K$.actions;function Hae(t){return t.tooltip.syncInteraction}var Kae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},G$=wr({name:"chartData",initialState:Kae,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:QI,setDataStartEndIndexes:Gae,setComputedData:Tpe}=G$.actions,Yae=G$.reducer,Qae=["x","y"];function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xae(t,e,n){return(e=Jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=Zae(t,"string");return typeof e=="symbol"?e:e+""}function Zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ese(t,e){if(t==null)return{};var n,r,i=tse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Y$=()=>{};function nse(){var t=he(K1),e=he(G1),n=St(),r=he($V),i=he(ya),a=oy(),s=v1(),o=he(l=>l.rootProps.className);_.useEffect(()=>{if(t==null)return Y$;var l=(u,c,d)=>{if(e!==d&&t===u){if(r==="index"){var h;if(s&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate){var p=c.payload.coordinate,{x:m,y}=p,w=ese(p,Qae),b=js(js(js({},w),typeof m=="number"&&{x:Math.max(s.x,Math.min(m,s.x+s.width))}),typeof y=="number"&&{y:Math.max(s.y,Math.min(y,s.y+s.height))}),v=js(js({},c),{},{payload:js(js({},c.payload),{},{coordinate:b})});n(v)}else n(c);return}if(i!=null){var E;if(typeof r=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},k=r(i,A);E=i[k]}else r==="value"&&(E=i.find(O=>String(O.value)===c.payload.label));var{coordinate:D}=c.payload;if(E==null||c.payload.active===!1||D==null||s==null){n(hx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:T,y:P}=D,C=Math.min(T,s.x+s.width),I=Math.min(P,s.y+s.height),N={x:a==="horizontal"?E.coordinate:C,y:a==="horizontal"?I:E.coordinate},j=hx({active:c.payload.active,coordinate:N,dataKey:c.payload.dataKey,index:String(E.index),label:c.payload.label});n(j)}}};return Td.on(gx,l),()=>{Td.off(gx,l)}},[o,n,e,t,r,i,a,s])}function rse(){var t=he(K1),e=he(G1),n=St();_.useEffect(()=>{if(t==null)return Y$;var r=(i,a,s)=>{e!==s&&t===i&&n(Gae(a))};return Td.on(YI,r),()=>{Td.off(YI,r)}},[n,e,t])}function ise(){var t=St();_.useEffect(()=>{t(qae())},[t]),nse(),rse()}function ase(t,e,n,r,i,a){var s=he(h=>kae(h,t,e)),o=he(G1),l=he(K1),u=he($V),c=he(Hae),d=c==null?void 0:c.active;_.useEffect(()=>{if(!d&&l!=null&&o!=null){var h=hx({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Td.emit(gx,l,h,o)}},[d,n,s,i,r,o,l,u,a])}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t,e,n){return(e=ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function use(t){return t.dataKey}function cse(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement($Z,e)}var ek=[],dse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ps.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Eh(t){var e=hn(t,dse),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:l,offset:u,payloadUniqBy:c,position:d,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:y,shared:w,trigger:b,defaultIndex:v,portal:E,axisId:A}=e,k=St(),D=typeof v=="number"?String(v):v;_.useEffect(()=>{k(Die({shared:w,trigger:b,axisId:A,active:n,defaultIndex:D}))},[k,w,b,A,n,D]);var T=v1(),P=kL(),C=Iie(w),{activeIndex:I,isActive:N}=he(G=>Rae(G,C,b,D)),j=he(G=>Nae(G,C,b,D)),O=he(G=>W$(G,C,b,D)),H=he(G=>Oae(G,C,b,D)),B=j,Z=Fae(),ne=n??N,[L,z]=YX([B,ne]),re=C==="axis"?O:void 0;ase(C,b,H,re,I,ne);var de=E??Z;if(de==null)return null;var X=B??ek;ne||(X=ek),o&&X.length&&(X=hX(B.filter(G=>G.value!=null&&(G.hide!==!0||e.includeHidden)),c,use));var Ee=X.length>0,Tt=_.createElement(HZ,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:ne,coordinate:H,hasPayload:Ee,offset:u,position:d,reverseDirection:h,useTranslate3d:p,viewBox:T,wrapperStyle:m,lastBoundingBox:L,innerRef:z,hasPortalFromProps:!!E},cse(s,ZI(ZI({},e),{},{payload:X,label:re,active:ne,coordinate:H,accessibilityLayer:P})));return _.createElement(_.Fragment,null,vR.createPortal(Tt,de),ne&&_.createElement($ae,{cursor:y,tooltipEventType:C,coordinate:H,payload:B,index:I}))}var Q$={},X$={},J$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},d=()=>{u&&c(),y()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{m(),s=void 0,o=null},w=()=>{c()},b=function(...v){if(i!=null&&i.aborted)return;s=this,o=v;const E=h==null;p(),l&&E&&c()};return b.schedule=p,b.cancel=y,b.flush=w,i==null||i.addEventListener("abort",y,{once:!0}),b}t.debounce=e})(J$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J$;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,d=null;const h=e.debounce(function(...y){c=r.apply(this,y),d=null},i,{edges:u}),p=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,y),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,y),c)},m=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=m,p}t.debounce=n})(X$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X$;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(Q$);var fse=Q$.throttle;const hse=ua(fse);var Mc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pse(t,e,n){return(e=mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mse(t){var e=gse(t,"string");return typeof e=="symbol"?e:e+""}function gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:p,style:m={}}=t,y=_.useRef(null),w=_.useRef();w.current=p,_.useImperativeHandle(e,()=>y.current);var[b,v]=_.useState({containerWidth:r.width,containerHeight:r.height}),E=_.useCallback((k,D)=>{v(T=>{var P=Math.round(k),C=Math.round(D);return T.containerWidth===P&&T.containerHeight===C?T:{containerWidth:P,containerHeight:C}})},[]);_.useEffect(()=>{var k=C=>{var I,{width:N,height:j}=C[0].contentRect;E(N,j),(I=w.current)===null||I===void 0||I.call(w,N,j)};c>0&&(k=hse(k,c,{trailing:!0,leading:!1}));var D=new ResizeObserver(k),{width:T,height:P}=y.current.getBoundingClientRect();return E(T,P),D.observe(y.current),()=>{D.disconnect()}},[E,c]);var A=_.useMemo(()=>{var{containerWidth:k,containerHeight:D}=b;if(k<0||D<0)return null;Mc(Ys(i)||Ys(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Mc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var T=Ys(i)?k:i,P=Ys(a)?D:a;return n&&n>0&&(T?P=T/n:P&&(T=P*n),l&&P>l&&(P=l)),Mc(T>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,i,a,s,o,n),_.Children.map(u,C=>_.cloneElement(C,{width:T,height:P,style:t0({width:T,height:P},C.props.style)}))},[n,u,a,l,o,s,b,i]);return _.createElement("div",{id:d?"".concat(d):void 0,className:$e("recharts-responsive-container",h),style:t0(t0({},m),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:y},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),lo=t=>null;lo.displayName="Cell";function yse(t,e,n){return(e=vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xse{constructor(e){yse(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pse={cacheSize:2e3,enableCache:!0},Z$=_se({},Pse),rk=new xse(Z$.cacheSize),Tse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ik="recharts_measurement_span";function Ase(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var ak=(t,e)=>{try{var n=document.getElementById(ik);n||(n=document.createElement("span"),n.setAttribute("id",ik),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Tse,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ps.isSsr)return{width:0,height:0};if(!Z$.enableCache)return ak(e,n);var r=Ase(e,n),i=rk.get(r);if(i)return i;var a=ak(e,n);return rk.set(r,a),a},sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ise=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,e4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kse=Object.keys(e4),gl="NaN";function Ose(t,e){return t*e4[e]}class Bn{static parse(e){var n,[,r,i]=(n=Ise.exec(e))!==null&&n!==void 0?n:[];return new Bn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,pr(e)&&(this.unit=""),n!==""&&!Cse.test(n)&&(this.num=NaN,this.unit=""),kse.includes(n)&&(this.num=Ose(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pr(this.num)}}function t4(t){if(t.includes(gl))return gl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=sk.exec(e))!==null&&n!==void 0?n:[],s=Bn.parse(r??""),o=Bn.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return gl;e=e.replace(sk,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,d,h]=(u=ok.exec(e))!==null&&u!==void 0?u:[],p=Bn.parse(c??""),m=Bn.parse(h??""),y=d==="+"?p.add(m):p.subtract(m);if(y.isNaN())return gl;e=e.replace(ok,y.toString())}return e}var lk=/\(([^()]*)\)/;function Nse(t){for(var e=t,n;(n=lk.exec(e))!=null;){var[,r]=n;e=e.replace(lk,t4(r))}return e}function Rse(t){var e=t.replace(/\s+/g,"");return e=Nse(e),e=t4(e),e}function Dse(t){try{return Rse(t)}catch{return gl}}function n0(t){var e=Dse(t.slice(5,-1));return e===gl?"":e}var jse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mse=["dx","dy","angle","className","breakAll"];function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yx.apply(null,arguments)}function uk(t,e){if(t==null)return{};var n,r,i=Lse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var n4=/[ \f\n\r\t\v\u2028\u2029]+/,r4=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];st(e)||(n?i=e.toString().split(""):i=e.toString().split(n4));var a=i.map(o=>({word:o,width:Lc(o,r).width})),s=n?0:Lc(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Vse=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,u=pe(a),c=s,d=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((j,O)=>{var{word:H,width:B}=O,Z=j[j.length-1];if(Z&&(r==null||i||Z.width+B+n<Number(r)))Z.words.push(H),Z.width+=B+n;else{var ne={words:[H],width:B};j.push(ne)}return j},[])},h=d(e),p=I=>I.reduce((N,j)=>N.width>j.width?N:j);if(!u||i)return h;var m=h.length>a||p(h).width>Number(r);if(!m)return h;for(var y="…",w=I=>{var N=c.slice(0,I),j=r4({breakAll:l,style:o,children:N+y}).wordsWithComputedWidth,O=d(j),H=O.length>a||p(O).width>Number(r);return[H,O]},b=0,v=c.length-1,E=0,A;b<=v&&E<=c.length-1;){var k=Math.floor((b+v)/2),D=k-1,[T,P]=w(D),[C]=w(k);if(!T&&!C&&(b=k+1),T&&C&&(v=k-1),!T&&C){A=P;break}E++}return A||h},ck=t=>{var e=st(t)?[]:t.toString().split(n4);return[{words:e}]},$se=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!Ps.isSsr){var o,l,u=r4({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;o=c,l=d}else return ck(r);return Vse({breakAll:a,children:r,maxLines:s,style:i},o,l,e,n)}return ck(r)},dk="#808080",Py=_.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:u=dk}=t,c=uk(t,jse),d=_.useMemo(()=>$se({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:s,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,s,c.style,c.width]),{dx:h,dy:p,angle:m,className:y,breakAll:w}=c,b=uk(c,Mse);if(!Pi(n)||!Pi(r)||d.length===0)return null;var v=n+(pe(h)?h:0),E=r+(pe(p)?p:0),A;switch(l){case"start":A=n0("calc(".concat(a,")"));break;case"middle":A=n0("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:A=n0("calc(".concat(d.length-1," * -").concat(i,")"));break}var k=[];if(s){var D=d[0].width,{width:T}=c;k.push("scale(".concat(pe(T)?T/D:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(v,", ").concat(E,")")),k.length&&(b.transform=k.join(" ")),_.createElement("text",yx({},pt(b,!0),{ref:e,x:v,y:E,className:$e("recharts-text",y),textAnchor:o,fill:u.includes("url")?dk:u}),d.map((P,C)=>{var I=P.words.join(w?"":" ");return _.createElement("tspan",{x:v,dy:C===0?A:i,key:"".concat(I,"-").concat(C)},I)}))});Py.displayName="Text";var Fse=["labelRef"];function Use(t,e){if(t==null)return{};var n,r,i=Bse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zse(t,e,n){return(e=Wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wse(t){var e=qse(t,"string");return typeof e=="symbol"?e:e+""}function qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vi.apply(null,arguments)}var i4=_.createContext(null),Hse=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,s=_.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return _.createElement(i4.Provider,{value:s},a)},a4=()=>{var t=_.useContext(i4),e=v1();return t||e},Kse=_.createContext(null),Gse=()=>{var t=_.useContext(Kse),e=he(WV);return t||e},Yse=t=>{var{value:e,formatter:n}=t,r=st(t.children)?e:t.children;return typeof n=="function"?n(r):r},TE=t=>t!=null&&typeof t=="function",Qse=(t,e)=>{var n=Jt(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Xse=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:p}=i,m=(u+c)/2,y=Qse(d,h),w=y>=0?1:-1,b,v;switch(e){case"insideStart":b=d+w*a,v=p;break;case"insideEnd":b=h-w*a,v=!p;break;case"end":b=h+w*a,v=p;break;default:throw new Error("Unsupported position ".concat(e))}v=y<=0?v:!v;var E=jt(o,l,m,b),A=jt(o,l,m,b+(v?1:-1)*359),k="M".concat(E.x,",").concat(E.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(v?0:1,`,
    `).concat(A.x,",").concat(A.y),D=st(t.id)?gd("recharts-radial-line-"):t.id;return _.createElement("text",Vi({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",s)}),_.createElement("defs",null,_.createElement("path",{id:D,d:k})),_.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Jse=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(n==="outside"){var{x:c,y:d}=jt(r,i,s+e,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:m}=jt(r,i,h,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},s4=t=>"cx"in t&&pe(t.cx),Zse=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!s4(n)&&(a=n);var{x:s,y:o,width:l,height:u}=e,c=u>=0?1:-1,d=c*r,h=c>0?"end":"start",p=c>0?"start":"end",m=l>=0?1:-1,y=m*r,w=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var v={x:s+l/2,y:o-c*r,textAnchor:"middle",verticalAnchor:h};return xt(xt({},v),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var E={x:s+l/2,y:o+u+d,textAnchor:"middle",verticalAnchor:p};return xt(xt({},E),a?{height:Math.max(a.y+a.height-(o+u),0),width:l}:{})}if(i==="left"){var A={x:s-y,y:o+u/2,textAnchor:w,verticalAnchor:"middle"};return xt(xt({},A),a?{width:Math.max(A.x-a.x,0),height:u}:{})}if(i==="right"){var k={x:s+l+y,y:o+u/2,textAnchor:b,verticalAnchor:"middle"};return xt(xt({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:u}:{})}var D=a?{width:l,height:u}:{};return i==="insideLeft"?xt({x:s+y,y:o+u/2,textAnchor:b,verticalAnchor:"middle"},D):i==="insideRight"?xt({x:s+l-y,y:o+u/2,textAnchor:w,verticalAnchor:"middle"},D):i==="insideTop"?xt({x:s+l/2,y:o+d,textAnchor:"middle",verticalAnchor:p},D):i==="insideBottom"?xt({x:s+l/2,y:o+u-d,textAnchor:"middle",verticalAnchor:h},D):i==="insideTopLeft"?xt({x:s+y,y:o+d,textAnchor:b,verticalAnchor:p},D):i==="insideTopRight"?xt({x:s+l-y,y:o+d,textAnchor:w,verticalAnchor:p},D):i==="insideBottomLeft"?xt({x:s+y,y:o+u-d,textAnchor:b,verticalAnchor:h},D):i==="insideBottomRight"?xt({x:s+l-y,y:o+u-d,textAnchor:w,verticalAnchor:h},D):i&&typeof i=="object"&&(pe(i.x)||Ys(i.x))&&(pe(i.y)||Ys(i.y))?xt({x:s+Tn(i.x,l),y:o+Tn(i.y,u),textAnchor:"end",verticalAnchor:"end"},D):xt({x:s+l/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},eoe={offset:5};function Ca(t){var e=hn(t,eoe),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=e,c=Gse(),d=a4(),h=r==="center"?d:c??d,p=n||h;if(!p||st(i)&&st(a)&&!_.isValidElement(s)&&typeof s!="function")return null;var m=xt(xt({},e),{},{viewBox:p});if(_.isValidElement(s)){var{labelRef:y}=m,w=Use(m,Fse);return _.cloneElement(s,w)}var b;if(typeof s=="function"){if(b=_.createElement(s,m),_.isValidElement(b))return b}else b=Yse(e);var v=s4(p),E=pt(e,!0);if(v&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Xse(e,r,b,E,p);var A=v?Jse(p,e.offset,e.position):Zse(e,p);return _.createElement(Py,Vi({ref:u,className:$e("recharts-label",o)},E,A,{breakAll:l}),b)}Ca.displayName="Label";var toe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Ca,Vi({key:"label-implicit"},r)):Pi(t)?_.createElement(Ca,Vi({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Ca?_.cloneElement(t,xt({key:"label-implicit"},r)):_.createElement(Ca,Vi({key:"label-implicit",content:t},r)):TE(t)?_.createElement(Ca,Vi({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Ca,Vi({},t,{key:"label-implicit"},r)):null};function noe(t){var{label:e}=t,n=a4();return toe(e,n)||null}var o4={},l4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(l4);var u4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(u4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l4,n=u4,r=Yg;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(o4);var roe=o4.last;const ioe=ua(roe);var aoe=["valueAccessor"],soe=["dataKey","clockWise","id","textBreakAll"];function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(null,arguments)}function hk(t,e){if(t==null)return{};var n,r,i=ooe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var loe=t=>Array.isArray(t.value)?ioe(t.value):t.value,c4=_.createContext(void 0),d4=c4.Provider,f4=_.createContext(void 0),uoe=f4.Provider;function coe(){return _.useContext(c4)}function doe(){return _.useContext(f4)}function Zh(t){var{valueAccessor:e=loe}=t,n=hk(t,aoe),{dataKey:r,clockWise:i,id:a,textBreakAll:s}=n,o=hk(n,soe),l=coe(),u=doe(),c=l||u;return!c||!c.length?null:_.createElement(fn,{className:"recharts-label-list"},c.map((d,h)=>{var p,m=st(r)?e(d,h):Qe(d&&d.payload,r),y=st(a)?{}:{id:"".concat(a,"-").concat(h)};return _.createElement(Ca,Sm({},pt(d,!0),o,y,{fill:(p=n.fill)!==null&&p!==void 0?p:d.fill,parentViewBox:d.parentViewBox,value:m,textBreakAll:s,viewBox:d.viewBox,key:"label-".concat(h),index:h}))}))}Zh.displayName="LabelList";function AE(t){var{label:e}=t;return e?e===!0?_.createElement(Zh,{key:"labelList-implicit"}):_.isValidElement(e)||TE(e)?_.createElement(Zh,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Zh,Sm({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vx.apply(null,arguments)}var h4=t=>{var{cx:e,cy:n,r,className:i}=t,a=$e("recharts-dot",i);return e===+e&&n===+n&&r===+r?_.createElement("circle",vx({},ki(t),Yb(t),{className:a,cx:e,cy:n,r})):null},p4=t=>t.graphicalItems.polarItems,foe=F([lt,cf],eE),CE=F([p4,Pt,foe],tE),hoe=F([CE],nE),IE=F([hoe,z1],rE),poe=F([IE,Pt,CE],aE),moe=F([IE,Pt,CE],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=Qe(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Qe(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),pk=()=>{},goe=F([Pt,c$,pk,moe,pk,Re,lt],oE),m4=F([Pt,Re,IE,poe,uf,lt,goe],lE),yoe=F([m4,Pt,_u],dE);F([Pt,m4,yoe,lt],hE);var voe={radiusAxis:{},angleAxis:{}},g4=wr({name:"polarAxis",initialState:voe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ape,removeRadiusAxis:Cpe,addAngleAxis:Ipe,removeAngleAxis:kpe}=g4.actions,woe=g4.reducer;function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xoe(t,e,n){return(e=_oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _oe(t){var e=boe(t,"string");return typeof e=="symbol"?e:e+""}function boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eoe=(t,e)=>e,kE=F([p4,Eoe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Soe=[],OE=(t,e,n)=>(n==null?void 0:n.length)===0?Soe:n,y4=F([z1,kE,OE],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>gk(gk({},e.presentationProps),a.props))),i!=null)return i}}),Poe=F([y4,kE,OE],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=Qe(r,e.nameKey,e.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:mu(s,e.dataKey),color:o,payload:r,type:e.legendType}})}),Toe=F([y4,kE,OE,zt],(t,e,n,r)=>{if(!(e==null||t==null))return _le({offset:r,pieSettings:e,displayedData:t,cells:n})}),v4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(v4);var Aoe=v4.isPlainObject;const Coe=ua(Aoe);function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ioe(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Ooe(t,"string");return typeof e=="symbol"?e:e+""}function Ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(null,arguments)}var wk=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Noe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Roe=t=>{var e=hn(t,Noe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=e,h=_.useRef(),[p,m]=_.useState(-1),y=_.useRef(i),w=_.useRef(a),b=_.useRef(s),v=_.useRef(n),E=_.useRef(r),A=rf(t,"trapezoid-");if(_.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var H=h.current.getTotalLength();H&&m(H)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var k=$e("recharts-trapezoid",o);if(!d)return _.createElement("g",null,_.createElement("path",Pm({},pt(e,!0),{className:k,d:wk(n,r,i,a,s)})));var D=y.current,T=w.current,P=b.current,C=v.current,I=E.current,N="0px ".concat(p===-1?1:p,"px"),j="".concat(p,"px 0px"),O=OL(["strokeDasharray"],u,l);return _.createElement(nf,{animationId:A,key:A,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},H=>{var B=yt(D,i,H),Z=yt(T,a,H),ne=yt(P,s,H),L=yt(C,n,H),z=yt(I,r,H);h.current&&(y.current=B,w.current=Z,b.current=ne,v.current=L,E.current=z);var re=H>0?{transition:O,strokeDasharray:j}:{strokeDasharray:N};return _.createElement("path",Pm({},pt(e,!0),{className:k,d:wk(L,z,B,Z,ne),ref:h,style:vk(vk({},re),e.style)}))})},Doe=["option","shapeType","propTransformer","activeClassName","isActive"];function joe(t,e){if(t==null)return{};var n,r,i=Moe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Moe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Loe(t,e,n){return(e=Voe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Voe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Foe(t,e){return Tm(Tm({},e),t)}function Uoe(t,e){return t==="symbols"}function _k(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(jL,n);case"trapezoid":return _.createElement(Roe,n);case"sector":return _.createElement(VL,n);case"symbols":if(Uoe(e))return _.createElement(wM,n);break;default:return null}}function Boe(t){return _.isValidElement(t)?t.props:t}function w4(t){var{option:e,shapeType:n,propTransformer:r=Foe,activeClassName:i="recharts-active-shape",isActive:a}=t,s=joe(t,Doe),o;if(_.isValidElement(e))o=_.cloneElement(e,Tm(Tm({},s),Boe(e)));else if(typeof e=="function")o=e(s);else if(Coe(e)&&typeof e!="boolean"){var l=r(e,s);o=_.createElement(_k,{shapeType:n,elementProps:l})}else{var u=s;o=_.createElement(_k,{shapeType:n,elementProps:u})}return a?_.createElement(fn,{className:i},o):o}var NE=(t,e)=>{var n=St();return(r,i)=>a=>{t==null||t(r,i,a),n(T$({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},RE=t=>{var e=St();return(n,r)=>i=>{t==null||t(n,r,i),e(jie())}},DE=(t,e)=>{var n=St();return(r,i)=>a=>{t==null||t(r,i,a),n(Mie({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function jE(t){var{fn:e,args:n}=t,r=St(),i=Zn();return _.useEffect(()=>{if(!i){var a=e(n);return r(Nie(a)),()=>{r(Rie(a))}}},[e,n,r,i]),null}var x4=()=>{};function _4(t){var{legendPayload:e}=t,n=St(),r=Zn();return _.useEffect(()=>r?x4:(n(CL(e)),()=>{n(IL(e))}),[n,r,e]),null}function zoe(t){var{legendPayload:e}=t,n=St(),r=he(Re);return _.useEffect(()=>r!=="centric"&&r!=="radial"?x4:(n(CL(e)),()=>{n(IL(e))}),[n,r,e]),null}var r0,Woe=()=>{var[t]=_.useState(()=>gd("uid-"));return t},qoe=(r0=XF.useId)!==null&&r0!==void 0?r0:Woe;function Hoe(t,e){var n=qoe();return e||(t?"".concat(t,"-").concat(n):n)}var Koe=_.createContext(void 0),ME=t=>{var{id:e,type:n,children:r}=t,i=Hoe("recharts-".concat(n),e);return _.createElement(Koe.Provider,{value:i},r(i))},Goe={cartesianItems:[],polarItems:[]},b4=wr({name:"graphicalItems",initialState:Goe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Ki(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Ki(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ki(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Yoe,replaceCartesianGraphicalItem:Qoe,removeCartesianGraphicalItem:Xoe,addPolarGraphicalItem:Joe,removePolarGraphicalItem:Zoe}=b4.actions,ele=b4.reducer;function E4(t){var e=St(),n=_.useRef(null);return _.useEffect(()=>{n.current===null?e(Yoe(t)):n.current!==t&&e(Qoe({prev:n.current,next:t})),n.current=t},[e,t]),_.useEffect(()=>()=>{n.current&&(e(Xoe(n.current)),n.current=null)},[e]),null}function tle(t){var e=St();return _.useEffect(()=>(e(Joe(t)),()=>{e(Zoe(t))}),[e,t]),null}var nle=["onMouseEnter","onClick","onMouseLeave"],rle=["id"],ile=["id"];function LE(t,e){if(t==null)return{};var n,r,i=ale(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ale(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=lle(t,"string");return typeof e=="symbol"?e:e+""}function lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(null,arguments)}function ule(t){var e=_.useMemo(()=>Qb(t.children,lo),[t.children]),n=he(r=>Poe(r,t.id,e));return n==null?null:_.createElement(zoe,{legendPayload:n})}function cle(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=t;return{dataDefinedOnItem:r.map(c=>c.tooltipPayload),positions:r.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:mu(o,e),hide:l,type:u,color:s,unit:""}}}var dle=(t,e)=>t>e?"start":t<e?"end":"middle",fle=(t,e,n)=>Tn(typeof e=="function"?e(t):e,n,n*.8),hle=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,o=yL(a,s),l=i+Tn(t.cx,a,a/2),u=r+Tn(t.cy,s,s/2),c=Tn(t.innerRadius,o,0),d=fle(n,t.outerRadius,o),h=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:h}},ple=(t,e)=>{var n=Jt(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function mle(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var gle=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=$e("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return _.createElement(w1,hs({},e,{type:"linear",className:n}))},yle=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=$e("recharts-pie-label-text",mle(t));return _.createElement(Py,hs({},e,{alignmentBaseline:"middle",className:i}),r)};function vle(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var o=ki(n),l=pt(i,!1),u=pt(a,!1),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=e.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,y=jt(h.cx,h.cy,h.outerRadius+c,m),w=nt(nt(nt(nt({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:dle(y.x,h.cx)},y),b=nt(nt(nt(nt({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[jt(h.cx,h.cy,h.outerRadius,m),y],key:"line"});return _.createElement(fn,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},a&&gle(a,b),yle(i,w,Qe(h,s)))});return _.createElement(fn,{className:"recharts-pie-labels"},d)}function wle(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(AE,{label:i}):_.createElement(vle,{sectors:e,props:n,showLabels:r})}function xle(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=he(fs),{onMouseEnter:s,onClick:o,onMouseLeave:l}=i,u=LE(i,nle),c=NE(s,i.dataKey),d=RE(l),h=DE(o,i.dataKey);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((p,m)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&e.length!==1)return null;var y=n&&String(m)===a,w=a?r:null,b=y?n:w,v=nt(nt({},p),{},{stroke:p.stroke,tabIndex:-1,[bL]:m,[EL]:i.dataKey});return _.createElement(fn,hs({tabIndex:-1,className:"recharts-pie-sector"},qg(u,p,m),{onMouseEnter:c(p,m),onMouseLeave:d(p,m),onClick:h(p,m),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(m)}),_.createElement(w4,hs({option:b,isActive:y,shapeType:"sector"},v)))}))}function _le(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=n,h=Math.abs(n.minAngle),p=ple(o,l),m=Math.abs(p),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,w=r.filter(D=>Qe(D,u,0)!==0).length,b=(m>=360?w:w-1)*y,v=m-w*h-b,E=r.reduce((D,T)=>{var P=Qe(T,u,0);return D+(pe(P)?P:0)},0),A;if(E>0){var k;A=r.map((D,T)=>{var P=Qe(D,u,0),C=Qe(D,c,T),I=hle(n,a,D),N=(pe(P)?P:0)/E,j,O=nt(nt({},D),i&&i[T]&&i[T].props);T?j=k.endAngle+Jt(p)*y*(P!==0?1:0):j=o;var H=j+Jt(p)*((P!==0?h:0)+N*v),B=(j+H)/2,Z=(I.innerRadius+I.outerRadius)/2,ne=[{name:C,value:P,payload:O,dataKey:u,type:d}],L=jt(I.cx,I.cy,Z,B);return k=nt(nt(nt(nt({},n.presentationProps),{},{percent:N,cornerRadius:s,name:C,tooltipPayload:ne,midAngle:B,middleRadius:Z,tooltipPosition:L},O),I),{},{value:P,startAngle:j,endAngle:H,payload:O,paddingAngle:Jt(p)*y}),k})}return A}function ble(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return _.createElement(uoe,{value:e?i:void 0},r)}function Ele(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:c,onAnimationEnd:d}=e,h=rf(e,"recharts-pie-"),p=n.current,[m,y]=_.useState(!1),w=_.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),b=_.useCallback(()=>{typeof c=="function"&&c(),y(!0)},[c]);return _.createElement(ble,{showLabels:!m,sectors:r},_.createElement(nf,{animationId:h,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:b,onAnimationEnd:w,key:h},v=>{var E=[],A=r&&r[0],k=A==null?void 0:A.startAngle;return r==null||r.forEach((D,T)=>{var P=p&&p[T],C=T>0?bo(D,"paddingAngle",0):0;if(P){var I=yt(P.endAngle-P.startAngle,D.endAngle-D.startAngle,v),N=nt(nt({},D),{},{startAngle:k+C,endAngle:k+I+C});E.push(N),k=N.endAngle}else{var{endAngle:j,startAngle:O}=D,H=yt(0,j-O,v),B=nt(nt({},D),{},{startAngle:k+C,endAngle:k+H+C});E.push(B),k=B.endAngle}}),n.current=E,_.createElement(fn,null,_.createElement(xle,{sectors:E,activeShape:l,inactiveShape:u,allOtherPieProps:e}))}),_.createElement(wle,{showLabels:!m,sectors:r,props:e}),e.children)}var Sle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ps.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ple(t){var{id:e}=t,n=LE(t,rle),{hide:r,className:i,rootTabIndex:a}=t,s=_.useMemo(()=>Qb(t.children,lo),[t.children]),o=he(c=>Toe(c,e,s)),l=_.useRef(null),u=$e("recharts-pie",i);return r||o==null?(l.current=null,_.createElement(fn,{tabIndex:a,className:u})):_.createElement(_.Fragment,null,_.createElement(jE,{fn:cle,args:nt(nt({},t),{},{sectors:o})}),_.createElement(fn,{tabIndex:a,className:u},_.createElement(Ele,{props:nt(nt({},n),{},{sectors:o}),previousSectorsRef:l})))}function wx(t){var e=hn(t,Sle),{id:n}=e,r=LE(e,ile),i=ki(r);return _.createElement(ME,{id:n,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(tle,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(ule,hs({},r,{id:a})),_.createElement(Ple,hs({},r,{id:a}))))}wx.displayName="Pie";function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){Tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tle(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ile={xAxis:{},yAxis:{},zAxis:{}},S4=wr({name:"cartesianAxis",initialState:Ile,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=Sk(Sk({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:kle,removeXAxis:Ole,addYAxis:Nle,removeYAxis:Rle,addZAxis:Ope,removeZAxis:Npe,updateYAxisWidth:Dle}=S4.actions,jle=S4.reducer,Mle=F([zt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Lle=F([Mle,fa,ha],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),VE=()=>he(Lle),Vle=()=>he(bae);function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){$le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $le(t,e,n){return(e=Fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fle(t){var e=Ule(t,"string");return typeof e=="symbol"?e:e+""}function Ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ble=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s=Tk(Tk({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},pt(i,!1)),Yb(i)),o;return _.isValidElement(i)?o=_.cloneElement(i,s):typeof i=="function"?o=i(s):o=_.createElement(h4,s),_.createElement(fn,{className:"recharts-active-dot"},o)};function zle(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=he(fs),s=Vle();if(e==null||s==null)return null;var o=e.find(l=>s.includes(l.payload));return st(o)?null:Ble({point:o,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Wle="Invariant failed";function qle(t,e){throw new Error(Wle)}var Hle=["x","y"];function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(null,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){Kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kle(t,e,n){return(e=Gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qle(t,e){if(t==null)return{};var n,r,i=Xle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jle(t,e){var{x:n,y:r}=t,i=Qle(t,Hle),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return oc(oc(oc(oc(oc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function $E(t){return _.createElement(w4,xx({shapeType:"rectangle",propTransformer:Jle,activeClassName:"recharts-active-bar"},t))}var Zle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(pe(e))return e;var a=pe(r)||st(r);return a?e(r,i):(a||qle(),n)}},eue={},P4=wr({name:"errorBars",initialState:eue,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Rpe,replaceErrorBar:Dpe,removeErrorBar:jpe}=P4.actions,tue=P4.reducer,nue=["children"];function rue(t,e){if(t==null)return{};var n,r,i=iue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sue=_.createContext(aue);function T4(t){var{children:e}=t,n=rue(t,nue);return _.createElement(sue.Provider,{value:n},e)}function FE(t,e){var n,r,i=he(u=>ma(u,t)),a=he(u=>ga(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function A4(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=VE(),{needClipX:a,needClipY:s,needClip:o}=FE(e,n);if(!o)return null;var{x:l,y:u,width:c,height:d}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?l:l-c/2,y:s?u:u-d/2,width:a?c:c*2,height:s?d:d*2}))}var oue=["onMouseEnter","onMouseLeave","onClick"],lue=["value","background","tooltipPosition"],uue=["id"],cue=["onMouseEnter","onClick","onMouseLeave"];function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(null,arguments)}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e,n){return(e=fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=hue(t,"string");return typeof e=="symbol"?e:e+""}function hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Am(t,e){if(t==null)return{};var n,r,i=pue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mue=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:mu(n,e),payload:t}]};function gue(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:mu(a,e),hide:s,type:t.tooltipType,color:t.fill,unit:o}}}function yue(t){var e=he(fs),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=Am(a,oue),c=NE(s,r),d=RE(o),h=DE(l,r);if(!i||n==null)return null;var p=pt(i,!1);return _.createElement(_.Fragment,null,n.map((m,y)=>{var{value:w,background:b,tooltipPosition:v}=m,E=Am(m,lue);if(!b)return null;var A=c(m,y),k=d(m,y),D=h(m,y),T=jn(jn(jn(jn(jn({option:i,isActive:String(y)===e},E),{},{fill:"#eee"},b),p),qg(u,m,y)),{},{onMouseEnter:A,onMouseLeave:k,onClick:D,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return _.createElement($E,ps({key:"background-bar-".concat(T.index)},T))}))}function vue(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,height:a.height};return jn(jn({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return _.createElement(d4,{value:e?i:void 0},n)}function wue(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,o=he(fs),l=he($$),u=n&&String(a)===o&&(l==null||s===l),c=u?n:e;return _.createElement($E,ps({},r,i,{isActive:u,option:c,index:a,dataKey:s}))}function xue(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return _.createElement($E,ps({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function _ue(t){var{data:e,props:n}=t,r=ki(n),{id:i}=r,a=Am(r,uue),{shape:s,dataKey:o,activeBar:l}=n,{onMouseEnter:u,onClick:c,onMouseLeave:d}=n,h=Am(n,cue),p=NE(u,o),m=RE(d),y=DE(c,o);return e?_.createElement(_.Fragment,null,e.map((w,b)=>_.createElement(fn,ps({className:"recharts-bar-rectangle"},qg(h,w,b),{onMouseEnter:p(w,b),onMouseLeave:m(w,b),onClick:y(w,b),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(b)}),l?_.createElement(wue,{shape:s,activeBar:l,baseProps:a,entry:w,index:b,dataKey:o}):_.createElement(xue,{shape:s,baseProps:a,entry:w,index:b,dataKey:o})))):null}function bue(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,d=n.current,h=rf(e,"recharts-bar-"),[p,m]=_.useState(!1),y=!p,w=_.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),b=_.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return _.createElement(vue,{showLabels:y,rects:r},_.createElement(nf,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:w,onAnimationStart:b,key:h},v=>{var E=v===1?r:r==null?void 0:r.map((A,k)=>{var D=d&&d[k];if(D)return jn(jn({},A),{},{x:yt(D.x,A.x,v),y:yt(D.y,A.y,v),width:yt(D.width,A.width,v),height:yt(D.height,A.height,v)});if(i==="horizontal"){var T=yt(0,A.height,v);return jn(jn({},A),{},{y:A.y+A.height-T,height:T})}var P=yt(0,A.width,v);return jn(jn({},A),{},{width:P})});return v>0&&(n.current=E??null),E==null?null:_.createElement(fn,null,_.createElement(_ue,{props:e,data:E}))}),_.createElement(AE,{label:e.label}),e.children)}function Eue(t){var e=_.useRef(null);return _.createElement(bue,{previousRectanglesRef:e,props:t})}var C4=0,Sue=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Qe(t,e)}};class Pue extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(e||n==null)return null;var c=$e("recharts-bar",i),d=u;return _.createElement(fn,{className:c,id:u},o&&_.createElement("defs",null,_.createElement(A4,{clipPathId:d,xAxisId:a,yAxisId:s})),_.createElement(fn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},_.createElement(yue,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),_.createElement(Eue,this.props)))}}var Tue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ps.isSsr,legendType:"rect",minPointSize:C4,xAxisId:0,yAxisId:0};function Aue(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=t,{needClip:d}=FE(e,n),h=oy(),p=Zn(),m=Qb(t.children,lo),y=he(v=>tce(v,e,n,p,t.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var w,b=y==null?void 0:y[0];return b==null||b.height==null||b.width==null?w=0:w=h==="vertical"?b.height/2:b.width/2,_.createElement(T4,{xAxisId:e,yAxisId:n,data:y,dataPointFormatter:Sue,errorBarOffset:w},_.createElement(Pue,ps({},t,{layout:h,needClip:d,data:y,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function Cue(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:h,cells:p,parentViewBox:m}=t,y=e==="horizontal"?o:s,w=c?y.scale.domain():null,b=pZ({numericAxis:y});return d.map((v,E)=>{var A,k,D,T,P,C;c?A=lZ(c[E],w):(A=Qe(v,n),Array.isArray(A)||(A=[b,A]));var I=Zle(r,C4)(A[1],E);if(e==="horizontal"){var N,[j,O]=[o.scale(A[0]),o.scale(A[1])];k=kC({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:v,index:E}),D=(N=O??j)!==null&&N!==void 0?N:void 0,T=i.size;var H=j-O;if(P=pr(H)?0:H,C={x:k,y:h.top,width:T,height:h.height},Math.abs(I)>0&&Math.abs(P)<Math.abs(I)){var B=Jt(P||I)*(Math.abs(I)-Math.abs(P));D-=B,P+=B}}else{var[Z,ne]=[s.scale(A[0]),s.scale(A[1])];if(k=Z,D=kC({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:v,index:E}),T=ne-Z,P=i.size,C={x:h.left,y:D,width:h.width,height:P},Math.abs(I)>0&&Math.abs(T)<Math.abs(I)){var L=Jt(T||I)*(Math.abs(I)-Math.abs(T));T+=L}}if(k==null||D==null||T==null||P==null)return null;var z=jn(jn({},v),{},{x:k,y:D,width:T,height:P,value:c?A:A[1],payload:v,background:C,tooltipPosition:{x:k+T/2,y:D+P/2},parentViewBox:m},p&&p[E]&&p[E].props);return z}).filter(Boolean)}function Iue(t){var e=hn(t,Tue),n=Zn();return _.createElement(ME,{id:e.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(_4,{legendPayload:mue(e)}),_.createElement(jE,{fn:gue,args:e}),_.createElement(E4,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:hZ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),_.createElement(Aue,ps({},e,{id:r}))))}var I4=_.memo(Iue);I4.displayName="Bar";function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e,n){return(e=Oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rue=(t,e)=>e,Due=(t,e,n)=>n,jue=(t,e,n,r)=>r,Mue=(t,e,n,r,i)=>i,gf=F([wy,Mue],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Lue=F([gf],t=>t==null?void 0:t.maxBarSize),Vue=(t,e,n,r,i,a)=>a,kk=(t,e,n)=>{var r=n??t;if(!st(r))return Tn(r,e,0)},$ue=F([Re,wy,Rue,Due,jue],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Fue=(t,e,n,r)=>{var i=Re(t);return i==="horizontal"?fx(t,"yAxis",n,r):fx(t,"xAxis",e,r)},Uue=(t,e,n)=>{var r=Re(t);return r==="horizontal"?UI(t,"xAxis",e):UI(t,"yAxis",n)},Bue=(t,e,n)=>{var r={},i=t.filter(vy),a=t.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),o=Object.entries(s).map(u=>{var[c,d]=u,h=d.map(m=>m.dataKey),p=kk(e,n,d[0].barSize);return{stackId:c,dataKeys:h,barSize:p}}),l=a.map(u=>{var c=[u.dataKey].filter(h=>h!=null),d=kk(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...o,...l]},zue=F([$ue,Ore,Uue],Bue),Wue=(t,e,n,r,i)=>{var a,s,o=gf(t,e,n,r,i);if(o!=null){var l=Re(t),u=LV(t),{maxBarSize:c}=o,d=st(c)?u:c,h,p;return l==="horizontal"?(h=ds(t,"xAxis",e,r),p=cs(t,"xAxis",e,r)):(h=ds(t,"yAxis",n,r),p=cs(t,"yAxis",n,r)),(a=(s=wd(h,p,!0))!==null&&s!==void 0?s:d)!==null&&a!==void 0?a:0}},k4=(t,e,n,r)=>{var i=Re(t),a,s;return i==="horizontal"?(a=ds(t,"xAxis",e,r),s=cs(t,"xAxis",e,r)):(a=ds(t,"yAxis",n,r),s=cs(t,"yAxis",n,r)),wd(a,s)};function que(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=Tn(t,n,0,!0),o,l=[];if(gr(r[0].barSize)){var u=!1,c=n/a,d=r.reduce((b,v)=>b+(v.barSize||0),0);d+=(a-1)*s,d>=n&&(d-=(a-1)*s,s=0),d>=n&&c>0&&(u=!0,c*=.9,d=a*c);var h=(n-d)/2>>0,p={offset:h-s,size:0};o=r.reduce((b,v)=>{var E,A={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:p.offset+p.size+s,size:u?c:(E=v.barSize)!==null&&E!==void 0?E:0}},k=[...b,A];return p=k[k.length-1].position,k},l)}else{var m=Tn(e,n,0,!0);n-2*m-(a-1)*s<=0&&(s=0);var y=(n-2*m-(a-1)*s)/a;y>1&&(y>>=0);var w=gr(i)?Math.min(y,i):y;o=r.reduce((b,v,E)=>[...b,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m+(y+s)*E+(y-w)/2,size:w}}],l)}return o}}var Hue=(t,e,n,r,i,a,s)=>{var o=st(s)?e:s,l=que(n,r,i!==a?i:a,t,o);return i!==a&&l!=null&&(l=l.map(u=>Ph(Ph({},u),{},{position:Ph(Ph({},u.position),{},{offset:u.position.offset-i/2})}))),l},Kue=F([zue,LV,kre,VV,Wue,k4,Lue],Hue),Gue=(t,e,n,r)=>ds(t,"xAxis",e,r),Yue=(t,e,n,r)=>ds(t,"yAxis",n,r),Que=(t,e,n,r)=>cs(t,"xAxis",e,r),Xue=(t,e,n,r)=>cs(t,"yAxis",n,r),Jue=F([Kue,gf],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Zue=(t,e)=>{var n=J1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},ece=F([Fue,gf],Zue),tce=F([zt,y1,Gue,Yue,Que,Xue,Jue,Re,py,k4,ece,gf,Vue],(t,e,n,r,i,a,s,o,l,u,c,d,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:y}=l;if(!(d==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||u==null)){var{data:w}=d,b;if(w!=null&&w.length>0?b=w:b=p==null?void 0:p.slice(m,y+1),b!=null)return Cue({layout:o,barSettings:d,pos:s,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:b,offset:t,cells:h})}}),O4=t=>{var{chartData:e}=t,n=St(),r=Zn();return _.useEffect(()=>r?()=>{}:(n(QI(e)),()=>{n(QI(void 0))}),[e,n,r]),null},Ok={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},N4=wr({name:"brush",initialState:Ok,reducers:{setBrushSettings(t,e){return e.payload==null?Ok:e.payload}}}),{setBrushSettings:Mpe}=N4.actions,nce=N4.reducer;function rce(t,e,n){return(e=ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ice(t){var e=ace(t,"string");return typeof e=="symbol"?e:e+""}function ace(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class UE{static create(e){return new UE(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}rce(UE,"EPS",1e-4);function sce(t){return(t%180+180)%180}var oce=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=sce(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},lce={dots:[],areas:[],lines:[]},R4=wr({name:"referenceElements",initialState:lce,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ki(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ki(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ki(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Lpe,removeDot:Vpe,addArea:$pe,removeArea:Fpe,addLine:Upe,removeLine:Bpe}=R4.actions,uce=R4.reducer,cce=_.createContext(void 0),dce=t=>{var{children:e}=t,[n]=_.useState("".concat(gd("recharts"),"-clip")),r=VE();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return _.createElement(cce.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function nu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function D4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return oce(r,n)}function hce(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Cm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function pce(t,e){return D4(t,e+1)}function mce(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,l=0,u=1,c=s,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:D4(r,u)};var y=l,w,b=()=>(w===void 0&&(w=n(m,y)),w),v=m.coordinate,E=l===0||Cm(t,v,b,c,o);E||(l=0,c=s,u+=1),E&&(c=v+t*(b()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wce(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,u=function(h){var p=a[h],m,y=()=>(m===void 0&&(m=n(p,h)),m);if(h===s-1){var w=t*(p.coordinate+t*y()/2-l);a[h]=p=xn(xn({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate})}else a[h]=p=xn(xn({},p),{},{tickCoord:p.coordinate});var b=Cm(t,p.tickCoord,y,o,l);b&&(l=p.tickCoord-t*(y()/2+i),a[h]=xn(xn({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return a}function xce(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=e;if(a){var c=r[o-1],d=n(c,o-1),h=t*(c.coordinate+t*d/2-u);s[o-1]=c=xn(xn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=Cm(t,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-t*(d/2+i),s[o-1]=xn(xn({},c),{},{isShow:!0}))}for(var m=a?o-1:o,y=function(v){var E=s[v],A,k=()=>(A===void 0&&(A=n(E,v)),A);if(v===0){var D=t*(E.coordinate-t*k()/2-l);s[v]=E=xn(xn({},E),{},{tickCoord:D<0?E.coordinate-D*t:E.coordinate})}else s[v]=E=xn(xn({},E),{},{tickCoord:E.coordinate});var T=Cm(t,E.tickCoord,k,l,u);T&&(l=E.tickCoord+t*(k()/2+i),s[v]=xn(xn({},E),{},{isShow:!0}))},w=0;w<m;w++)y(w);return s}function BE(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:d}=t;if(!i||!i.length||!r)return[];if(pe(l)||Ps.isSsr){var h;return(h=pce(i,pe(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=o==="top"||o==="bottom"?"width":"height",y=c&&m==="width"?Lc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(E,A)=>{var k=typeof u=="function"?u(E.value,A):E.value;return m==="width"?fce(Lc(k,{fontSize:e,letterSpacing:n}),y,d):Lc(k,{fontSize:e,letterSpacing:n})[m]},b=i.length>=2?Jt(i[1].coordinate-i[0].coordinate):1,v=hce(a,b,m);return l==="equidistantPreserveStart"?mce(b,v,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=xce(b,v,w,i,s,l==="preserveStartEnd"):p=wce(b,v,w,i,s),p.filter(E=>E.isShow))}var _ce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){e.forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},bce=["axisLine","width","height","className","hide","ticks"],Ece=["viewBox"],Sce=["viewBox"];function _x(t,e){if(t==null)return{};var n,r,i=Pce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(null,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=Ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Ice(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=Vt(Vt(Vt({},l),pt(o,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=Vt(Vt({},u),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var d=+(a==="left"&&!s||a==="right"&&s);u=Vt(Vt({},u),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return _.createElement("line",To({},u,{className:$e("recharts-cartesian-axis-line",bo(o,"className"))}))}function kce(t,e,n,r,i,a,s,o,l){var u,c,d,h,p,m,y=o?-1:1,w=t.tickSize||s,b=pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=c=t.coordinate,h=n+ +!o*i,d=h-y*w,m=d-y*l,p=b;break;case"left":d=h=t.coordinate,c=e+ +!o*r,u=c-y*w,p=u-y*l,m=b;break;case"right":d=h=t.coordinate,c=e+ +o*r,u=c+y*w,p=u+y*l,m=b;break;default:u=c=t.coordinate,h=n+ +o*i,d=h+y*w,m=d+y*l,p=b;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:p,y:m}}}function Oce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Nce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Rce(t){var{option:e,tickProps:n,value:r}=t,i,a=$e(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Vt(Vt({},n),{},{className:a}));else if(typeof e=="function")i=e(Vt(Vt({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=$e(s,e==null?void 0:e.className)),i=_.createElement(Py,To({},n,{className:s}),r)}return i}function Dce(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:s,padding:o,tickTextProps:l,orientation:u,mirror:c,x:d,y:h,width:p,height:m,tickSize:y,tickMargin:w,fontSize:b,letterSpacing:v,getTicksConfig:E,events:A}=t,k=BE(Vt(Vt({},E),{},{ticks:e}),b,v),D=Oce(u,c),T=Nce(u,c),P=ki(E),C=pt(n,!1),I=Vt(Vt({},P),{},{fill:"none"},pt(r,!1)),N=k.map((j,O)=>{var{line:H,tick:B}=kce(j,d,h,p,m,u,y,c,w),Z=Vt(Vt(Vt(Vt({textAnchor:D,verticalAnchor:T},P),{},{stroke:"none",fill:i},C),B),{},{index:O,payload:j,visibleTicksCount:k.length,tickFormatter:a,padding:o},l);return _.createElement(fn,To({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},qg(A,j,O)),r&&_.createElement("line",To({},I,H,{className:$e("recharts-cartesian-axis-tick-line",bo(r,"className"))})),n&&_.createElement(Rce,{option:n,tickProps:Z,value:"".concat(typeof a=="function"?a(j.value,O):j.value).concat(s||"")}))});return N.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}var jce=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o}=t,l=_x(t,bce),[u,c]=_.useState(""),[d,h]=_.useState(""),p=_.useRef([]);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return _ce({ticks:p.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var m=_.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(w);var b=w[0];if(b){var v=window.getComputedStyle(b),E=v.fontSize,A=v.letterSpacing;(E!==u||A!==d)&&(c(E),h(A))}}},[u,d]);return s||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(fn,{className:$e("recharts-cartesian-axis",a),ref:m},_.createElement(Ice,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ki(t)}),_.createElement(Dce,{ticks:o,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:u,letterSpacing:d,getTicksConfig:t,events:l}),_.createElement(Hse,{x:t.x,y:t.y,width:t.width,height:t.height},_.createElement(noe,{label:t.label}),t.children))}),Mce=_.memo(jce,(t,e)=>{var{viewBox:n}=t,r=_x(t,Ece),{viewBox:i}=e,a=_x(e,Sce);return nu(n,i)&&nu(r,a)}),WE=_.forwardRef((t,e)=>{var n=hn(t,zE);return _.createElement(Mce,To({},n,{ref:e}))});WE.displayName="CartesianAxis";var Lce=["x1","y1","x2","y2","key"],Vce=["offset"],$ce=["xAxisId","yAxisId"],Fce=["xAxisId","yAxisId"];function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){Uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e,n){return(e=Bce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Js.apply(null,arguments)}function Im(t,e){if(t==null)return{};var n,r,i=Wce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return _.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j4(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:s,key:o}=e,l=Im(e,Lce),u=ki(l),{offset:c}=u,d=Im(u,Vce);n=_.createElement("line",Js({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function Hce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=Im(t,$ce),l=i.map((u,c)=>{var d=Sn(Sn({},o),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return j4(r,d)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Kce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=Im(t,Fce),l=i.map((u,c)=>{var d=Sn(Sn({},o),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return j4(r,d)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Gce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var u=o.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],m=p?i+s-d:u[h+1]-d;if(m<=0)return null;var y=h%e.length;return _.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:m,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Yce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],m=p?i+s-d:u[h+1]-d;if(m<=0)return null;var y=h%n.length;return _.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:m,height:o,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Qce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return wL(BE(Sn(Sn(Sn({},zE),n),{},{ticks:xL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Xce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return wL(BE(Sn(Sn(Sn({},zE),n),{},{ticks:xL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Jce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function bx(t){var e=PL(),n=TL(),r=SL(),i=Sn(Sn({},hn(t,Jce)),{},{x:pe(t.x)?t.x:r.left,y:pe(t.y)?t.y:r.top,width:pe(t.width)?t.width:r.width,height:pe(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,m=Zn(),y=he(C=>BI(C,"xAxis",a,m)),w=he(C=>BI(C,"yAxis",s,m));if(!pe(u)||u<=0||!pe(c)||c<=0||!pe(o)||o!==+o||!pe(l)||l!==+l)return null;var b=i.verticalCoordinatesGenerator||Qce,v=i.horizontalCoordinatesGenerator||Xce,{horizontalPoints:E,verticalPoints:A}=i;if((!E||!E.length)&&typeof v=="function"){var k=h&&h.length,D=v({yAxis:w?Sn(Sn({},w),{},{ticks:k?h:w.ticks}):void 0,width:e,height:n,offset:r},k?!0:d);Mc(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(E=D)}if((!A||!A.length)&&typeof b=="function"){var T=p&&p.length,P=b({xAxis:y?Sn(Sn({},y),{},{ticks:T?p:y.ticks}):void 0,width:e,height:n,offset:r},T?!0:d);Mc(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(qce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Gce,Js({},i,{horizontalPoints:E})),_.createElement(Yce,Js({},i,{verticalPoints:A})),_.createElement(Hce,Js({},i,{offset:r,horizontalPoints:E,xAxis:y,yAxis:w})),_.createElement(Kce,Js({},i,{offset:r,verticalPoints:A,xAxis:y,yAxis:w})))}bx.displayName="CartesianGrid";var M4=(t,e,n,r)=>ds(t,"xAxis",e,r),L4=(t,e,n,r)=>cs(t,"xAxis",e,r),V4=(t,e,n,r)=>ds(t,"yAxis",n,r),$4=(t,e,n,r)=>cs(t,"yAxis",n,r),Zce=F([Re,M4,V4,L4,$4],(t,e,n,r,i)=>Ss(t,"xAxis")?wd(e,r,!1):wd(n,i,!1)),ede=(t,e,n,r,i)=>i;function tde(t){return t.type==="line"}var nde=F([wy,ede],(t,e)=>t.filter(tde).find(n=>n.id===e)),rde=F([Re,M4,V4,L4,$4,nde,Zce,py],(t,e,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:d,data:h}=a,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(u,c+1),p!=null)return Pde({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:s,displayedData:p})}}),ide=["id"],ade=["type","layout","connectNulls","needClip"],sde=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e,n){return(e=lde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qE(t,e){if(t==null)return{};var n,r,i=cde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ao(){return Ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ao.apply(null,arguments)}var dde=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:mu(n,e),payload:t}]};function fde(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:mu(s,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var F4=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function hde(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var pde=(t,e,n)=>{var r=n.reduce((d,h)=>d+h);if(!r)return F4(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>a){o=[...n.slice(0,l),a-u];break}var c=o.length%2===0?[0,s]:[s];return[...hde(n,i),...o,...c].map(d=>"".concat(d,"px")).join(", ")};function mde(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=$e("recharts-line-dot",typeof t!="boolean"?t.className:"");n=_.createElement(h4,Ao({},e,{className:r}))}return n}function gde(t,e){return t==null?!1:e?!0:t.length===1}function yde(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r;if(!gde(n,i))return null;var{id:o}=r,l=qE(r,ide),u=eM(i),c=ki(l),d=pt(i,!0),h=n.map((m,y)=>{var w=sr(sr(sr({key:"dot-".concat(y),r:3},c),d),{},{index:y,cx:m.x,cy:m.y,dataKey:a,value:m.value,payload:m.payload,points:n});return mde(i,w)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):void 0};return _.createElement(fn,Ao({className:"recharts-line-dots",key:"dots"},p),h)}function vde(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return sr(sr({},s),{},{value:a.value,payload:a.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(d4,{value:e?i:null},n)}function Mk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:o,connectNulls:l,needClip:u}=a,c=qE(a,ade),d=sr(sr({},pt(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,(r==null?void 0:r.length)>1&&_.createElement(w1,Ao({},d,{pathRef:n})),_.createElement(yde,{points:r,clipPathId:e,props:a}))}function wde(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function xde(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:h,width:p,height:m,onAnimationEnd:y,onAnimationStart:w}=n,b=i.current,v=rf(n,"recharts-line-"),[E,A]=_.useState(!1),k=!E,D=_.useCallback(()=>{typeof y=="function"&&y(),A(!1)},[y]),T=_.useCallback(()=>{typeof w=="function"&&w(),A(!0)},[w]),P=wde(r.current),C=a.current;return _.createElement(vde,{points:s,showLabels:k},n.children,_.createElement(nf,{animationId:v,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:D,onAnimationStart:T,key:v},I=>{var N=yt(C,P+C,I),j=Math.min(N,P),O;if(l)if(o){var H="".concat(o).split(/[,\s]+/gim).map(ne=>parseFloat(ne));O=pde(j,P,H)}else O=F4(P,j);else O=o==null?void 0:String(o);if(b){var B=b.length/s.length,Z=I===1?s:s.map((ne,L)=>{var z=Math.floor(L*B);if(b[z]){var re=b[z];return sr(sr({},ne),{},{x:yt(re.x,ne.x,I),y:yt(re.y,ne.y,I)})}return h?sr(sr({},ne),{},{x:yt(p*2,ne.x,I),y:yt(m/2,ne.y,I)}):sr(sr({},ne),{},{x:ne.x,y:ne.y})});return i.current=Z,_.createElement(Mk,{props:n,points:Z,clipPathId:e,pathRef:r,strokeDasharray:O})}return I>0&&P>0&&(i.current=s,a.current=j),_.createElement(Mk,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:O})}),_.createElement(AE,{label:n.label}))}function _de(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(xde,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var bde=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Qe(t.payload,e)});class Ede extends _.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:s,yAxisId:o,top:l,left:u,width:c,height:d,id:h,needClip:p}=this.props;if(n)return null;var m=$e("recharts-line",a),y=h,{r:w=3,strokeWidth:b=2}=(e=pt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},v=eM(r),E=w*2+b;return _.createElement(_.Fragment,null,_.createElement(fn,{className:m},p&&_.createElement("defs",null,_.createElement(A4,{clipPathId:y,xAxisId:s,yAxisId:o}),!v&&_.createElement("clipPath",{id:"clipPath-dots-".concat(y)},_.createElement("rect",{x:u-E/2,y:l-E/2,width:c+E,height:d+E}))),_.createElement(T4,{xAxisId:s,yAxisId:o,data:i,dataPointFormatter:bde,errorBarOffset:0},_.createElement(_de,{props:this.props,clipPathId:y}))),_.createElement(zle,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var U4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ps.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Sde(t){var e=hn(t,U4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:c,label:d,legendType:h,xAxisId:p,yAxisId:m,id:y}=e,w=qE(e,sde),{needClip:b}=FE(p,m),v=VE(),E=oy(),A=Zn(),k=he(I=>rde(I,p,m,A,y));if(E!=="horizontal"&&E!=="vertical"||k==null||v==null)return null;var{height:D,width:T,x:P,y:C}=v;return _.createElement(Ede,Ao({},w,{id:y,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:c,hide:u,label:d,legendType:h,xAxisId:p,yAxisId:m,points:k,layout:E,height:D,width:T,left:P,top:C,needClip:b}))}function Pde(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((u,c)=>{var d=Qe(u,s);if(e==="horizontal"){var h=IC({axis:n,ticks:i,bandSize:o,entry:u,index:c}),p=st(d)?null:r.scale(d);return{x:h,y:p,value:d,payload:u}}var m=st(d)?null:n.scale(d),y=IC({axis:r,ticks:a,bandSize:o,entry:u,index:c});return m==null||y==null?null:{x:m,y,value:d,payload:u}}).filter(Boolean)}function Tde(t){var e=hn(t,U4),n=Zn();return _.createElement(ME,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(_4,{legendPayload:dde(e)}),_.createElement(jE,{fn:fde,args:e}),_.createElement(E4,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(Sde,Ao({},e,{id:r}))))}var B4=_.memo(Tde);B4.displayName="Line";var Ade=["dangerouslySetInnerHTML","ticks"],Cde=["id"],Ide=["domain"],kde=["domain"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(null,arguments)}function km(t,e){if(t==null)return{};var n,r,i=Ode(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ode(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nde(t){var e=St();return _.useEffect(()=>(e(kle(t)),()=>{e(Ole(t))}),[t,e]),null}var Rde=t=>{var{xAxisId:e,className:n}=t,r=he(y1),i=Zn(),a="xAxis",s=he(w=>bu(w,a,e,i)),o=he(w=>x$(w,a,e,i)),l=he(w=>g$(w,e)),u=he(w=>bie(w,e)),c=he(w=>KV(w,e));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:h}=t,p=km(t,Ade),{id:m}=c,y=km(c,Cde);return _.createElement(WE,Ex({},p,y,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:$e("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o}))},Dde={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,height:nr.height,hide:!1,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tickCount:nr.tickCount,type:nr.type,xAxisId:0},jde=t=>{var e,n,r,i,a,s=hn(t,Dde);return _.createElement(_.Fragment,null,_.createElement(Nde,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),_.createElement(Rde,s))},Mde=(t,e)=>{var{domain:n}=t,r=km(t,Ide),{domain:i}=e,a=km(e,kde);return nu(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:nu({domain:n},{domain:i}):!1},Sx=_.memo(jde,Mde);Sx.displayName="XAxis";var Lde=["dangerouslySetInnerHTML","ticks"],Vde=["id"],$de=["domain"],Fde=["domain"];function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function Om(t,e){if(t==null)return{};var n,r,i=Ude(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ude(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bde(t){var e=St();return _.useEffect(()=>(e(Nle(t)),()=>{e(Rle(t))}),[t,e]),null}var zde=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=_.useRef(null),s=_.useRef(null),o=he(y1),l=Zn(),u=St(),c="yAxis",d=he(k=>bu(k,c,e,l)),h=he(k=>y$(k,e)),p=he(k=>Sie(k,e)),m=he(k=>x$(k,c,e,l)),y=he(k=>GV(k,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!h||TE(i)||_.isValidElement(i)||y==null)){var k=a.current;if(k){var D=k.getCalculatedWidth();Math.round(h.width)!==Math.round(D)&&u(Dle({id:e,width:D}))}}},[m,h,u,i,e,r,y]),h==null||p==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:b}=t,v=Om(t,Lde),{id:E}=y,A=Om(y,Vde);return _.createElement(WE,Px({},v,A,{ref:a,labelRef:s,scale:d,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:$e("recharts-".concat(c," ").concat(c),n),viewBox:o,ticks:m}))},Wde={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,hide:!1,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tickCount:rr.tickCount,type:rr.type,width:rr.width,yAxisId:0},qde=t=>{var e,n,r,i,a,s=hn(t,Wde);return _.createElement(_.Fragment,null,_.createElement(Bde,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),_.createElement(zde,s))},Hde=(t,e)=>{var{domain:n}=t,r=Om(t,$de),{domain:i}=e,a=Om(e,Fde);return nu(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:nu({domain:n},{domain:i}):!1},Tx=_.memo(qde,Hde);Tx.displayName="YAxis";var Kde={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=_;function Gde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yde=typeof Object.is=="function"?Object.is:Gde,Qde=yf.useSyncExternalStore,Xde=yf.useRef,Jde=yf.useEffect,Zde=yf.useMemo,efe=yf.useDebugValue;Kde.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=Xde(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Zde(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return d=m}return d=p}if(m=d,Yde(c,p))return m;var y=r(p);return i!==void 0&&i(m,y)?(c=p,m):(c=p,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var o=Qde(t,a[0],a[1]);return Jde(function(){s.hasValue=!0,s.value=o},[o]),efe(o),o};function tfe(t){t()}function nfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){tfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Lk={notify(){},get:()=>[]};function rfe(t,e){let n,r=Lk,i=0,a=!1;function s(y){c();const w=r.subscribe(y);let b=!1;return()=>{b||(b=!0,w(),d())}}function o(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return a}function c(){i++,n||(n=t.subscribe(l),r=nfe())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Lk)}function h(){a||(a=!0,c())}function p(){a&&(a=!1,d())}const m={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var ife=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",afe=ife(),sfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ofe=sfe(),lfe=()=>afe||ofe?_.useLayoutEffect:_.useEffect,ufe=lfe(),i0=Symbol.for("react-redux-context"),a0=typeof globalThis<"u"?globalThis:{};function cfe(){if(!_.createContext)return{};const t=a0[i0]??(a0[i0]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var dfe=cfe();function ffe(t){const{children:e,context:n,serverState:r,store:i}=t,a=_.useMemo(()=>{const l=rfe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=_.useMemo(()=>i.getState(),[i]);ufe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||dfe;return _.createElement(o.Provider,{value:a},e)}var hfe=ffe,pfe=(t,e)=>e,HE=F([pfe,Re,WV,qt,j$,ya,Iae,zt],Dae),KE=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},z4=Dr("mouseClick"),W4=ef();W4.startListening({actionCreator:z4,effect:(t,e)=>{var n=t.payload,r=HE(e.getState(),KE(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Lie({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ax=Dr("mouseMove"),q4=ef();q4.startListening({actionCreator:Ax,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=gE(r,r.tooltip.settings.shared),a=HE(r,KE(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(C$({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(A$()))}});var Vk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},H4=wr({name:"rootProps",initialState:Vk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Vk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),mfe=H4.reducer,{updateOptions:gfe}=H4.actions,K4=wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:yfe}=K4.actions,vfe=K4.reducer,G4=Dr("keyDown"),Y4=Dr("focus"),GE=ef();GE.startListening({actionCreator:G4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(yE(i,Su(n))),o=ya(n);if(a==="Enter"){var l=Em(n,"axis","hover",String(i.index));e.dispatch(px({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=Cie(n),c=u==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,h=s+d*c;if(!(o==null||h>=o.length||h<0)){var p=Em(n,"axis","hover",String(h));e.dispatch(px({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});GE.startListening({actionCreator:Y4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Em(n,"axis","hover",String(a));e.dispatch(px({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var br=Dr("externalEvent"),Q4=ef();Q4.startListening({actionCreator:br,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:wae(n),activeDataKey:$$(n),activeIndex:fs(n),activeLabel:V$(n),activeTooltipIndex:fs(n),isTooltipActive:xae(n)};t.payload.handler(r,t.payload.reactEvent)}}});var wfe=F([Eu],t=>t.tooltipItemPayloads),xfe=F([wfe,pf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),X4=Dr("touchMove"),J4=ef();J4.startListening({actionCreator:X4,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=gE(r,r.tooltip.settings.shared);if(i==="axis"){var a=HE(r,KE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(C$({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(bL),c=(s=l.getAttribute(EL))!==null&&s!==void 0?s:void 0,d=xfe(e.getState(),u,c);e.dispatch(T$({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}});var _fe=GM({brush:nce,cartesianAxis:jle,chartData:Yae,errorBars:tue,graphicalItems:ele,layout:HJ,legend:DZ,options:Wae,polarAxis:woe,polarOptions:vfe,referenceElements:uce,rootProps:mfe,tooltip:Vie}),bfe=function(e){return yJ({reducer:_fe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([W4.middleware,q4.middleware,GE.middleware,Q4.middleware,J4.middleware]),devTools:Ps.devToolsEnabled})};function Z4(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Zn(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=bfe(e));var s=u1;return _.createElement(hfe,{context:s,store:a.current},n)}function eF(t){var{layout:e,width:n,height:r,margin:i}=t,a=St(),s=Zn();return _.useEffect(()=>{s||(a(zJ(e)),a(WJ({width:n,height:r})),a(BJ(i)))},[a,s,e,n,r,i]),null}function tF(t){var e=St();return _.useEffect(()=>{e(gfe(t))},[e,t]),null}var Efe=["children"];function Sfe(t,e){if(t==null)return{};var n,r,i=Pfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(null,arguments)}var Tfe={width:"100%",height:"100%"},Afe=_.forwardRef((t,e)=>{var n=PL(),r=TL(),i=kL();if(!Xl(n)||!Xl(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,u,c;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0,_.createElement(tM,Nm({},s,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:Tfe,ref:e}),a)}),Cfe=t=>{var{children:e}=t,n=he(sy);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return _.createElement(tM,{width:r,height:i,x:s,y:a},e)},$k=_.forwardRef((t,e)=>{var{children:n}=t,r=Sfe(t,Efe),i=Zn();return i?_.createElement(Cfe,null,n):_.createElement(Afe,Nm({ref:e},r),n)});function Ife(){var t=St(),[e,n]=_.useState(null),r=he(_Z);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;gr(a)&&a!==r&&t(qJ(a))}},[e,t,r]),n}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Rfe(t,"string");return typeof e=="symbol"?e:e+""}function Rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dfe=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:y,style:w,width:b}=t,v=St(),[E,A]=_.useState(null),[k,D]=_.useState(null);ise();var T=Ife(),P=_.useCallback(X=>{T(X),typeof e=="function"&&e(X),A(X),D(X)},[T,e,A,D]),C=_.useCallback(X=>{v(z4(X)),v(br({handler:a,reactEvent:X}))},[v,a]),I=_.useCallback(X=>{v(Ax(X)),v(br({handler:u,reactEvent:X}))},[v,u]),N=_.useCallback(X=>{v(A$()),v(br({handler:c,reactEvent:X}))},[v,c]),j=_.useCallback(X=>{v(Ax(X)),v(br({handler:d,reactEvent:X}))},[v,d]),O=_.useCallback(()=>{v(Y4())},[v]),H=_.useCallback(X=>{v(G4(X.key))},[v]),B=_.useCallback(X=>{v(br({handler:s,reactEvent:X}))},[v,s]),Z=_.useCallback(X=>{v(br({handler:o,reactEvent:X}))},[v,o]),ne=_.useCallback(X=>{v(br({handler:l,reactEvent:X}))},[v,l]),L=_.useCallback(X=>{v(br({handler:h,reactEvent:X}))},[v,h]),z=_.useCallback(X=>{v(br({handler:y,reactEvent:X}))},[v,y]),re=_.useCallback(X=>{v(X4(X)),v(br({handler:m,reactEvent:X}))},[v,m]),de=_.useCallback(X=>{v(br({handler:p,reactEvent:X}))},[v,p]);return _.createElement(q$.Provider,{value:E},_.createElement(_Q.Provider,{value:k},_.createElement("div",{className:$e("recharts-wrapper",r),style:kfe({position:"relative",cursor:"default",width:b,height:i},w),onClick:C,onContextMenu:B,onDoubleClick:Z,onFocus:O,onKeyDown:H,onMouseDown:ne,onMouseEnter:I,onMouseLeave:N,onMouseMove:j,onMouseUp:L,onTouchEnd:de,onTouchMove:re,onTouchStart:z,ref:P},n)))}),jfe=["children","className","width","height","style","compact","title","desc"];function Mfe(t,e){if(t==null)return{};var n,r,i=Lfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nF=_.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:s,compact:o,title:l,desc:u}=t,c=Mfe(t,jfe),d=ki(c);return o?_.createElement($k,{otherAttributes:d,title:l,desc:u},n):_.createElement(Dfe,{className:r,style:s,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement($k,{otherAttributes:d,title:l,desc:u,ref:e},_.createElement(dce,null,n)))}),Vfe=["width","height"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(null,arguments)}function $fe(t,e){if(t==null)return{};var n,r,i=Ffe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ffe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ufe={top:5,right:5,bottom:5,left:5},Bfe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ufe,reverseStackOrder:!1,syncMethod:"index"},rF=_.forwardRef(function(e,n){var r,i=hn(e.categoricalChartProps,Bfe),{width:a,height:s}=i,o=$fe(i,Vfe);if(!Xl(a)||!Xl(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return _.createElement(Z4,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},_.createElement(O4,{chartData:h.data}),_.createElement(eF,{width:a,height:s,layout:i.layout,margin:i.margin}),_.createElement(tF,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(nF,Cx({},o,{width:a,height:s,ref:n})))}),zfe=["axis"],Wfe=_.forwardRef((t,e)=>_.createElement(rF,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zfe,tooltipPayloadSearcher:PE,categoricalChartProps:t,ref:e})),qfe=["axis","item"],Hfe=_.forwardRef((t,e)=>_.createElement(rF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qfe,tooltipPayloadSearcher:PE,categoricalChartProps:t,ref:e}));function Kfe(t){var e=St();return _.useEffect(()=>{e(yfe(t))},[e,t]),null}var Gfe=["width","height","layout"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(null,arguments)}function Yfe(t,e){if(t==null)return{};var n,r,i=Qfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xfe={top:5,right:5,bottom:5,left:5},Jfe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Zfe=_.forwardRef(function(e,n){var r,i=hn(e.categoricalChartProps,Jfe),{width:a,height:s,layout:o}=i,l=Yfe(i,Gfe);if(!Xl(a)||!Xl(s))return null;var{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return _.createElement(Z4,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},_.createElement(O4,{chartData:i.data}),_.createElement(eF,{width:a,height:s,layout:o,margin:i.margin}),_.createElement(tF,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(Kfe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(nF,Ix({width:a,height:s},l,{ref:n})))}),ehe=["item"],the={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Uk=_.forwardRef((t,e)=>{var n=hn(t,the);return _.createElement(Zfe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ehe,tooltipPayloadSearcher:PE,categoricalChartProps:n,ref:e})});const nhe=()=>{const{user:t}=Ii(),{t:e}=Es(),[n,r]=_.useState([]),[i,a]=_.useState([]),[s,o]=_.useState([]),[l,u]=_.useState(!0),[c,d]=_.useState("all"),[h,p]=_.useState("all"),[m,y]=_.useState(""),[w,b]=_.useState(""),[v,E]=_.useState("all");_.useEffect(()=>{A()},[t]);const A=async()=>{if(t)try{const[L,z,re]=await Promise.all([Yd(t.uid),Mb(t.uid),Ig(t.uid)]);r(L),a(z),o(re)}catch(L){console.error("Error fetching data:",L)}finally{u(!1)}},k=n.filter(L=>{const z=c==="all"||L.type===c,re=h==="all"||L.id===h;let de=!0;if(m&&w){const X=Qu(m),Ee=Qu(w);de=Rw(L.date,{start:X,end:Ee})}return z&&re&&de}),D=i.filter(L=>{const z=v==="all"||v==="received"&&L.received||v==="pending"&&!L.received,re=h==="all"||L.eventId===h;let de=!0;if(m&&w){const X=Qu(m),Ee=Qu(w);de=Rw(L.paymentDate,{start:X,end:Ee})}return z&&re&&de}),T=D.filter(L=>L.received).reduce((L,z)=>L+z.amount,0),P=D.filter(L=>!L.received).reduce((L,z)=>L+z.amount,0),C=k.length,I=s.length,N=Object.entries(k.reduce((L,z)=>(L[z.type]=(L[z.type]||0)+1,L),{})).map(([L,z])=>({name:e(`events.types.${L}`),value:z,color:B(L)})),j=D.filter(L=>L.received).reduce((L,z)=>{const re=Pn(z.paymentDate,"yyyy-MM");return L[re]=(L[re]||0)+z.amount,L},{}),O=Object.entries(j).sort(([L],[z])=>L.localeCompare(z)).map(([L,z])=>({month:Pn(Qu(L+"-01"),"MMM yyyy",{locale:Lb}),amount:z})),H=Object.entries(D.reduce((L,z)=>(L[z.method]=(L[z.method]||0)+z.amount,L),{})).map(([L,z])=>({name:e(`payments.methods.${L}`),value:z,color:Z(L)}));function B(L){return{wedding:"#8B5CF6",debutante:"#EC4899",birthday:"#F59E0B",graduation:"#10B981",other:"#6B7280"}[L]||"#6B7280"}function Z(L){return{pix:"#10B981",card:"#3B82F6",boleto:"#F59E0B",cash:"#6B7280"}[L]||"#6B7280"}const ne=()=>{const L={summary:{totalReceived:T,totalPending:P,totalEvents:C,totalClients:I},events:k,payments:D,generatedAt:new Date().toISOString()},z=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),re=URL.createObjectURL(z),de=document.createElement("a");de.href=re,de.download=`relatorio-${Pn(new Date,"yyyy-MM-dd")}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(re)};return l?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("reports.title")}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Análise detalhada do seu negócio"})]}),g.jsxs(Xt,{onClick:ne,children:[g.jsx(Xq,{size:20,className:"mr-2"}),"Exportar Dados"]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(Jq,{size:20,className:"mr-2 text-gray-600"}),g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria de Evento"}),g.jsxs("select",{value:c,onChange:L=>d(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[g.jsx("option",{value:"all",children:"Todos os Tipos"}),g.jsx("option",{value:"wedding",children:e("events.types.wedding")}),g.jsx("option",{value:"debutante",children:e("events.types.debutante")}),g.jsx("option",{value:"birthday",children:e("events.types.birthday")}),g.jsx("option",{value:"graduation",children:e("events.types.graduation")}),g.jsx("option",{value:"other",children:e("events.types.other")})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Evento Específico"}),g.jsxs("select",{value:h,onChange:L=>p(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[g.jsx("option",{value:"all",children:"Todos os Eventos"}),n.map(L=>g.jsx("option",{value:L.id,children:L.name},L.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),g.jsx("input",{type:"date",value:m,onChange:L=>y(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),g.jsx("input",{type:"date",value:w,onChange:L=>b(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status do Pagamento"}),g.jsxs("select",{value:v,onChange:L=>E(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[g.jsx("option",{value:"all",children:"Todos"}),g.jsx("option",{value:"received",children:"Recebidos"}),g.jsx("option",{value:"pending",children:"Pendentes"})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Recebido"}),g.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e("currency")," ",T.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:g.jsx(fd,{className:"h-6 w-6 text-green-600"})})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pendente"}),g.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[e("currency")," ",P.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:g.jsx(hd,{className:"h-6 w-6 text-orange-600"})})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Eventos"}),g.jsx("p",{className:"text-2xl font-bold text-purple-600",children:C})]}),g.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:g.jsx(ia,{className:"h-6 w-6 text-purple-600"})})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Clientes"}),g.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I})]}),g.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:g.jsx(Cg,{className:"h-6 w-6 text-blue-600"})})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Receita Mensal"}),g.jsx("div",{className:"h-80",children:g.jsx(Sh,{width:"100%",height:"100%",children:g.jsxs(Wfe,{data:O,children:[g.jsx(bx,{strokeDasharray:"3 3"}),g.jsx(Sx,{dataKey:"month"}),g.jsx(Tx,{}),g.jsx(Eh,{formatter:L=>[`${e("currency")} ${L.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Receita"]}),g.jsx(B4,{type:"monotone",dataKey:"amount",stroke:"#8B5CF6",strokeWidth:2})]})})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuição por Tipo de Evento"}),g.jsx("div",{className:"h-80",children:g.jsx(Sh,{width:"100%",height:"100%",children:g.jsxs(Uk,{children:[g.jsx(wx,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:({name:L,percent:z})=>`${L} ${(z*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:N.map((L,z)=>g.jsx(lo,{fill:L.color},`cell-${z}`))}),g.jsx(Eh,{})]})})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Receita por Método de Pagamento"}),g.jsx("div",{className:"h-80",children:g.jsx(Sh,{width:"100%",height:"100%",children:g.jsxs(Hfe,{data:H,children:[g.jsx(bx,{strokeDasharray:"3 3"}),g.jsx(Sx,{dataKey:"name"}),g.jsx(Tx,{}),g.jsx(Eh,{formatter:L=>[`${e("currency")} ${L.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Valor"]}),g.jsx(I4,{dataKey:"value",fill:"#8B5CF6"})]})})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status dos Pagamentos"}),g.jsx("div",{className:"h-80",children:g.jsx(Sh,{width:"100%",height:"100%",children:g.jsxs(Uk,{children:[g.jsxs(wx,{data:[{name:"Recebido",value:T,color:"#10B981"},{name:"Pendente",value:P,color:"#F59E0B"}],cx:"50%",cy:"50%",labelLine:!1,label:({name:L,percent:z})=>`${L} ${(z*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[g.jsx(lo,{fill:"#10B981"}),g.jsx(lo,{fill:"#F59E0B"})]}),g.jsx(Eh,{formatter:L=>[`${e("currency")} ${L.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Valor"]})]})})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Eventos com Maior Receita"}),g.jsx("div",{className:"space-y-3",children:k.sort((L,z)=>z.contractTotal-L.contractTotal).slice(0,5).map(L=>g.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-900",children:L.name}),g.jsx("p",{className:"text-sm text-gray-600",children:L.clientName})]}),g.jsxs("p",{className:"font-bold text-gray-900",children:[e("currency")," ",L.contractTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},L.id))})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pagamentos Recentes"}),g.jsx("div",{className:"space-y-3",children:D.sort((L,z)=>z.paymentDate.getTime()-L.paymentDate.getTime()).slice(0,5).map(L=>g.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-900",children:L.eventName}),g.jsxs("p",{className:"text-sm text-gray-600",children:[Pn(L.paymentDate,"dd/MM/yyyy")," • ",e(`payments.methods.${L.method}`)]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-bold text-gray-900",children:[e("currency")," ",L.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),g.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${L.received?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:L.received?"Recebido":"Pendente"})]})]},L.id))})]})]})]})};function rhe(){return g.jsx(Oq,{children:g.jsx(_B,{children:g.jsxs(JU,{children:[g.jsx(Sa,{path:"/",element:g.jsx(aH,{})}),g.jsx(Sa,{path:"/dashboard",element:g.jsx(Ho,{children:g.jsx(Ko,{children:g.jsx(OY,{})})})}),g.jsx(Sa,{path:"/clients",element:g.jsx(Ho,{children:g.jsx(Ko,{children:g.jsx(eQ,{})})})}),g.jsx(Sa,{path:"/events",element:g.jsx(Ho,{children:g.jsx(Ko,{children:g.jsx(nQ,{})})})}),g.jsx(Sa,{path:"/payments",element:g.jsx(Ho,{children:g.jsx(Ko,{children:g.jsx(rQ,{})})})}),g.jsx(Sa,{path:"/calendar",element:g.jsx(Ho,{children:g.jsx(Ko,{children:g.jsx(iQ,{})})})}),g.jsx(Sa,{path:"/reports",element:g.jsx(Ho,{children:g.jsx(Ko,{children:g.jsx(nhe,{})})})})]})})})}const ve=t=>typeof t=="string",lc=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},Bk=t=>t==null?"":""+t,ihe=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},ahe=/###/g,zk=t=>t&&t.indexOf("###")>-1?t.replace(ahe,"."):t,Wk=t=>!t||ve(t),Vc=(t,e,n)=>{const r=ve(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Wk(t))return{};const a=zk(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return Wk(t)?{}:{obj:t,k:zk(r[i])}},qk=(t,e,n)=>{const{obj:r,k:i}=Vc(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=Vc(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=Vc(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},she=(t,e,n,r)=>{const{obj:i,k:a}=Vc(t,e,Object);i[a]=i[a]||[],i[a].push(n)},Rm=(t,e)=>{const{obj:n,k:r}=Vc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},ohe=(t,e,n)=>{const r=Rm(t,n);return r!==void 0?r:Rm(e,n)},iF=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ve(t[r])||t[r]instanceof String||ve(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):iF(t[r],e[r],n):t[r]=e[r]);return t},Xo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var lhe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const uhe=t=>ve(t)?t.replace(/[&<>"'\/]/g,e=>lhe[e]):t;class che{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const dhe=[" ",",","?","!",";"],fhe=new che(20),hhe=(t,e,n)=>{e=e||"",n=n||"";const r=dhe.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=fhe.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},kx=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},Ad=t=>t==null?void 0:t.replace("_","-"),phe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Dm{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||phe,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(ve(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Dm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Dm(this.logger,e)}}var hi=new Dm;class Ty{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}}class Hk extends Ty{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var u,c;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):ve(r)&&a?o.push(...r.split(a)):o.push(r)));const l=Rm(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!ve(r)?l:kx((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),qk(this.data,o,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(ve(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=Rm(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?iF(l,r,a):l={...l,...r},qk(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var aF={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,n,r,i))??e}),e}};const sF=Symbol("i18next/PATH_KEY");function mhe(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===sF?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Ox(t,e){const{[sF]:n}=t(mhe());return n.join((e==null?void 0:e.keySeparator)??".")}const Kk={},Gk=t=>!ve(t)&&typeof t!="boolean"&&typeof t!="number";class jm extends Ty{constructor(e,n={}){super(),ihe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=hi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!hhe(e,r,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ve(a)?[a]:a};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return{key:e,namespaces:ve(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Ox(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),u=l[l.length-1];let c=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${u}${c}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${c}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let m=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||o,w=(p==null?void 0:p.exactUsedKey)||o,b=["[object Number]","[object Function]","[object RegExp]"],v=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,A=i.count!==void 0&&!ve(i.count),k=jm.hasDefaultValue(i),D=A?this.pluralResolver.getSuffix(d,i.count,i):"",T=i.ordinal&&A?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",P=A&&!i.ordinal&&i.count===0,C=P&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${D}`]||i[`defaultValue${T}`]||i.defaultValue;let I=m;E&&!m&&k&&(I=C);const N=Gk(I),j=Object.prototype.toString.apply(I);if(E&&I&&N&&b.indexOf(j)<0&&!(ve(v)&&Array.isArray(I))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,I,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=O,p.usedParams=this.getUsedParamsDetails(i),p):O}if(s){const O=Array.isArray(I),H=O?[]:{},B=O?w:y;for(const Z in I)if(Object.prototype.hasOwnProperty.call(I,Z)){const ne=`${B}${s}${Z}`;k&&!m?H[Z]=this.translate(ne,{...i,defaultValue:Gk(C)?C[Z]:void 0,joinArrays:!1,ns:l}):H[Z]=this.translate(ne,{...i,joinArrays:!1,ns:l}),H[Z]===ne&&(H[Z]=I[Z])}m=H}}else if(E&&ve(v)&&Array.isArray(m))m=m.join(v),m&&(m=this.extendTranslation(m,e,i,r));else{let O=!1,H=!1;!this.isValidLookup(m)&&k&&(O=!0,m=C),this.isValidLookup(m)||(H=!0,m=o);const Z=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:m,ne=k&&C!==m&&this.options.updateMissing;if(H||O||ne){if(this.logger.log(ne?"updateKey":"missingKey",d,u,o,ne?C:m),s){const de=this.resolve(o,{...i,keySeparator:!1});de&&de.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let de=0;de<z.length;de++)L.push(z[de]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(i.lng||this.language):L.push(i.lng||this.language);const re=(de,X,Ee)=>{var G;const Tt=k&&Ee!==m?Ee:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(de,u,X,Tt,ne,i):(G=this.backendConnector)!=null&&G.saveMissing&&this.backendConnector.saveMissing(de,u,X,Tt,ne,i),this.emit("missingKey",de,u,X,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?L.forEach(de=>{const X=this.pluralResolver.getSuffixes(de,i);P&&i[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(Ee=>{re([de],o+Ee,i[`defaultValue${Ee}`]||C)})}):re(L,o,C))}m=this.extendTranslation(m,e,i,p,r),H&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${u}${c}${o}`),(H||O)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${o}`:o,O?m:void 0,i))}return a?(p.res=m,p.usedParams=this.getUsedParamsDetails(i),p):m}extendTranslation(e,n,r,i,a){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=ve(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!ve(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),c){const p=e.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=ve(s)?[s]:s;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=aF.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,o;return ve(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!ve(n.count),p=h&&!n.ordinal&&n.count===0,m=n.context!==void 0&&(ve(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(w=>{var b,v;this.isValidLookup(r)||(o=w,!Kk[`${y[0]}-${w}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((v=this.utils)!=null&&v.hasLoadedNamespace(o))&&(Kk[`${y[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(E=>{var D;if(this.isValidLookup(r))return;s=E;const A=[c];if((D=this.i18nFormat)!=null&&D.addLookupKeys)this.i18nFormat.addLookupKeys(A,c,E,w,n);else{let T;h&&(T=this.pluralResolver.getSuffix(E,n.count,n));const P=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&T.indexOf(C)===0&&A.push(c+T.replace(C,this.options.pluralSeparator)),A.push(c+T),p&&A.push(c+P)),m){const I=`${c}${this.options.contextSeparator||"_"}${n.context}`;A.push(I),h&&(n.ordinal&&T.indexOf(C)===0&&A.push(I+T.replace(C,this.options.pluralSeparator)),A.push(I+T),p&&A.push(I+P))}}let k;for(;k=A.pop();)this.isValidLookup(r)||(a=k,r=this.getResource(E,w,k,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ve(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Yk{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=hi.create("languageUtils")}getScriptPartFromCode(e){if(e=Ad(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ad(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ve(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ve(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return ve(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):ve(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const Qk={zero:0,one:1,two:2,few:3,many:4,other:5},Xk={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ghe{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=hi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Ad(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Xk;if(!e.match(/-|_/))return Xk;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>Qk[i]-Qk[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Jk=(t,e,n,r=".",i=!0)=>{let a=ohe(t,e,n);return!a&&i&&ve(n)&&(a=kx(t,n,r),a===void 0&&(a=kx(e,n,r))),a},s0=t=>t.replace(/\$/g,"$$$$");class yhe{constructor(e={}){var n;this.logger=hi.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:y,nestingOptionsSeparator:w,maxReplaces:b,alwaysFormat:v}=e.interpolation;this.escape=n!==void 0?n:uhe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Xo(a):s||"{{",this.suffix=o?Xo(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?Xo(h):p||Xo("$t("),this.nestingSuffix=m?Xo(m):y||Xo(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=b||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const v=Jk(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,{...i,...n,interpolationkey:m}):v}const y=m.split(this.formatSeparator),w=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(Jk(n,l,w,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...i,...n,interpolationkey:w})};this.resetRegExp();const c=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>s0(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?s0(this.escape(m)):s0(m)}].forEach(m=>{for(o=0;a=m.regex.exec(e);){const y=a[1].trim();if(s=u(y),s===void 0)if(typeof c=="function"){const b=c(e,a,i);s=ve(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),s="";else!ve(s)&&!this.useRawValueToEscape&&(s=Bk(s));const w=m.safeValue(s);if(e=e.replace(a[0],w),d?(m.regex.lastIndex+=s.length,m.regex.lastIndex-=a[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const p=h.match(/'/g),m=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!m||m.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),u&&(s={...u,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${c}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!ve(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(l=i[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!ve(a))return a;ve(a)||(a=Bk(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((c,d)=>this.format(c,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const vhe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Zk=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=e[s];return o||(o=t(Ad(r),i),e[s]=o),o(n)}},whe=t=>(e,n,r)=>t(Ad(n),r)(e);class xhe{constructor(e={}){this.logger=hi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Zk:whe;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return o=>s.format(o)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>s.format(o)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return o=>s.format(o)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return o=>s.format(o,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Zk(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var d;const{formatName:u,formatOptions:c}=vhe(l);if(this.formats[u]){let h=o;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},m=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[u](o,m,{...c,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const _he=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class bhe extends Ty{constructor(e,n,r,i={}){var a,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=hi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},o={},l={};return e.forEach(u=>{let c=!0;n.forEach(d=>{const h=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,c=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(o[u]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{she(l.loaded,[a],s),_he(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ve(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ve(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,i,a,s={},o=()=>{}){var l,u,c,d,h;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...s,isUpdate:a},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,n,r,i,p):y=m(e,n,r,i),y&&typeof y.then=="function"?y.then(w=>o(null,w)).catch(o):o(null,y)}catch(y){o(y)}else m(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const eO=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ve(t[1])&&(e.defaultValue=t[1]),ve(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),tO=t=>{var e,n;return ve(t.ns)&&(t.ns=[t.ns]),ve(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ve(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Th=()=>{},Ehe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Cd extends Ty{constructor(e={},n){if(super(),this.options=tO(e),this.services={},this.logger=hi,this.modules={external:[]},Ehe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ve(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=eO();this.options={...r,...this.options,...tO(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?hi.init(i(this.modules.logger),this.options):hi.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=xhe;const c=new Yk(this.options);this.store=new Hk(this.options.resources,this.options);const d=this.services;d.logger=hi,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new ghe(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new yhe(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new bhe(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...m)=>{this.emit(p,...m)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new jm(this.services,this.options),this.translator.on("*",(p,...m)=>{this.emit(p,...m)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Th),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...c)=>this.store[u](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...c)=>(this.store[u](...c),this)});const o=lc(),l=()=>{const u=(c,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(c,d)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=Th){var a,s;let r=n;const i=ve(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=lc();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Th),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&aF.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=lc();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(o,(...u)=>this.t(...u))},s=o=>{var c,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=ve(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(ve(o)?[o]:o);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(d=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||d.call(c,u)),this.loadResources(u,h=>{a(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([a,s].concat(o)):l={...s},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(a)?c=a.map(d=>(typeof d=="function"&&(d=Ox(d,{...this.options,...s})),`${l.keyPrefix}${u}${d}`)):(typeof a=="function"&&(a=Ox(a,{...this.options,...s})),c=l.keyPrefix?`${l.keyPrefix}${u}${a}`:a),this.t(c,l)};return ve(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=lc();return this.options.ns?(ve(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=lc();ve(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new Yk(eO());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Cd(e,n)}cloneInstance(e={},n=Th){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Cd(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((c,d)=>(c[d]={...l[u][d]},c),l[u]),l),{});a.store=new Hk(o,i),a.services.resourceStore=a.store}return a.translator=new jm(a.services,i),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const In=Cd.createInstance();In.createInstance=Cd.createInstance;In.createInstance;In.dir;In.init;In.loadResources;In.reloadResources;In.use;In.changeLanguage;In.getFixedT;In.t;In.exists;In.setDefaultNamespace;In.hasLoadedNamespace;In.loadNamespaces;In.loadLanguages;const{slice:She,forEach:Phe}=[];function The(t){return Phe.call(She.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function Ahe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const nO=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Che=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!nO.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!nO.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},rO={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=Che(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var Ihe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return rO.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&rO.create(n,t,r,i,a)}},khe={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(n=s[o].substring(l+1))}}return n}},Ohe={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const u=o[l].indexOf("=");u>0&&o[l].substring(0,u)===e&&(r=o[l].substring(u+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Jo=null;const iO=()=>{if(Jo!==null)return Jo;try{if(Jo=typeof window<"u"&&window.localStorage!==null,!Jo)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Jo=!1}return Jo};var Nhe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&iO())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&iO()&&window.localStorage.setItem(n,t)}};let Zo=null;const aO=()=>{if(Zo!==null)return Zo;try{if(Zo=typeof window<"u"&&window.sessionStorage!==null,!Zo)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Zo=!1}return Zo};var Rhe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&aO())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&aO()&&window.sessionStorage.setItem(n,t)}},Dhe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},jhe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Mhe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},Lhe={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let oF=!1;try{document.cookie,oF=!0}catch{}const lF=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];oF||lF.splice(1,1);const Vhe=()=>({order:lF,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class uF{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=The(n,this.options||{},Vhe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Ihe),this.addDetector(khe),this.addDetector(Nhe),this.addDetector(Rhe),this.addDetector(Dhe),this.addDetector(jhe),this.addDetector(Mhe),this.addDetector(Lhe),this.addDetector(Ohe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!Ahe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}uF.type="languageDetector";const $he={loading:"Loading...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",create:"Create",update:"Update",search:"Search",add:"Add",close:"Close",confirm:"Confirm",yes:"Yes",no:"No",total:"Total",status:"Status",date:"Date",amount:"Amount",notes:"Notes",actions:"Actions"},Fhe={dashboard:"Dashboard",clients:"Clients",events:"Events",payments:"Payments",calendar:"Calendar",reports:"Reports",logout:"Logout"},Uhe={title:"EventsOrganizze",subtitle:"Organize your events and keep financial control simple and efficient. The complete solution for ceremonialists and decoration companies.",loginWithGoogle:"Login with Google",readyToStart:"Ready to get started?",signInMessage:"Sign in with your Google account and start organizing your events today.",features:{clientManagement:{title:"Client Management",description:"Keep all your client information organized and easily accessible"},eventPlanning:{title:"Event Planning",description:"Plan and track all your events with detailed information and status"},financialControl:{title:"Financial Control",description:"Track payments, installments, and maintain complete financial control"},reportsAnalytics:{title:"Reports & Analytics",description:"Generate detailed reports and gain insights into your business"}}},Bhe={title:"Dashboard",welcome:"Welcome back, {{name}}! Here's your business overview.",receivedThisMonth:"Received This Month",pendingPayments:"Pending Payments",totalClients:"Total Clients",activeEvents:"Active Events",upcomingEvents:"Upcoming Events",paymentsDueSoon:"Payments Due Soon",noUpcomingEvents:"No upcoming events",noPaymentsDue:"No payments due soon",newClient:"New Client",newEvent:"New Event",due:"Due"},zhe={title:"Clients",subtitle:"Manage your client database",addClient:"Add Client",editClient:"Edit Client",addNewClient:"Add New Client",searchClients:"Search clients...",noClientsFound:"No clients found",deleteConfirm:"Are you sure you want to delete this client?",fields:{name:"Name",phone:"Phone",email:"Email",notes:"Notes"},validation:{nameRequired:"Name is required",phoneRequired:"Phone is required",emailRequired:"Email is required",emailInvalid:"Invalid email address"}},Whe={title:"Events",subtitle:"Manage your event portfolio",addEvent:"Add Event",editEvent:"Edit Event",addNewEvent:"Add New Event",searchEvents:"Search events...",noEventsFound:"No events found",deleteConfirm:"Are you sure you want to delete this event?",allStatus:"All Status",types:{wedding:"Wedding",debutante:"Debutante",birthday:"Birthday",graduation:"Graduation",other:"Other"},status:{planning:"Planning",confirmed:"Confirmed",completed:"Completed",canceled:"Canceled"},fields:{client:"Client",eventType:"Event Type",eventName:"Event Name",eventDate:"Event Date",location:"Location",contractTotal:"Contract Total",additionalDetails:"Additional Details",selectClient:"Select a client",selectEventType:"Select event type"},validation:{clientRequired:"Client is required",typeRequired:"Event type is required",nameRequired:"Event name is required",dateRequired:"Event date is required",locationRequired:"Location is required",contractRequired:"Contract total is required",statusRequired:"Status is required",amountPositive:"Amount must be positive"}},qhe={title:"Payments",subtitle:"Track all your event payments",addPayment:"Add Payment",editPayment:"Edit Payment",addNewPayment:"Add New Payment",searchPayments:"Search payments...",noPaymentsFound:"No payments found",deleteConfirm:"Are you sure you want to delete this payment?",totalReceived:"Total Received",pendingPayments:"Pending Payments",totalPayments:"Total Payments",paymentList:"Payment List",allPayments:"All Payments",received:"Received",pending:"Pending",paymentReceived:"Payment received",methods:{pix:"PIX",card:"Card",boleto:"Boleto",cash:"Cash"},fields:{event:"Event",paymentDate:"Payment Date",paymentMethod:"Payment Method",selectEvent:"Select an event",selectPaymentMethod:"Select payment method"},validation:{eventRequired:"Event is required",amountRequired:"Amount is required",dateRequired:"Payment date is required",methodRequired:"Payment method is required",amountPositive:"Amount must be positive"}},Hhe={title:"Calendar",subtitle:"Calendar view coming soon..."},Khe={title:"Reports",subtitle:"Reports and analytics coming soon..."},Ghe="R$",Yhe={common:$he,navigation:Fhe,landing:Uhe,dashboard:Bhe,clients:zhe,events:Whe,payments:qhe,calendar:Hhe,reports:Khe,currency:Ghe},Qhe={loading:"Carregando...",save:"Salvar",cancel:"Cancelar",edit:"Editar",delete:"Excluir",create:"Criar",update:"Atualizar",search:"Pesquisar",add:"Adicionar",close:"Fechar",confirm:"Confirmar",yes:"Sim",no:"Não",total:"Total",status:"Status",date:"Data",amount:"Valor",notes:"Observações",actions:"Ações"},Xhe={dashboard:"Dashboard",clients:"Clientes",events:"Eventos",payments:"Pagamentos",calendar:"Calendário",reports:"Relatórios",logout:"Sair"},Jhe={title:"EventsOrganizze",subtitle:"Organize seus eventos e mantenha o controle financeiro de forma simples e eficiente. A solução completa para cerimonialistas e empresas de decoração.",loginWithGoogle:"Entrar com Google",readyToStart:"Pronto para começar?",signInMessage:"Entre com sua conta Google e comece a organizar seus eventos hoje mesmo.",features:{clientManagement:{title:"Gestão de Clientes",description:"Mantenha todas as informações dos seus clientes organizadas e facilmente acessíveis"},eventPlanning:{title:"Planejamento de Eventos",description:"Planeje e acompanhe todos os seus eventos com informações detalhadas e status"},financialControl:{title:"Controle Financeiro",description:"Acompanhe pagamentos, parcelas e mantenha controle financeiro completo"},reportsAnalytics:{title:"Relatórios e Análises",description:"Gere relatórios detalhados e obtenha insights sobre seu negócio"}}},Zhe={title:"Dashboard",welcome:"Bem-vindo de volta, {{name}}! Aqui está a visão geral do seu negócio.",receivedThisMonth:"Recebido Este Mês",pendingPayments:"Pagamentos Pendentes",totalClients:"Total de Clientes",activeEvents:"Eventos Ativos",upcomingEvents:"Próximos Eventos",paymentsDueSoon:"Pagamentos Próximos do Vencimento",noUpcomingEvents:"Nenhum evento próximo",noPaymentsDue:"Nenhum pagamento próximo do vencimento",newClient:"Novo Cliente",newEvent:"Novo Evento",due:"Vencimento"},epe={title:"Clientes",subtitle:"Gerencie sua base de clientes",addClient:"Adicionar Cliente",editClient:"Editar Cliente",addNewClient:"Adicionar Novo Cliente",searchClients:"Pesquisar clientes...",noClientsFound:"Nenhum cliente encontrado",deleteConfirm:"Tem certeza que deseja excluir este cliente?",fields:{name:"Nome",phone:"Telefone",email:"E-mail",notes:"Observações"},validation:{nameRequired:"Nome é obrigatório",phoneRequired:"Telefone é obrigatório",emailRequired:"E-mail é obrigatório",emailInvalid:"E-mail inválido"}},tpe={title:"Eventos",subtitle:"Gerencie seu portfólio de eventos",addEvent:"Adicionar Evento",editEvent:"Editar Evento",addNewEvent:"Adicionar Novo Evento",searchEvents:"Pesquisar eventos...",noEventsFound:"Nenhum evento encontrado",deleteConfirm:"Tem certeza que deseja excluir este evento?",allStatus:"Todos os Status",types:{wedding:"Casamento",debutante:"Debutante",birthday:"Aniversário",graduation:"Formatura",other:"Outro"},status:{planning:"Planejamento",confirmed:"Confirmado",completed:"Concluído",canceled:"Cancelado"},fields:{client:"Cliente",eventType:"Tipo de Evento",eventName:"Nome do Evento",eventDate:"Data do Evento",location:"Local",contractTotal:"Total do Contrato",additionalDetails:"Detalhes Adicionais",selectClient:"Selecione um cliente",selectEventType:"Selecione o tipo de evento"},validation:{clientRequired:"Cliente é obrigatório",typeRequired:"Tipo de evento é obrigatório",nameRequired:"Nome do evento é obrigatório",dateRequired:"Data do evento é obrigatória",locationRequired:"Local é obrigatório",contractRequired:"Total do contrato é obrigatório",statusRequired:"Status é obrigatório",amountPositive:"Valor deve ser positivo"}},npe={title:"Pagamentos",subtitle:"Acompanhe todos os pagamentos dos eventos",addPayment:"Adicionar Pagamento",editPayment:"Editar Pagamento",addNewPayment:"Adicionar Novo Pagamento",searchPayments:"Pesquisar pagamentos...",noPaymentsFound:"Nenhum pagamento encontrado",deleteConfirm:"Tem certeza que deseja excluir este pagamento?",totalReceived:"Total Recebido",pendingPayments:"Pagamentos Pendentes",totalPayments:"Total de Pagamentos",paymentList:"Lista de Pagamentos",allPayments:"Todos os Pagamentos",received:"Recebido",pending:"Pendente",paymentReceived:"Pagamento recebido",methods:{pix:"PIX",card:"Cartão",boleto:"Boleto",cash:"Dinheiro"},fields:{event:"Evento",paymentDate:"Data do Pagamento",paymentMethod:"Método de Pagamento",selectEvent:"Selecione um evento",selectPaymentMethod:"Selecione o método de pagamento"},validation:{eventRequired:"Evento é obrigatório",amountRequired:"Valor é obrigatório",dateRequired:"Data do pagamento é obrigatória",methodRequired:"Método de pagamento é obrigatório",amountPositive:"Valor deve ser positivo"}},rpe={title:"Calendário",subtitle:"Visualização do calendário em breve..."},ipe={title:"Relatórios",subtitle:"Relatórios e análises em breve..."},ape="R$",spe={common:Qhe,navigation:Xhe,landing:Jhe,dashboard:Zhe,clients:epe,events:tpe,payments:npe,calendar:rpe,reports:ipe,currency:ape},ope={loading:"Cargando...",save:"Guardar",cancel:"Cancelar",edit:"Editar",delete:"Eliminar",create:"Crear",update:"Actualizar",search:"Buscar",add:"Agregar",close:"Cerrar",confirm:"Confirmar",yes:"Sí",no:"No",total:"Total",status:"Estado",date:"Fecha",amount:"Cantidad",notes:"Notas",actions:"Acciones"},lpe={dashboard:"Panel",clients:"Clientes",events:"Eventos",payments:"Pagos",calendar:"Calendario",reports:"Informes",logout:"Cerrar Sesión"},upe={title:"EventsOrganizze",subtitle:"Organiza tus eventos y mantén el control financiero de forma simple y eficiente. La solución completa para ceremonialistas y empresas de decoración.",loginWithGoogle:"Iniciar Sesión con Google",readyToStart:"¿Listo para comenzar?",signInMessage:"Inicia sesión con tu cuenta de Google y comienza a organizar tus eventos hoy mismo.",features:{clientManagement:{title:"Gestión de Clientes",description:"Mantén toda la información de tus clientes organizada y fácilmente accesible"},eventPlanning:{title:"Planificación de Eventos",description:"Planifica y rastrea todos tus eventos con información detallada y estado"},financialControl:{title:"Control Financiero",description:"Rastrea pagos, cuotas y mantén control financiero completo"},reportsAnalytics:{title:"Informes y Análisis",description:"Genera informes detallados y obtén información sobre tu negocio"}}},cpe={title:"Panel",welcome:"¡Bienvenido de vuelta, {{name}}! Aquí está la visión general de tu negocio.",receivedThisMonth:"Recibido Este Mes",pendingPayments:"Pagos Pendientes",totalClients:"Total de Clientes",activeEvents:"Eventos Activos",upcomingEvents:"Próximos Eventos",paymentsDueSoon:"Pagos Próximos a Vencer",noUpcomingEvents:"No hay eventos próximos",noPaymentsDue:"No hay pagos próximos a vencer",newClient:"Nuevo Cliente",newEvent:"Nuevo Evento",due:"Vencimiento"},dpe={title:"Clientes",subtitle:"Gestiona tu base de datos de clientes",addClient:"Agregar Cliente",editClient:"Editar Cliente",addNewClient:"Agregar Nuevo Cliente",searchClients:"Buscar clientes...",noClientsFound:"No se encontraron clientes",deleteConfirm:"¿Estás seguro de que quieres eliminar este cliente?",fields:{name:"Nombre",phone:"Teléfono",email:"Correo Electrónico",notes:"Notas"},validation:{nameRequired:"El nombre es obligatorio",phoneRequired:"El teléfono es obligatorio",emailRequired:"El correo electrónico es obligatorio",emailInvalid:"Correo electrónico inválido"}},fpe={title:"Eventos",subtitle:"Gestiona tu portafolio de eventos",addEvent:"Agregar Evento",editEvent:"Editar Evento",addNewEvent:"Agregar Nuevo Evento",searchEvents:"Buscar eventos...",noEventsFound:"No se encontraron eventos",deleteConfirm:"¿Estás seguro de que quieres eliminar este evento?",allStatus:"Todos los Estados",types:{wedding:"Boda",debutante:"Quinceañera",birthday:"Cumpleaños",graduation:"Graduación",other:"Otro"},status:{planning:"Planificación",confirmed:"Confirmado",completed:"Completado",canceled:"Cancelado"},fields:{client:"Cliente",eventType:"Tipo de Evento",eventName:"Nombre del Evento",eventDate:"Fecha del Evento",location:"Ubicación",contractTotal:"Total del Contrato",additionalDetails:"Detalles Adicionales",selectClient:"Selecciona un cliente",selectEventType:"Selecciona el tipo de evento"},validation:{clientRequired:"El cliente es obligatorio",typeRequired:"El tipo de evento es obligatorio",nameRequired:"El nombre del evento es obligatorio",dateRequired:"La fecha del evento es obligatoria",locationRequired:"La ubicación es obligatoria",contractRequired:"El total del contrato es obligatorio",statusRequired:"El estado es obligatorio",amountPositive:"La cantidad debe ser positiva"}},hpe={title:"Pagos",subtitle:"Rastrea todos los pagos de eventos",addPayment:"Agregar Pago",editPayment:"Editar Pago",addNewPayment:"Agregar Nuevo Pago",searchPayments:"Buscar pagos...",noPaymentsFound:"No se encontraron pagos",deleteConfirm:"¿Estás seguro de que quieres eliminar este pago?",totalReceived:"Total Recibido",pendingPayments:"Pagos Pendientes",totalPayments:"Total de Pagos",paymentList:"Lista de Pagos",allPayments:"Todos los Pagos",received:"Recibido",pending:"Pendiente",paymentReceived:"Pago recibido",methods:{pix:"PIX",card:"Tarjeta",boleto:"Boleto",cash:"Efectivo"},fields:{event:"Evento",paymentDate:"Fecha de Pago",paymentMethod:"Método de Pago",selectEvent:"Selecciona un evento",selectPaymentMethod:"Selecciona el método de pago"},validation:{eventRequired:"El evento es obligatorio",amountRequired:"La cantidad es obligatoria",dateRequired:"La fecha de pago es obligatoria",methodRequired:"El método de pago es obligatorio",amountPositive:"La cantidad debe ser positiva"}},ppe={title:"Calendario",subtitle:"Vista de calendario próximamente..."},mpe={title:"Informes",subtitle:"Informes y análisis próximamente..."},gpe="$",ype={common:ope,navigation:lpe,landing:upe,dashboard:cpe,clients:dpe,events:fpe,payments:hpe,calendar:ppe,reports:mpe,currency:gpe};In.use(uF).use(zq).init({resources:{en:{translation:Yhe},pt:{translation:spe},es:{translation:ype}},fallbackLng:"en",detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},interpolation:{escapeValue:!1}});wR(document.getElementById("root")).render(g.jsx(_.StrictMode,{children:g.jsx(rhe,{})}));
